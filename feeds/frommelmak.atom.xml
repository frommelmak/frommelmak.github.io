<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>frommelmak - frommelmak</title><link href="https://frommelmak.com/" rel="alternate"></link><link href="https://frommelmak.com/feeds/frommelmak.atom.xml" rel="self"></link><id>https://frommelmak.com/</id><updated>2020-01-20T16:06:00+01:00</updated><subtitle>Yet another Melmacian interested in technology...</subtitle><entry><title>Force an old version of TLS</title><link href="https://frommelmak.com/force-an-old-version-of-tls.html" rel="alternate"></link><published>2020-01-20T16:06:00+01:00</published><updated>2020-01-20T16:06:00+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2020-01-20:/force-an-old-version-of-tls.html</id><summary type="html">&lt;p&gt;If you -for whatever reason- need to force the old &lt;span class="caps"&gt;TLS&lt;/span&gt;-1.0, you can put the folllowing line en  the Apache&amp;#8217;s &lt;code&gt;/etc/apache2/mods-enabled/ssl.conf&lt;/code&gt; file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;SSLProtocol All -TLSv1.1 -TLSv1.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: &lt;span class="caps"&gt;TLS&lt;/span&gt;-1.0 is broken and is considered insecure. This version of the protocol …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you -for whatever reason- need to force the old &lt;span class="caps"&gt;TLS&lt;/span&gt;-1.0, you can put the folllowing line en  the Apache&amp;#8217;s &lt;code&gt;/etc/apache2/mods-enabled/ssl.conf&lt;/code&gt; file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;SSLProtocol All -TLSv1.1 -TLSv1.2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;em&gt;Note&lt;/em&gt;: &lt;span class="caps"&gt;TLS&lt;/span&gt;-1.0 is broken and is considered insecure. This version of the protocol will be rejected by the major browsers at some point during the current year.
So, use this trick at your own risk. Tested on Ubuntu&amp;nbsp;12.04.&lt;/p&gt;</content><category term="English"></category><category term="apache"></category><category term="ssl"></category><category term="tls"></category></entry><entry><title>Nginx’s map module to deal with real life problems</title><link href="https://frommelmak.com/nginxs-map-module-to-deal-with-real-life-problems.html" rel="alternate"></link><published>2019-09-25T19:38:00+02:00</published><updated>2019-09-25T19:38:00+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2019-09-25:/nginxs-map-module-to-deal-with-real-life-problems.html</id><summary type="html">&lt;p&gt;I&amp;#8217;ll try to show you how to use nginx&amp;#8217;s log and map modules to put different header values from the http requests into the same place in the log&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;Imagine you have two kind of http request. One provides some info in an optional http header (like …&lt;/p&gt;</summary><content type="html">&lt;p&gt;I&amp;#8217;ll try to show you how to use nginx&amp;#8217;s log and map modules to put different header values from the http requests into the same place in the log&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;Imagine you have two kind of http request. One provides some info in an optional http header (like referer), since the other put the same info in a custom header (like&amp;nbsp;client).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;curl --referer client-xxx http://someserver/some_resource&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;curl --header &amp;quot;client: client-xxx&amp;quot; http://someserver/someresource&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nginx sets incoming headers to variables so you can use $http_referer and $http_client in the log_format&amp;nbsp;definition&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;log_format my_format &amp;#39;$msec|$bytes_sent|$http_referer|$remote_addr|$uri&amp;#39;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;or&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;log_format my_format &amp;#39;$msec|$bytes_sent|$http_client|$remote_addr|$uri&amp;#39;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But, what if you want to use the referer header for requests whose include it and client one for the rest&amp;nbsp;?&lt;/p&gt;
&lt;p&gt;I mean: What if If you want to put the &amp;#8220;client&amp;#8221; value in the logs always in the same position regardless where the request came from&amp;nbsp;? &lt;/p&gt;
&lt;p&gt;Since the info comes from different varialbes: $http_referer and $http_client, you can&amp;#8217;t use it in the same position in the log_format definition. But no worries, this is where the Nginx&amp;#8217;s &amp;#8220;map&amp;#8221; module comes to the&amp;nbsp;rescue.&lt;/p&gt;
&lt;p&gt;The map module allows you to asign conditional values to a new custom variable. Something like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;map&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;http_referer&lt;/span&gt; &lt;span class="o"&gt;$&lt;/span&gt;&lt;span class="n"&gt;new_var&lt;/span&gt; &lt;span class="p"&gt;{&lt;/span&gt;
  &lt;span class="n"&gt;string_pattern1&lt;/span&gt; &lt;span class="n"&gt;value1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;string_pattern2&lt;/span&gt; &lt;span class="n"&gt;value2&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;regexp1&lt;/span&gt; &lt;span class="n"&gt;value3&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;regexp2&lt;/span&gt; &lt;span class="n"&gt;value4&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="n"&gt;default&lt;/span&gt; &lt;span class="n"&gt;value5&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="p"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Values can be setted using an existing var, so you can do something like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;  &lt;span class="k"&gt;map&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;http_referer&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt; &lt;span class="err"&gt;{&lt;/span&gt;
    &lt;span class="o"&gt;~^&lt;/span&gt;&lt;span class="n"&gt;client&lt;/span&gt;&lt;span class="o"&gt;-*&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;http_referer&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
    &lt;span class="k"&gt;default&lt;/span&gt; &lt;span class="err"&gt;$&lt;/span&gt;&lt;span class="n"&gt;http_client&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
  &lt;span class="err"&gt;}&lt;/span&gt;

&lt;span class="n"&gt;log_format&lt;/span&gt; &lt;span class="n"&gt;my_format&lt;/span&gt; &lt;span class="s1"&gt;&amp;#39;$msec|$bytes_sent|$client|$remote_addr|$uri&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If the referer exists and starts with the pattern &amp;#8220;client-&amp;#8220;, then the value is assigned to a new var called $client if not, the client header will be used as the value of the new $client&amp;nbsp;var.&lt;/p&gt;
&lt;p&gt;The new $client var will be used in our log_format&amp;nbsp;definition.&lt;/p&gt;
&lt;p&gt;Beatifull and powerfull right&amp;nbsp;?&lt;/p&gt;</content><category term="English"></category><category term="nginx"></category><category term="logs"></category></entry><entry><title>Increase volume size using Elastic Volumes</title><link href="https://frommelmak.com/increase-volume-size-using-elastic-volumes.html" rel="alternate"></link><published>2018-12-31T06:15:00+01:00</published><updated>2018-12-31T06:15:00+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2018-12-31:/increase-volume-size-using-elastic-volumes.html</id><summary type="html">&lt;p&gt;On February 2017, &lt;span class="caps"&gt;AWS&lt;/span&gt; &lt;a href="https://aws.amazon.com/blogs/aws/amazon-ebs-update-new-elastic-volumes-change-everything/"&gt;announced&lt;/a&gt; the availability of a new &lt;span class="caps"&gt;EBS&lt;/span&gt; feature called Elastic Volumes. The new feature allows you to increase the size, performance and type and of your &lt;span class="caps"&gt;EBS&lt;/span&gt; volumes while in use. In order to take adantage of this great feature some requisites needs to be&amp;nbsp;done …&lt;/p&gt;</summary><content type="html">&lt;p&gt;On February 2017, &lt;span class="caps"&gt;AWS&lt;/span&gt; &lt;a href="https://aws.amazon.com/blogs/aws/amazon-ebs-update-new-elastic-volumes-change-everything/"&gt;announced&lt;/a&gt; the availability of a new &lt;span class="caps"&gt;EBS&lt;/span&gt; feature called Elastic Volumes. The new feature allows you to increase the size, performance and type and of your &lt;span class="caps"&gt;EBS&lt;/span&gt; volumes while in use. In order to take adantage of this great feature some requisites needs to be&amp;nbsp;done.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;The volume needs to be attached to a compatible instance: C1, C3, &lt;span class="caps"&gt;CC2&lt;/span&gt;, &lt;span class="caps"&gt;CR1&lt;/span&gt;, G2, I2, M1, M3 y R3 and&amp;nbsp;later. &lt;/li&gt;
&lt;li&gt;The volume was attached to the instance after the November 1 of&amp;nbsp;2016.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To modify the volumen size just type the new volumen size using the &amp;#8220;Modify Volume&amp;#8221; action on the &lt;span class="caps"&gt;AWS&lt;/span&gt;&amp;nbsp;Console.&lt;/p&gt;
&lt;p&gt;&lt;img alt="EBS volume resize" src="/images/ebs-resize.png"&gt;&lt;/p&gt;
&lt;p&gt;Note: depending on the new size the action can takes several&amp;nbsp;hours.&lt;/p&gt;
&lt;p&gt;Once the action completes, log into the instance and expand de filesystem. In my case since I&amp;#8217;m using &lt;span class="caps"&gt;LVM&lt;/span&gt; I need to expand the physical and logical&amp;nbsp;volumes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pvdisplay
pvscan
pvresize /dev/xvdg
pvdisplay
lvdisplay
lvextend -l +100%FREE /dev/vgroup2/volume
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And finally the ext4&amp;nbsp;filesystem:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;resize2fs /dev/vgroup2/volume
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="English"></category><category term="ext4"></category><category term="lvm"></category><category term="ebs"></category><category term="aws"></category><category term="filesystem"></category><category term="maintenance"></category></entry><entry><title>Modificar ficheros de una imagen de disco particionada</title><link href="https://frommelmak.com/modificar-ficheros-de-una-imagen-de-disco-particionada.html" rel="alternate"></link><published>2015-06-12T11:28:00+02:00</published><updated>2015-06-12T11:28:00+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2015-06-12:/modificar-ficheros-de-una-imagen-de-disco-particionada.html</id><summary type="html">&lt;p&gt;En ocasiones disponemos de una imagen &lt;span class="caps"&gt;RAW&lt;/span&gt; de disco sobre la que queremos realizar cambios, pero queremos ahorrarnos el proceso&amp;nbsp;de: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copiar el fichero de imagen a un dispositivo con&amp;nbsp;&amp;#8221;dd&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Montar el dispositivo para tener acceso a los filesystems del&amp;nbsp;mismo.&lt;/li&gt;
&lt;li&gt;Realizar cambios sobre los&amp;nbsp;ficheros.&lt;/li&gt;
&lt;li&gt;Volver a generar …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;En ocasiones disponemos de una imagen &lt;span class="caps"&gt;RAW&lt;/span&gt; de disco sobre la que queremos realizar cambios, pero queremos ahorrarnos el proceso&amp;nbsp;de: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copiar el fichero de imagen a un dispositivo con&amp;nbsp;&amp;#8221;dd&amp;#8221;.&lt;/li&gt;
&lt;li&gt;Montar el dispositivo para tener acceso a los filesystems del&amp;nbsp;mismo.&lt;/li&gt;
&lt;li&gt;Realizar cambios sobre los&amp;nbsp;ficheros.&lt;/li&gt;
&lt;li&gt;Volver a generar el fichero de imagen volcando el contenido de device con&amp;nbsp;dd.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Si dispones de una RaspberryPi, seguro que estás cansado de tener que realizar todo este proceso cada vez que quieres hacer cambios sobre algun fichero de la imagen&amp;nbsp;fuente. &lt;/p&gt;
&lt;p&gt;Seguro que has escuchado mil veces que en Linux todo es un fichero, incluidos los dispositivos. Pues bien, gracias a esto podemos ahorrarnos el proceso de tener que recurrir a un dispositivo físico, ya que vamos a utilizar un fichero en su&amp;nbsp;lugar.&lt;/p&gt;
&lt;p&gt;El procedimiento es tan simple como hacer&amp;nbsp;esto:&lt;/p&gt;
&lt;p&gt;Listamos las particiones que contiene el fichero de&amp;nbsp;imagen:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;fdisk -l image-file.img

Disk image-file.img: &lt;span class="m"&gt;16&lt;/span&gt;.0 GB, &lt;span class="m"&gt;16012804096&lt;/span&gt; bytes
&lt;span class="m"&gt;255&lt;/span&gt; heads, &lt;span class="m"&gt;63&lt;/span&gt; sectors/track, &lt;span class="m"&gt;1946&lt;/span&gt; cylinders, total &lt;span class="m"&gt;31275008&lt;/span&gt; sectors
&lt;span class="nv"&gt;Units&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; sectors of &lt;span class="m"&gt;1&lt;/span&gt; * &lt;span class="nv"&gt;512&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="m"&gt;512&lt;/span&gt; bytes
Sector size &lt;span class="o"&gt;(&lt;/span&gt;logical/physical&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="m"&gt;512&lt;/span&gt; bytes / &lt;span class="m"&gt;512&lt;/span&gt; bytes
I/O size &lt;span class="o"&gt;(&lt;/span&gt;minimum/optimal&lt;span class="o"&gt;)&lt;/span&gt;: &lt;span class="m"&gt;512&lt;/span&gt; bytes / &lt;span class="m"&gt;512&lt;/span&gt; bytes
Disk identifier: 0x0009bf4f

                            Device Boot      Start         End      Blocks   Id  System
image-file.img1                               &lt;span class="m"&gt;8192&lt;/span&gt;      &lt;span class="m"&gt;122879&lt;/span&gt;       &lt;span class="m"&gt;57344&lt;/span&gt;    c  W95 FAT32 &lt;span class="o"&gt;(&lt;/span&gt;LBA&lt;span class="o"&gt;)&lt;/span&gt;
image-file.img2                             &lt;span class="m"&gt;122880&lt;/span&gt;    &lt;span class="m"&gt;31275007&lt;/span&gt;    &lt;span class="m"&gt;15576064&lt;/span&gt;   &lt;span class="m"&gt;83&lt;/span&gt;  Linux
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Multiplicamos el tamaño del bloque (512 bytes) por el número de sectores en el que empieza la partición&amp;nbsp;linux.&lt;/p&gt;
&lt;p&gt;Utilizaremos este número para montar sólo el filesystem que nos&amp;nbsp;interesa.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo mount -o loop,offset&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;62914560&lt;/span&gt; image-file.img IMG/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Hacemos los cambios y&amp;nbsp;desmontamos.&lt;/p&gt;
&lt;p&gt;Ahora la próxima vez que volquemos la imagen a un dispositivo, los nuevos cambios estarán&amp;nbsp;reflejados.&lt;/p&gt;</content><category term="Spanish"></category><category term="dd"></category><category term="mount"></category><category term="fdisk"></category><category term="raspberrypi"></category></entry><entry><title>Utilizar certificados SSL en Amazon ELB</title><link href="https://frommelmak.com/utilizar-certificados-ssl-en-amazon-elb.html" rel="alternate"></link><published>2015-02-26T19:03:23+01:00</published><updated>2015-02-26T19:03:23+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2015-02-26:/utilizar-certificados-ssl-en-amazon-elb.html</id><summary type="html">&lt;p&gt;En esta entrada voy a tratar de explicar cómo utilizar el servicio de balanceo de carga de Amazon (&lt;span class="caps"&gt;ELB&lt;/span&gt;) como terminador de conexiones &lt;span class="caps"&gt;SSL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;El escenario de partida sería&amp;nbsp;este:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ELB HTTP" src="/images/ELB_HTTP_server.png"&gt;&lt;/p&gt;
&lt;p&gt;Como se observa en este diagrama, todo el tráfico va en plano. Desde el cliente &lt;span class="caps"&gt;HTTP&lt;/span&gt; del usuario/aplicación hasta …&lt;/p&gt;</summary><content type="html">&lt;p&gt;En esta entrada voy a tratar de explicar cómo utilizar el servicio de balanceo de carga de Amazon (&lt;span class="caps"&gt;ELB&lt;/span&gt;) como terminador de conexiones &lt;span class="caps"&gt;SSL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;El escenario de partida sería&amp;nbsp;este:&lt;/p&gt;
&lt;p&gt;&lt;img alt="ELB HTTP" src="/images/ELB_HTTP_server.png"&gt;&lt;/p&gt;
&lt;p&gt;Como se observa en este diagrama, todo el tráfico va en plano. Desde el cliente &lt;span class="caps"&gt;HTTP&lt;/span&gt; del usuario/aplicación hasta las instancias que ofrecen el servicio &lt;span class="caps"&gt;HTTP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;El objetivo es cifrar todo el tráfico entre la aplicación y nuestros servidores. Para ello, lo más sencillo es configurar nuestro balanceador de carga como terminador de las conexiones &lt;span class="caps"&gt;SSL&lt;/span&gt;. Así, conseguimos de forma transparente el acceso cifrado a los servicios &lt;span class="caps"&gt;HTTP&lt;/span&gt;, ya que evitamos tener que añadir el certificado a cada uno de los servicios a&amp;nbsp;securizar.&lt;/p&gt;
&lt;p&gt;Otra ventaja es que el tráfico seguirá llegando en plano a las instancias, facilitando así el debug de posibles problemas que requieran analizar el&amp;nbsp;tráfico. &lt;/p&gt;
&lt;p&gt;&lt;img alt="ELB" src="/images/ELB_SSL_HTTPS_server.png"&gt;&lt;/p&gt;
&lt;p&gt;El cifrado &lt;span class="caps"&gt;SSL&lt;/span&gt;/&lt;span class="caps"&gt;TLS&lt;/span&gt; utilizado por el protocolo &lt;span class="caps"&gt;HTTPS&lt;/span&gt;, utiliza criptografía de clave pública (o asimétrica) para autenticar la identidad del servidor con el que estamos comunicando. Esta, también se utiliza para intercambiar la clave simétrica que se utilizará para cifrar el&amp;nbsp;tráfico.&lt;/p&gt;
&lt;p&gt;A grandes rasgos los pasos a seguir para añadir un certificado al balaceador de carga son&amp;nbsp;estos:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Obtener el certificado &lt;span class="caps"&gt;SSL&lt;/span&gt;&lt;ul&gt;
&lt;li&gt;Generar una clave&amp;nbsp;privada.&lt;/li&gt;
&lt;li&gt;Generar la solicitud del certificado (&lt;a href="http://en.wikipedia.org/wiki/Certificate_signing_request"&gt;&lt;span class="caps"&gt;CSR&lt;/span&gt;&lt;/a&gt;) a partir de la clave&amp;nbsp;privada.&lt;/li&gt;
&lt;li&gt;Solicitar un certificado &lt;span class="caps"&gt;SSL&lt;/span&gt; a nuestra autoridad certificadora (&lt;a href="http://en.wikipedia.org/wiki/Certificate_authority"&gt;&lt;span class="caps"&gt;CA&lt;/span&gt;&lt;/a&gt;): &lt;a href="https://www.godaddy.com"&gt;Goodady&lt;/a&gt; en este&amp;nbsp;ejemplo.&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Convertir el certificado al formato soportado por&amp;nbsp;Amazon.&lt;/li&gt;
&lt;li&gt;Subir el certificado a&amp;nbsp;Amazon. &lt;/li&gt;
&lt;li&gt;Añadir listener &lt;span class="caps"&gt;HTTPS&lt;/span&gt; al balanceador y configurarlo con el nuevo&amp;nbsp;certificado.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2&gt;1 Obtener el certificado &lt;span class="caps"&gt;SSL&lt;/span&gt;&lt;/h2&gt;
&lt;p&gt;Creamos una clave privada que utilizaremos para crear la solicitud de&amp;nbsp;certificado. &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;openssl genrsa -out my-private-key-file.pem &lt;span class="m"&gt;2048&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Creamos la solicitud de firma del certificado: Certificate Signing Request (&lt;span class="caps"&gt;CSR&lt;/span&gt;). La solicitud no es más que un fichero creado a partir de la clave privada que utilizaremos para solicitar un certificado &lt;a href="http://en.wikipedia.org/wiki/X.509"&gt;X.509&lt;/a&gt; a la autoridad&amp;nbsp;certificadora.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;openssl req -sha256 -new -key my-private-key-file.pem -out csr.pem
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Este proceso nos realizará un una serie de preguntas. Hemos de prestar especial atención al valor que introducimos&amp;nbsp;para:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Common&amp;nbsp;Name&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Nos aseguraremos de que corresponda con el &lt;a href="http://en.wikipedia.org/wiki/Fully_qualified_domain_name"&gt;&lt;span class="caps"&gt;FQDN&lt;/span&gt;&lt;/a&gt; que vamos a utilizar para nuestro&amp;nbsp;dominio.&lt;/p&gt;
&lt;p&gt;Verificamos que la información que hemos introducido es&amp;nbsp;correcta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;openssl req -in csr.pem -noout -text
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Con el fichero &lt;code&gt;csr.pem&lt;/code&gt;  generado, solicitamos el certificado a nuestra &lt;span class="caps"&gt;CA&lt;/span&gt;. GoDaddy en este&amp;nbsp;caso.&lt;/p&gt;
&lt;h2&gt;2 Convertir el certificado al formato soportado por&amp;nbsp;Amazon&lt;/h2&gt;
&lt;p&gt;La &lt;span class="caps"&gt;CA&lt;/span&gt; nos retorna el certificado en dos ficheros con nombres similares a&amp;nbsp;estos:&lt;/p&gt;
&lt;p&gt;Goodady files: &lt;code&gt;a0cde33bcde324cd.crt&lt;/code&gt; + &lt;code&gt;gd_bundle-g2-g1.crt&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El primer fichero es nuestro certificado. El segundo la certificate chain: una lista de certificados y el certificado raiz de&amp;nbsp;Godaddy.&lt;/p&gt;
&lt;p&gt;Amazon requiere que estos fichero estén en un formato soportado por el servicio &lt;span class="caps"&gt;AWS&lt;/span&gt; &lt;span class="caps"&gt;IAM&lt;/span&gt;. Así que deberemos convertir el certificado al formato soportado: &lt;span class="caps"&gt;PEM&lt;/span&gt; X.509 en este&amp;nbsp;caso.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;openssl x509 -inform PEM -in a0cde33bcde324cd.crt &amp;gt; my-public-key-file.pem
openssl x509 -inform PEM -in gd_bundle-g2-g1.crt &amp;gt; my-certificate-chain-file.pem
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;3 Subir el certificado a&amp;nbsp;Amazon&lt;/h2&gt;
&lt;p&gt;Ahora, con estos tres ficheros: La clave privada, nuestro certificado y los certificados de Goodady, podemos dar de alta el certificado en&amp;nbsp;Amazon.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;iMac: frommelmak$ aws iam upload-server-certificate --server-certificate-name my-server-certificate --certificate-body file://my-public-key-file.pem --private-key file://my-private-key-file.pem --certificate-chain file://my-certificate-chain-file.pem
&lt;span class="o"&gt;{&lt;/span&gt;
    &lt;span class="s2"&gt;&amp;quot;ServerCertificateMetadata&amp;quot;&lt;/span&gt;: &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;ServerCertificateId&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;ASC...............JJJ&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;ServerCertificateName&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;my-server-certificate&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;Expiration&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;2016-02-25T15:27:49Z&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;Path&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;Arn&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;arn:aws:iam::765165175371:server-certificate/my-server-certificate&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;UploadDate&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;2015-02-26T12:27:59.876Z&amp;quot;&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Mediante el siguiente comando, verificamos que se ha subido&amp;nbsp;correctamente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;iMac: frommelmak$ aws iam get-server-certificate --server-certificate-name my-server-certificate
&lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;ServerCertificate&amp;quot;&lt;/span&gt;: &lt;span class="o"&gt;{&lt;/span&gt;
        &lt;span class="s2"&gt;&amp;quot;CertificateChain&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;-----BEGIN CERTIFICATE-----\nMI ... JCa\n-----END CERTIFICATE-----&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;CertificateBody&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;-----BEGIN CERTIFICATE-----\nMI ... kkd\n-----END CERTIFICATE-----&amp;quot;&lt;/span&gt;,
        &lt;span class="s2"&gt;&amp;quot;ServerCertificateMetadata&amp;quot;&lt;/span&gt;: &lt;span class="o"&gt;{&lt;/span&gt;
            &lt;span class="s2"&gt;&amp;quot;ServerCertificateId&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;ASC...............JJJ&amp;quot;&lt;/span&gt;,
            &lt;span class="s2"&gt;&amp;quot;ServerCertificateName&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;my-server-certificate&amp;quot;&lt;/span&gt;,
            &lt;span class="s2"&gt;&amp;quot;Expiration&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;2016-02-25T15:27:49Z&amp;quot;&lt;/span&gt;,
            &lt;span class="s2"&gt;&amp;quot;Path&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;/&amp;quot;&lt;/span&gt;,
            &lt;span class="s2"&gt;&amp;quot;Arn&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;arn:aws:iam::76........71:server-certificate/my-server-certificate&amp;quot;&lt;/span&gt;,
            &lt;span class="s2"&gt;&amp;quot;UploadDate&amp;quot;&lt;/span&gt;: &lt;span class="s2"&gt;&amp;quot;2015-02-26T12:27:59Z&amp;quot;&lt;/span&gt;
        &lt;span class="o"&gt;}&lt;/span&gt;
    &lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="o"&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;4 Añadir listener &lt;span class="caps"&gt;HTTPS&lt;/span&gt; al balanceador y configurarlo con el nuevo&amp;nbsp;certificado.&lt;/h2&gt;
&lt;p&gt;Ahora ya sólo tenemos que añadir un nuevo Listener mediante la consola de&amp;nbsp;Amazon.&lt;/p&gt;
&lt;p&gt;En &amp;#8220;Listener Configuration&amp;#8221; del load balancer&amp;nbsp;seleccionamos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Load Balancer Protocol: &lt;span class="caps"&gt;HTTPS&lt;/span&gt;(Secure &lt;span class="caps"&gt;HTTP&lt;/span&gt;)&lt;/li&gt;
&lt;li&gt;Load Balancer Port:&amp;nbsp;443&lt;/li&gt;
&lt;li&gt;Instance Protocol:&amp;nbsp;80&lt;/li&gt;
&lt;li&gt;Instance Port:&amp;nbsp;80&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;En el momento de seleccionar el certificado utilizaremos la opción: &amp;#8220;Choose an existing &lt;span class="caps"&gt;SSL&lt;/span&gt; Certificate&amp;#8221;. Veremos que ya aparece el que acabamos de&amp;nbsp;publicar.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;info: &lt;a href="http://docs.aws.amazon.com/ElasticLoadBalancing/latest/DeveloperGuide/ssl-server-cert.html"&gt;Elastic Load Balancing: &lt;span class="caps"&gt;SSL&lt;/span&gt; Server&amp;nbsp;Cert&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="English"></category><category term="amazon"></category><category term="aws"></category><category term="elb"></category><category term="ssl"></category></entry><entry><title>lsof: Practical usage examples</title><link href="https://frommelmak.com/lsof-practical-usage-examples.html" rel="alternate"></link><published>2014-06-03T19:53:00+02:00</published><updated>2014-06-03T19:53:00+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2014-06-03:/lsof-practical-usage-examples.html</id><summary type="html">&lt;p&gt;As you probably know, &lt;code&gt;lsof&lt;/code&gt; stands for List of Open Files. Yes, it&amp;#8217;s seems a simple description for a simple Unix command but, wait! Have you ever heard that everything in Unix is a file? Yes, right? So maybe this tool is more powerful than you&amp;nbsp;think.&lt;/p&gt;
&lt;p&gt;Let me …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you probably know, &lt;code&gt;lsof&lt;/code&gt; stands for List of Open Files. Yes, it&amp;#8217;s seems a simple description for a simple Unix command but, wait! Have you ever heard that everything in Unix is a file? Yes, right? So maybe this tool is more powerful than you&amp;nbsp;think.&lt;/p&gt;
&lt;p&gt;Let me show you how powerful it is with a bunch of practical examples (use&amp;nbsp;root):&lt;/p&gt;
&lt;p&gt;Lists all open files belonging to all active&amp;nbsp;processes.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Shows all files opened by the &lt;code&gt;www-data&lt;/code&gt; user &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -u www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists just all the PIDs of the processes opened by the &lt;code&gt;www-data&lt;/code&gt; user&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -t -u www-data
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Kills all the activity for a particular&amp;nbsp;user&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;killall -9 &lt;span class="sb"&gt;`&lt;/span&gt;lsof -t -u username&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists all the files opened by the process with the &lt;code&gt;PID&lt;/code&gt; 234&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -p &lt;span class="m"&gt;234&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists processes which are using a specific&amp;nbsp;file.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -t /var/log/auth.log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists all the log files in&amp;nbsp;use.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof +D /var/log
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists all the opened files in a &lt;span class="caps"&gt;NFS&lt;/span&gt;&amp;nbsp;folder&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof +D -N /mnt/nfsstorage
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists of the files opened by the processes whose command begins with the characters of&amp;nbsp;&amp;#8220;chrome&amp;#8221;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -c chrome
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Until here we were focused on regular files. But, what if we start listing special files like network files&amp;nbsp;?&lt;/p&gt;
&lt;p&gt;Lists all network connections (Yes! Because everything in Unix is a&amp;nbsp;file)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists all network connections on port&amp;nbsp;80&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i:80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists of all network connections on privileged&amp;nbsp;ports,&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i:1-1024
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lists all IPv4 connections on the&amp;nbsp;system&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i4
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;See localhost&amp;nbsp;connections.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i &lt;span class="m"&gt;4&lt;/span&gt;@127.0.0.1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Shows all listening &lt;span class="caps"&gt;TCP&lt;/span&gt;/&lt;span class="caps"&gt;UDP&lt;/span&gt;&amp;nbsp;ports&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -Pan -i tcp -i udp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Shows all connections on port 80 using a &lt;span class="caps"&gt;TCP&lt;/span&gt;&amp;nbsp;socket.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i TCP:80
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Shows al &lt;span class="caps"&gt;TCP&lt;/span&gt; sockets listening on the&amp;nbsp;system.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -i -sTCP:LISTEN
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Shows all listening or established connection &lt;span class="caps"&gt;TCP&lt;/span&gt; ipv4&amp;nbsp;sockets.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -s TCP:ESTABLISHED,LISTEN -i4TCP
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check what services are still using old removed libraries and need to be&amp;nbsp;reloaded.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof -n &lt;span class="p"&gt;|&lt;/span&gt; grep ssl &lt;span class="p"&gt;|&lt;/span&gt; grep DEL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Find processes that need to be restarted after updating&amp;nbsp;binaries.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo lsof -d txt &lt;span class="p"&gt;|&lt;/span&gt; grep &lt;span class="s1"&gt;&amp;#39;(deleted)&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And now let&amp;#8217;s get stared with the device&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;Find out what processes are using your&amp;nbsp;webcam.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof /dev/video0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Find out what processes are using your sound&amp;nbsp;card.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;sudo lsof +D /dev/snd
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The next one is one of my favorites. Displays all deleted files that are still open, and thus still occupy disk space, but are not part of any directory.
For example if you delete a big log file while it still opened by another&amp;nbsp;process.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;lsof +L1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now the definitive one. See how &lt;code&gt;lsof&lt;/code&gt; can help you to recover a deleted&amp;nbsp;file!&lt;/p&gt;
&lt;p&gt;Imagie you deleted the &lt;code&gt;syslog&lt;/code&gt; file accidentaly. As we said before, you can see some metadata from the deleted file using &lt;code&gt;lsof&lt;/code&gt;.
Using the process (&lt;code&gt;PID&lt;/code&gt;), and the file descriptor (&lt;code&gt;FD&lt;/code&gt;) identifiers you can recover the&amp;nbsp;file:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;COMMAND    PID       USER   FD   TYPE DEVICE SIZE/OFF NLINK    NODE NAME
insync    &lt;span class="m"&gt;2432&lt;/span&gt; frommelmak   30u   REG    &lt;span class="m"&gt;8&lt;/span&gt;,1     &lt;span class="m"&gt;9252&lt;/span&gt;     &lt;span class="m"&gt;0&lt;/span&gt; &lt;span class="m"&gt;4326104&lt;/span&gt; /var/tmp/etilqs_KFgJC2dGc3A3p9r &lt;span class="o"&gt;(&lt;/span&gt;deleted&lt;span class="o"&gt;)&lt;/span&gt;
soffice.b &lt;span class="m"&gt;3377&lt;/span&gt; frommelmak   23u   REG    &lt;span class="m"&gt;8&lt;/span&gt;,1     &lt;span class="m"&gt;4096&lt;/span&gt;     &lt;span class="m"&gt;0&lt;/span&gt;  &lt;span class="m"&gt;789414&lt;/span&gt; /home/frommelmak/.execoooAMcD6a &lt;span class="o"&gt;(&lt;/span&gt;deleted&lt;span class="o"&gt;)&lt;/span&gt;
syslog-ng &lt;span class="m"&gt;1046&lt;/span&gt; root         10w   REG    &lt;span class="m"&gt;8&lt;/span&gt;,1     &lt;span class="m"&gt;278428&lt;/span&gt;   &lt;span class="m"&gt;0&lt;/span&gt;   &lt;span class="m"&gt;20198&lt;/span&gt; /var/log/syslog &lt;span class="o"&gt;(&lt;/span&gt;deleted&lt;span class="o"&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now you can recover the file as&amp;nbsp;follows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;cat /proc/1046/fd/10 &amp;gt; /var/log/syslog
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you really want to release the space used by the syslog file without restart the &lt;code&gt;syslog&lt;/code&gt; process, you can do something like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&amp;gt; /var/log/syslog
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Or&amp;nbsp;just:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&amp;quot;&lt;/span&gt; &amp;gt; /var/log/syslog
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finally you can put the &lt;code&gt;lsof&lt;/code&gt; command in a repeat mode using &lt;code&gt;-|+r&lt;/code&gt;. The prefix &lt;code&gt;-&lt;/code&gt; puts the lsof in endless mode. You need to send a control signal to exit.
With the &lt;code&gt;+&lt;/code&gt; prefix, &lt;code&gt;lsof&lt;/code&gt; ends when there&amp;#8217;s no output for the given&amp;nbsp;parameters.&lt;/p&gt;
&lt;p&gt;This article just cover the basics about &lt;code&gt;lsof&lt;/code&gt;. For a complete list of features &lt;span class="caps"&gt;RTFM&lt;/span&gt;!&lt;/p&gt;</content><category term="English"></category><category term="lsof"></category><category term="sysadmin"></category><category term="tools"></category></entry><entry><title>How to add Puppet syntax highlighting to Dokuwiki</title><link href="https://frommelmak.com/how-to-add-puppet-syntax-highlighting-to-dokuwiki.html" rel="alternate"></link><published>2013-07-05T12:50:40+02:00</published><updated>2013-07-05T12:50:40+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2013-07-05:/how-to-add-puppet-syntax-highlighting-to-dokuwiki.html</id><summary type="html">&lt;p&gt;As you probably know, Dokuwiki relies on &lt;a href="http://qbnz.com/highlighter/"&gt;GeSHI&lt;/a&gt; for syntax highlighting. Unfortunately, the current version of GeSHI does not support Puppet language. Nevertheless GeSHI allows you to add new languages easily by creating new language files, so to add Puppet support you just need to get a languaje file for …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you probably know, Dokuwiki relies on &lt;a href="http://qbnz.com/highlighter/"&gt;GeSHI&lt;/a&gt; for syntax highlighting. Unfortunately, the current version of GeSHI does not support Puppet language. Nevertheless GeSHI allows you to add new languages easily by creating new language files, so to add Puppet support you just need to get a languaje file for Puppet and copy it into the inc/geshi&amp;nbsp;folder.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ve found this &lt;a href="https://github.com/jasonhancock/geshi-language-files/blob/master/puppet.php"&gt;Puppet GeSHI file&lt;/a&gt; that works fine in&amp;nbsp;Dokuwiki.&lt;/p&gt;</content><category term="English"></category><category term="puppet"></category><category term="dokuwiki"></category></entry><entry><title>rabbitmqctl: Error unable to connect to node</title><link href="https://frommelmak.com/rabbitmqctl-error-unable-to-connect-to-node.html" rel="alternate"></link><published>2013-01-17T15:22:47+01:00</published><updated>2013-01-17T15:22:47+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2013-01-17:/rabbitmqctl-error-unable-to-connect-to-node.html</id><summary type="html">&lt;p&gt;If you are running &lt;code&gt;rabbitmqctl&lt;/code&gt; with a different user than the one used by server, you will get an error like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;rabbitmqctl status Status of node rabbit@foo
Error: unable to connect to node rabbit@foo: nodedown
- home dir: /root
- cookie hash: &lt;span class="nv"&gt;0fWPcZtM431dRX003r6OAg&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is because the cookie stored …&lt;/p&gt;</summary><content type="html">&lt;p&gt;If you are running &lt;code&gt;rabbitmqctl&lt;/code&gt; with a different user than the one used by server, you will get an error like&amp;nbsp;this:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;rabbitmqctl status Status of node rabbit@foo
Error: unable to connect to node rabbit@foo: nodedown
- home dir: /root
- cookie hash: &lt;span class="nv"&gt;0fWPcZtM431dRX003r6OAg&lt;/span&gt;&lt;span class="o"&gt;==&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is because the cookie stored in your home directory &lt;code&gt;.erlang.cookie&lt;/code&gt; differs from the cookie used by the server&amp;nbsp;instance.&lt;/p&gt;
&lt;p&gt;The cookie file used by the server is inside the home dir used by the server. You can see the location of the home dir in the stdout of the rabbitmq server during the startup. Something&amp;nbsp;like:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;home dir : /opt/rabbitmq/var/lib/rabbitmq&lt;/span&gt;
&lt;span class="go"&gt;cookie hash : NNYm39bSA1i7yB+fQjTdiOJK&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;To solve the problem, just copy the &lt;code&gt;.erlang.cookie&lt;/code&gt; in the home dir of the user you are using to execute the rabbitmqclt command&amp;nbsp;line.&lt;/p&gt;</content><category term="English"></category><category term="rabbitmq"></category></entry><entry><title>Couchdb: How to continue the replication processes after restart</title><link href="https://frommelmak.com/couchdb-how-to-continue-the-replication-processes-after-restart.html" rel="alternate"></link><published>2012-08-30T12:58:45+02:00</published><updated>2012-08-30T12:58:45+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2012-08-30:/couchdb-how-to-continue-the-replication-processes-after-restart.html</id><summary type="html">&lt;p&gt;As you probably know, the replication in couchdb is triggered by sending a &lt;span class="caps"&gt;JSON&lt;/span&gt; doc to the &lt;code&gt;_replicate&lt;/code&gt; &lt;span class="caps"&gt;URL&lt;/span&gt; using a &lt;span class="caps"&gt;POST&lt;/span&gt; request. Something like&amp;nbsp;that:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;curl -X POST http://localhost:5984/_replicate -d &amp;#39;{source:http://src_ip:5984/src_db, target:dst_db, continuous:true}&amp;#39; -H &amp;#39;Content-Type: application/json&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The problem using …&lt;/p&gt;</summary><content type="html">&lt;p&gt;As you probably know, the replication in couchdb is triggered by sending a &lt;span class="caps"&gt;JSON&lt;/span&gt; doc to the &lt;code&gt;_replicate&lt;/code&gt; &lt;span class="caps"&gt;URL&lt;/span&gt; using a &lt;span class="caps"&gt;POST&lt;/span&gt; request. Something like&amp;nbsp;that:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;curl -X POST http://localhost:5984/_replicate -d &amp;#39;{source:http://src_ip:5984/src_db, target:dst_db, continuous:true}&amp;#39; -H &amp;#39;Content-Type: application/json&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The problem using this approach is that the replication process does not continue after a CouchDB restart. Since CouchDB 1.1.0, you can use the &lt;code&gt;_replicator&lt;/code&gt; database to ensure that the replication processes are triggered again after a service restart. Just fill up the &lt;code&gt;_replicator&lt;/code&gt; database with a documment defining the replication process in the same way that you did using the &lt;code&gt;_replicate&lt;/code&gt; &lt;span class="caps"&gt;API&lt;/span&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;curl -X POST -d &amp;#39;{source:http://src_ip:5984/source_db, target:dst_db, continuous:true}&amp;#39; -H &amp;#39;Content-Type: application/json&amp;#39; http://localhost:5984/_replicator&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now you don&amp;#8217;t need to worry about the replication processes after a service&amp;nbsp;restart.&lt;/p&gt;
&lt;p&gt;more info: &lt;a href="http://wiki.apache.org/couchdb/Replication"&gt;http://wiki.apache.org/couchdb/Replication&lt;/a&gt;&lt;/p&gt;</content><category term="English"></category><category term="couchdb"></category></entry><entry><title>How to mount a ZFS drive in Linux</title><link href="https://frommelmak.com/how-to-mount-a-zfs-drive-in-linux.html" rel="alternate"></link><published>2012-02-08T14:39:12+01:00</published><updated>2012-02-08T14:39:12+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2012-02-08:/how-to-mount-a-zfs-drive-in-linux.html</id><summary type="html">&lt;p&gt;First: Plug the &lt;span class="caps"&gt;HDD&lt;/span&gt; into a &lt;span class="caps"&gt;SATA&lt;/span&gt; to &lt;span class="caps"&gt;USB&lt;/span&gt; adapter (obvious).
Then find the&amp;nbsp;device:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;sfdisk -l&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In my case the device was &lt;code&gt;/dev/sdb1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Install zfs-fuse for your&amp;nbsp;distro:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Debian&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;apt-get install zfs-fuse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;OpenSUSE&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;zypper install zfs-fuse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Start the zfs fuse&amp;nbsp;daemon:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/etc/init.d/zfs-fuse start
super8:~ &lt;span class="c1"&gt;# zpool …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;First: Plug the &lt;span class="caps"&gt;HDD&lt;/span&gt; into a &lt;span class="caps"&gt;SATA&lt;/span&gt; to &lt;span class="caps"&gt;USB&lt;/span&gt; adapter (obvious).
Then find the&amp;nbsp;device:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;sfdisk -l&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In my case the device was &lt;code&gt;/dev/sdb1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Install zfs-fuse for your&amp;nbsp;distro:&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Debian&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;apt-get install zfs-fuse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;OpenSUSE&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;zypper install zfs-fuse&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Start the zfs fuse&amp;nbsp;daemon:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/etc/init.d/zfs-fuse start
super8:~ &lt;span class="c1"&gt;# zpool import&lt;/span&gt;
 pool: mypool
 id: &lt;span class="m"&gt;16911161038176216381&lt;/span&gt;
state: ONLINE
status: The pool was last accessed by another system.
action: The pool can be imported using its name or numeric identifier and
    the &lt;span class="s1"&gt;&amp;#39;-f&amp;#39;&lt;/span&gt; flag.
   see: http://www.sun.com/msg/ZFS-8000-EY
config:
    mypool  ONLINE
      disk/by-id/ata-ST3500418AS_5VM4KPXB-part2 ONLINE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Force the command using the -f flag and the pool&amp;nbsp;identifier&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;super8:~ &lt;span class="c1"&gt;# zpool -f import 16911161038176216381&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Verify that everithing look&amp;nbsp;normal:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;super8:~ &lt;span class="c1"&gt;# zpool list&lt;/span&gt;
NAME SIZE ALLOC FREE CAP DEDUP HEALTH ALTROOT
mypool  460G &lt;span class="m"&gt;2&lt;/span&gt;.97G 457G &lt;span class="m"&gt;0&lt;/span&gt;% &lt;span class="m"&gt;1&lt;/span&gt;.00x ONLINE -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And mount the filesystem in your desired&amp;nbsp;mountpoint.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;zfs &lt;span class="nb"&gt;set&lt;/span&gt; &lt;span class="nv"&gt;mountpoint&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/mnt/zfs mypool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Thats all, you are done! Your disk is available at &lt;code&gt;/mnt/zfs&lt;/code&gt; mountpoint
Do whatever you need to do and finaly umount the device with this&amp;nbsp;command:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;zfs umount mypool
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="English"></category><category term="zfs"></category><category term="mount"></category></entry><entry><title>How to convert your server into a video streaming server</title><link href="https://frommelmak.com/how-to-convert-your-server-into-a-video-streaming-server.html" rel="alternate"></link><published>2012-01-30T19:15:34+01:00</published><updated>2012-01-30T19:15:34+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2012-01-30:/how-to-convert-your-server-into-a-video-streaming-server.html</id><summary type="html">&lt;p&gt;Dependencies:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;apt-get install vlc-nox&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;File to&amp;nbsp;stream:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cvlc -v file.mp4 --sout &amp;#39;#standard{access=http,mux=asf,dst=0.0.0.0:8080}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Authenticated Stream to Stream (without&amp;nbsp;audio)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cvlc -v http://x.x.x.x:pppp/test --no-sout-audio --sout-http-user foo --sout-http-pwd foopass --sout &amp;#39;#standard{access=http,mux=asf,dst …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Dependencies:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;apt-get install vlc-nox&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;File to&amp;nbsp;stream:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cvlc -v file.mp4 --sout &amp;#39;#standard{access=http,mux=asf,dst=0.0.0.0:8080}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Authenticated Stream to Stream (without&amp;nbsp;audio)&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cvlc -v http://x.x.x.x:pppp/test --no-sout-audio --sout-http-user foo --sout-http-pwd foopass --sout &amp;#39;#standard{access=http,mux=asf,dst=0.0.0.0:8080}&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;More&amp;nbsp;options:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;vlc -H&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;More&amp;nbsp;info:&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://www.videolan.org/doc/streaming-howto/en/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://www.videolan.org/doc/streaming-howto/en/ch04.html&lt;/a&gt;&lt;/p&gt;</content><category term="English"></category><category term="video"></category><category term="streaming"></category><category term="vlc"></category></entry><entry><title>How to migrate from LAMP to Nginx + PHP-FPM</title><link href="https://frommelmak.com/how-to-migrate-from-lamp-to-nginx-php-fpm.html" rel="alternate"></link><published>2011-11-03T14:26:49+01:00</published><updated>2011-11-03T14:26:49+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-11-03:/how-to-migrate-from-lamp-to-nginx-php-fpm.html</id><summary type="html">&lt;p&gt;This blog has been migrated from Apache2 + mod_php to Nginx + &lt;span class="caps"&gt;PHP&lt;/span&gt;-&lt;span class="caps"&gt;FPM&lt;/span&gt;. In this entry I&amp;#8217;m going to explain the whole process (just for&amp;nbsp;fun).&lt;/p&gt;
&lt;p&gt;The easiest way is just install the precompiled packages from &lt;a href=""&gt;www.dotdeb.org&lt;/a&gt; as explained &lt;a href="http://www.codernotes.com/2011/7/install-nginx-and-php-fpm-on-debian-6-squeeze-2/"&gt;here&lt;/a&gt;.
Unfortunatelly my blog isn&amp;#8217;t compatible with the …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This blog has been migrated from Apache2 + mod_php to Nginx + &lt;span class="caps"&gt;PHP&lt;/span&gt;-&lt;span class="caps"&gt;FPM&lt;/span&gt;. In this entry I&amp;#8217;m going to explain the whole process (just for&amp;nbsp;fun).&lt;/p&gt;
&lt;p&gt;The easiest way is just install the precompiled packages from &lt;a href=""&gt;www.dotdeb.org&lt;/a&gt; as explained &lt;a href="http://www.codernotes.com/2011/7/install-nginx-and-php-fpm-on-debian-6-squeeze-2/"&gt;here&lt;/a&gt;.
Unfortunatelly my blog isn&amp;#8217;t compatible with the latest &lt;span class="caps"&gt;PHP&lt;/span&gt; versions provided by dotdeb, so I&amp;#8217;ve had to compile my own version of &lt;span class="caps"&gt;PHP&lt;/span&gt;-&lt;span class="caps"&gt;FPM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Firts of all, we need to install&amp;nbsp;Nginx:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;apt-get install nginx&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then I downloaded the source code of &lt;span class="caps"&gt;PHP&lt;/span&gt; 5.4.3 from &lt;a href=""&gt;http://www.php.net/releases/&lt;/a&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /var/tmp &lt;/span&gt;
&lt;span class="go"&gt;wget http://museum.php.net/php5/php-5.3.4.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf php-5.3.4.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;cd php-5.3.4&lt;/span&gt;
&lt;span class="go"&gt;./configure --prefix=/opt/php-5.3.4 --enable-fpm --with-mcrypt --with-zlib --enable-mbstring --disable-pdo --with-mysql --with-curl --disable-debug --disable-rpath --enable-inline-optimization --with-bz2 --with-zlib --enable-sockets --enable-sysvsem --enable-sysvshm --enable-pcntl --enable-mbregex --with-mhash --enable-zip --with-pcre-regex&lt;/span&gt;
&lt;span class="go"&gt;make all&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now, the required &lt;span class="caps"&gt;PHP&lt;/span&gt; version, including the &lt;span class="caps"&gt;PHP&lt;/span&gt;-&lt;span class="caps"&gt;FPM&lt;/span&gt; service are installed here: &lt;code&gt;/opt/php5-3.4&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;The easiest way to get the &lt;span class="caps"&gt;PHP&lt;/span&gt;-&lt;span class="caps"&gt;FPM&lt;/span&gt; service running is by using the init script and the config files contained in the php5-fpm dotdeb&amp;nbsp;package.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://packages.dotdeb.org/dists/squeeze/php5/binary-i386/php5-fpm_5.3.8-1~dotdeb.2_i386.deb&lt;/span&gt;
&lt;span class="go"&gt;dpkg-deb -x php5-fpm_5.3.8-1~dotdeb.2_i386.deb /tmp/php5-fpm&lt;/span&gt;
&lt;span class="go"&gt;cp /tmp/php5-fpm/etc/init.d/php5-fpm /etc/init.d/php5-fpm&lt;/span&gt;
&lt;span class="go"&gt;cp -R /tmp/php5-fpm/etc/fpm /etc/php5/&lt;/span&gt;
&lt;span class="go"&gt;ln -s /opt/php-5.3.4/sbin/php-fpm /usr/sbin/php5-fpm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now you should copy your previous php.ini file into the correct place: Use &lt;code&gt;phpinfo ()&lt;/code&gt; to know the correct path for the php.ini&amp;nbsp;file: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/opt/php-5.3.4/bin/php -i|grep php.ini&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In this case, the &lt;span class="caps"&gt;PHP&lt;/span&gt;-&lt;span class="caps"&gt;FPM&lt;/span&gt; will look for php.ini here &lt;code&gt;/opt/php-5.3.4/lib&lt;/code&gt;, so just drop your previous file&amp;nbsp;here.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cp /etc/php5/apache2/php.ini /opt/php-5.3.4/lib&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="English"></category><category term="nginx"></category><category term="php"></category></entry><entry><title>VPN using SSH</title><link href="https://frommelmak.com/vpn-using-ssh.html" rel="alternate"></link><published>2011-09-12T19:29:21+02:00</published><updated>2011-09-12T19:29:21+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-09-12:/vpn-using-ssh.html</id><summary type="html">&lt;p&gt;Las versiones recientes del servidor OpenSSH permiten montar una &lt;span class="caps"&gt;VPN&lt;/span&gt; utilizando una conexinSSH. Esto nos permite, por ejemplo, tener acceso a todos los puertos del servidor incluso en aquellos casos en los que sólo nos dan acceso al puerto de &lt;span class="caps"&gt;SSH&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Para montar una &lt;span class="caps"&gt;VPN&lt;/span&gt; utilizando el servidorSSHen Debian haremos …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Las versiones recientes del servidor OpenSSH permiten montar una &lt;span class="caps"&gt;VPN&lt;/span&gt; utilizando una conexinSSH. Esto nos permite, por ejemplo, tener acceso a todos los puertos del servidor incluso en aquellos casos en los que sólo nos dan acceso al puerto de &lt;span class="caps"&gt;SSH&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Para montar una &lt;span class="caps"&gt;VPN&lt;/span&gt; utilizando el servidorSSHen Debian haremos lo&amp;nbsp;siguiente&amp;#8230;        &lt;/p&gt;
&lt;h2&gt;&lt;span class="caps"&gt;SERVER&lt;/span&gt;:&lt;/h2&gt;
&lt;p&gt;Aadimos en &lt;code&gt;/etc/ssh/sshd_config&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;PermitTunnel point-to-point&lt;/span&gt;
&lt;span class="go"&gt;PermitRootLogin yes&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para crear el dispositivo &lt;span class="caps"&gt;TUN&lt;/span&gt; es necesario ejecutar algunos comandos como root, por eso utilizamos la directiva &lt;code&gt;PermiRootLogin&lt;/code&gt; a yes. Si no queremos dar acceso de login al usuario root, podemos utilizar otras soluciones ms elegantes como: &lt;code&gt;forzed-commands-only&lt;/code&gt; o  &lt;code&gt;without-password&lt;/code&gt; que no comprometen tanto la seguridad como &lt;code&gt;PermitRootLogin yes&lt;/code&gt;. Ver enlaces relaccionados al final del&amp;nbsp;documento.&lt;/p&gt;
&lt;p&gt;Finalmente, recuerda que es necesario reiniciar el servidorSSHpara que los cambios tengan&amp;nbsp;efecto.&lt;/p&gt;
&lt;p&gt;Editamos: &lt;code&gt;/etc/network/interfaces&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;allow-hotplug tun0&lt;/span&gt;
&lt;span class="go"&gt;iface tun0 inet static&lt;/span&gt;
&lt;span class="go"&gt;      address 10.0.0.1&lt;/span&gt;
&lt;span class="go"&gt;      netmask 255.255.255.0&lt;/span&gt;
&lt;span class="go"&gt;      pointopoint 10.0.0.2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Es vital utilizar &lt;code&gt;allow-hotplug tun0&lt;/code&gt;para que se creen automticamente los dispositivos tun con udev, de lo contrario deberemos utilizar herramientas como &lt;code&gt;tunctl&lt;/code&gt;para crear los dispositivos, lo cual puede darnos problemas de permisos al intentar abrir/crear los&amp;nbsp;dispositivos.&lt;/p&gt;
&lt;h2&gt;&lt;span class="caps"&gt;CLIENT&lt;/span&gt;:&lt;/h2&gt;
&lt;p&gt;Editamos: &lt;code&gt;/etc/network/interfaces&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;allow-hotplug tun0&lt;/span&gt;
&lt;span class="go"&gt;iface tun0 inet static&lt;/span&gt;
&lt;span class="go"&gt;      pre-up ssh -vv -i /root/.ssh/id_rsa -S /var/run/ssh-vpn-tunnel-control -M -f -w 0:0 root@ssh_server true&lt;/span&gt;
&lt;span class="go"&gt;      pre-up sleep 5&lt;/span&gt;
&lt;span class="go"&gt;      address 10.0.0.2&lt;/span&gt;
&lt;span class="go"&gt;      pointopoint 10.0.0.1&lt;/span&gt;
&lt;span class="go"&gt;      netmask 255.255.255.0&lt;/span&gt;
&lt;span class="gp"&gt;      #&lt;/span&gt;up route add -net &lt;span class="m"&gt;192&lt;/span&gt;.168.1.0 netmask &lt;span class="m"&gt;255&lt;/span&gt;.255.255.0 tun0 &lt;span class="c1"&gt;#creating optional route&lt;/span&gt;
&lt;span class="gp"&gt;      #&lt;/span&gt;down route del -net &lt;span class="m"&gt;192&lt;/span&gt;.168.1.0 netmask &lt;span class="m"&gt;255&lt;/span&gt;.255.255.0 tun0 &lt;span class="c1"&gt;#creating optional route&lt;/span&gt;
&lt;span class="go"&gt;      post-down ssh -i/root/.ssh/id_rsa -S /var/run/ssh-vpn-tunnel-control -O exit root@ssh_server&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Con esto conseguimos establecer una conexin punto a punto con el servidor ssh remoto, si bien, en ocasiones querremos ir un poco ms all. Por ejemplog. Si queremos llegar a otoros equipos ubicados en la red remota, o al reves, cuando varios equipos de nuestra red han de poder llegar al servidor&amp;nbsp;remoto.&lt;/p&gt;
&lt;p&gt;Se asume que hemos creado el par de claves privada/publica &lt;code&gt;id_rsa/id_rsa.pub&lt;/code&gt;y que hemos copiado la publica al servidor &lt;span class="caps"&gt;SSH&lt;/span&gt; remoto para poder autenticar sin necesidad de proporcionar&amp;nbsp;password.&lt;/p&gt;
&lt;h3&gt;Arrancar y detener la &lt;span class="caps"&gt;VPN&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;Para iniciar la conexin punto a punto utilizaremos los comandos &lt;code&gt;ifup tun0&lt;/code&gt; e &lt;code&gt;ifdown tun0&lt;/code&gt; respectivamente.&lt;/p&gt;
&lt;p&gt;Ahora ya ponemos alcanzar el servidor remoto en&amp;nbsp;10.0.0.1.&lt;/p&gt;
&lt;p&gt;Tras establecer la conexin punto a punto, y en base a nuestras necesidades, podemos encontrarnos diferentes escenarios. Por&amp;nbsp;ejemplo:&lt;/p&gt;
&lt;h3&gt;Acceso a otros equipos de la red&amp;nbsp;remota&lt;/h3&gt;
&lt;p&gt;Activamos el forwarding en el servidorSSH y&amp;nbsp;ejecutamos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;iptables -t nat -A POSTROUTING -s 10.0.0.0/24 -o eth0 -j MASQUERADE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Acceso al servidor remoto desde varios equipos de nuestra&amp;nbsp;red&lt;/h3&gt;
&lt;p&gt;Activamos el forwarding en el cliente de ssh y&amp;nbsp;ejecutamos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;iptables -t nat -A POSTROUTING -o tun0 -j MASQUERADE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;En cada uno de los equipos de red que deseamos que tengan acceso al servidor, deberemos configurar la ruta&amp;nbsp;correspondiente:&lt;/p&gt;
&lt;p&gt;Por ejemplo en&amp;nbsp;windows:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;route add 10.0.0.0 mask 255.255.255.0 IP_SSH_CLIENT&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: Para activar el forwarding en ambos casos: &lt;code&gt;sysctl -w net.ipv4.ip_forward=1&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Fuentes: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;bodhizazen.net/Tutorials/&lt;span class="caps"&gt;VPN&lt;/span&gt;-Over-&lt;span class="caps"&gt;SSH&lt;/span&gt;&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;www.debian-administration.org/articles/539&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="English"></category><category term="ssh"></category><category term="vpn"></category></entry><entry><title>redis-cli basics</title><link href="https://frommelmak.com/redis-cli-basics.html" rel="alternate"></link><published>2011-07-22T13:49:08+02:00</published><updated>2011-07-22T13:49:08+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-07-22:/redis-cli-basics.html</id><summary type="html">&lt;p&gt;Redis es un servidor de datos Nosql (clave-valor) en memoria similar  a memcached. Redis puede almacenar -además de cadenas de texto-  estructuras ms complejas como: hashes, lists, sets u sorted sets. Es capaz de realizar diferentes tipos de operaciones atómicas sobre estas estructuras de datos, disponer de persistencia (pese a …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Redis es un servidor de datos Nosql (clave-valor) en memoria similar  a memcached. Redis puede almacenar -además de cadenas de texto-  estructuras ms complejas como: hashes, lists, sets u sorted sets. Es capaz de realizar diferentes tipos de operaciones atómicas sobre estas estructuras de datos, disponer de persistencia (pese a trabajar en memoria), replicación, y otras características que están haciendo que redis se utilice cada vez en mas &lt;a href="http://redis.io/topics/whos-using-redis"&gt;proyectos&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;En esta entrada, vamos a ver los 4 conceptos básicos que hay que  tener en cuenta a la hora de trabajar con la lnea de comandos de redis  para la administracin de este&amp;nbsp;servicio.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Keys&lt;/strong&gt;: Redis utiliza cadenas para las keys. éstas no pueden contener espacios en blanco ni saltos de&amp;nbsp;carro.&lt;/p&gt;
&lt;h2&gt;Tipos de&amp;nbsp;datos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;strings&lt;/strong&gt;: Cadena de&amp;nbsp;texto.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;listas&lt;/strong&gt;: lista de elementos (&lt;em&gt;values&lt;/em&gt;)&amp;nbsp;ordenados.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sets&lt;/strong&gt;: como una lista sólo que los elementos (&lt;em&gt;members&lt;/em&gt;) no están ordenados. A diferencia de las listas, no se puede contener elementos&amp;nbsp;duplicados.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;sorted sets&lt;/strong&gt;: igual que un set normal pero cada elemento dispone de un indice que se utiliza para ordenar los&amp;nbsp;elementos.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Redis dispone de una útil lnea de comandos que nos ayudará a debugar nuestra aplicación y/o entender qué esta pasando en el servidor redis. Desde la lnea de comandos podremos ejecutar todos los comandos que soporta redis. Estos comandos puden agruparse por el tipo de datos sobre el que trabajan. A continuación muestro algunos ejemplos de&amp;nbsp;comandos.&lt;/p&gt;
&lt;h2&gt;Comandos sobre&amp;nbsp;keys&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;KEYS pattern&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostrar todas las keys almacenadas: &lt;code&gt;keys *&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Mostrar todas las keys con un patron determinado: &lt;code&gt;keys pattern&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;EXPIRE key seconds&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Expirar una clave en 5 segundos: &lt;code&gt;EXPIRE articulo_234 5&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Comandos sobre&amp;nbsp;stirngs&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;SET key value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Establecer una calve y su correspondiente valor: &lt;code&gt;SET articulo_234 Samsung&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;APPEND key value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Añadir algo al valor de la key anterior: &lt;code&gt;APPEND articulo_234  Galaxy S I&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;GET key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Obtener el valor de una clave determinada: &lt;code&gt;GET articulo_234&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Comandos sobre&amp;nbsp;listas&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;RPUSH key value&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Añade un elemento al final de la lista: &lt;code&gt;RPUSH mi_lista elemento1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LPUSH key value&lt;/code&gt; &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Añade un elemento al prinpicio de la lista: &lt;code&gt;LPUSH mi_lista elemento5&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LRANGE key start stop&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostrar todos los 3 primeros items de una lista: &lt;code&gt;LRANGE mi_lista 0 2&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Mostrar todos los items de una lista: &lt;code&gt;LRANGE mi_lista 0 -1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;LLEN key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostrar el nmero de elementos de una lista: &lt;code&gt;LLEN mi_lista&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Comandos sobre&amp;nbsp;sets:&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;SADD key member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Añadir un elemento a un set: &lt;code&gt;SADD mi_set leche desnatada&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SMEMBERS key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostrar los elementos de un set: &lt;code&gt;SMEMBERS mi_set&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;SCARD key&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostrar el número de elementos de un set: &lt;code&gt;SCARD mi_set&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Comandos sobre sorted&amp;nbsp;sets&lt;/h2&gt;
&lt;p&gt;&lt;code&gt;ZADD key score member&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Añadir elemento (&lt;em&gt;member&lt;/em&gt;) a un sorted set: &lt;code&gt;ZADD mi_stored_set 3 natillas danone&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;ZRANGE key start stop&lt;/code&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Mostrar todos los members de un sorted set: &lt;code&gt;ZRANGE 628srv_log 0 -1&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Otros&amp;nbsp;comandos&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;SELECT db&lt;/code&gt;: Cambia la base de datos de la sesion&amp;nbsp;actual&lt;/li&gt;
&lt;li&gt;&lt;code&gt;DBSIZE&lt;/code&gt;: restorna en numero de keys de la bbdd&amp;nbsp;actual&lt;/li&gt;
&lt;li&gt;&lt;code&gt;MONITOR&lt;/code&gt;: Muestra en timpo real todas las peticions que entran a la base de&amp;nbsp;datos.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;IINFO&lt;/code&gt;: Muestra estadsticas sobre el servidor&amp;nbsp;redis.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;+info:&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://redis.io/commands&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://redis.io/topics/data-types-intro&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://try.redis-db.com/&lt;/a&gt;&lt;/p&gt;</content><category term="Spanish"></category><category term="redis"></category><category term="nosql"></category></entry><entry><title>How to use Gmail POP/SMTP services from unsecure clients</title><link href="https://frommelmak.com/how-to-use-gmail-popsmtp-services-from-unsecure-clients.html" rel="alternate"></link><published>2011-05-23T22:15:55+02:00</published><updated>2011-05-23T22:15:55+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-05-23:/how-to-use-gmail-popsmtp-services-from-unsecure-clients.html</id><summary type="html">&lt;p&gt;Sometimes you may need to send or retrieve email notifications using &lt;span class="caps"&gt;SMTP&lt;/span&gt; or &lt;span class="caps"&gt;POP&lt;/span&gt; Gmail services, but your client does not support &lt;span class="caps"&gt;SSL&lt;/span&gt; connections. In such cases you can use a &lt;span class="caps"&gt;SSL&lt;/span&gt; proxy tunnel such as&amp;nbsp;stunnel.&lt;/p&gt;
&lt;p&gt;stunnel is available as a Debian package, and probably in other modern Linux …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Sometimes you may need to send or retrieve email notifications using &lt;span class="caps"&gt;SMTP&lt;/span&gt; or &lt;span class="caps"&gt;POP&lt;/span&gt; Gmail services, but your client does not support &lt;span class="caps"&gt;SSL&lt;/span&gt; connections. In such cases you can use a &lt;span class="caps"&gt;SSL&lt;/span&gt; proxy tunnel such as&amp;nbsp;stunnel.&lt;/p&gt;
&lt;p&gt;stunnel is available as a Debian package, and probably in other modern Linux distributions. It is also available as Win32 binary.
The installation in debian is as simple as&amp;nbsp;type:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;apt-get install stunnel&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Since stunnel relies on OpenSSL libraries, the first thing is create a x509&amp;nbsp;cert.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /etc/ssl/certs&lt;/span&gt;
&lt;span class="go"&gt;openssl req -new -x509 -days 3650 -nodes -out stunnel.pem -keyout stunnel.pem&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then you need to configure stunnel in order to forward all the traffic in the 110 (&lt;span class="caps"&gt;POP&lt;/span&gt;) and 25 (&lt;span class="caps"&gt;SMPT&lt;/span&gt;) to the Gmail 995 and 465 ports&amp;nbsp;respectively.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/etc/stunnel/stunnel.conf&lt;/span&gt;
&lt;span class="go"&gt;[pop3s]&lt;/span&gt;
&lt;span class="go"&gt;accept = server_ip_address:110 &lt;/span&gt;
&lt;span class="go"&gt;connect = pop.gmail.com:995&lt;/span&gt;

&lt;span class="go"&gt;[ssmtp] &lt;/span&gt;
&lt;span class="go"&gt;accept = server_ip_address:25&lt;/span&gt;
&lt;span class="go"&gt;connect = smtp.gmail.com:465&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The server_ip_address could be the &lt;span class="caps"&gt;LAN&lt;/span&gt; interface &lt;span class="caps"&gt;IP&lt;/span&gt; address or the localhost, depending if the client program is running localy or in some other host in your &lt;span class="caps"&gt;LAN&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Finaly, just start de&amp;nbsp;service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/etc/init.d/stunnel4 start&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And test the&amp;nbsp;service:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;telnet server_ip_address 110&lt;/span&gt;
&lt;span class="go"&gt;Trying ...&lt;/span&gt;
&lt;span class="go"&gt;Connected to somehost.&lt;/span&gt;
&lt;span class="go"&gt;Escape character is &amp;#39;^]&amp;#39;.&lt;/span&gt;
&lt;span class="go"&gt;+OK Gpop ready for requests from xx.xx.xx.xx dewf14449283wbe.15&lt;/span&gt;
&lt;span class="go"&gt;USER your_user@gmail.com&lt;/span&gt;
&lt;span class="go"&gt;+OK send PASS&lt;/span&gt;
&lt;span class="go"&gt;PASS your_gmail_pass&lt;/span&gt;
&lt;span class="go"&gt;+OK Welcome.&lt;/span&gt;
&lt;span class="go"&gt;LIST&lt;/span&gt;
&lt;span class="go"&gt;+OK 2 messages (23782 bytes)&lt;/span&gt;
&lt;span class="go"&gt;1 3124&lt;/span&gt;
&lt;span class="go"&gt;2 2758&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;If you can connect with telnet, your client can do it&amp;nbsp;too.&lt;/p&gt;
&lt;p&gt;&lt;a href="https://twitter.com/oriolrius"&gt;@oriolrius&lt;/a&gt;, thanks for telling me about this&amp;nbsp;tool.&lt;/p&gt;
&lt;p&gt;For more info visit: &lt;a href="http://www.stunnel.org"&gt;www.stunnel.org&lt;/a&gt;.&lt;/p&gt;</content><category term="English"></category><category term="ssl"></category><category term="pop"></category><category term="smtp"></category><category term="gmail"></category><category term="google"></category></entry><entry><title>Building CouchDB from sources in RHEL6</title><link href="https://frommelmak.com/building-couchdb-from-sources-in-rhel6.html" rel="alternate"></link><published>2011-04-18T19:00:48+02:00</published><updated>2011-04-18T19:00:48+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-04-18:/building-couchdb-from-sources-in-rhel6.html</id><summary type="html">&lt;p&gt;Install Erlang from&amp;nbsp;sources:&lt;/p&gt;
&lt;p&gt;Prerequisites: &lt;code&gt;unixODBC-devel-2.2.14-11.el6.i686.rpm&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://www.erlang.org/download/otp_src_R14B02.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf otp_src_R14B02.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;cd otp_src_R14B02 LANG=C; export LANG&lt;/span&gt;
&lt;span class="go"&gt;./configure --prefix=/opt/erlang&lt;/span&gt;
&lt;span class="go"&gt;make&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install Mozilla SpiderMonkey from&amp;nbsp;sources:&lt;/p&gt;
&lt;p&gt;Prerequisties: &lt;code&gt;libicu-devel-4.2.1-9.el6.i686.rpm …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Install Erlang from&amp;nbsp;sources:&lt;/p&gt;
&lt;p&gt;Prerequisites: &lt;code&gt;unixODBC-devel-2.2.14-11.el6.i686.rpm&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://www.erlang.org/download/otp_src_R14B02.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf otp_src_R14B02.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;cd otp_src_R14B02 LANG=C; export LANG&lt;/span&gt;
&lt;span class="go"&gt;./configure --prefix=/opt/erlang&lt;/span&gt;
&lt;span class="go"&gt;make&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Install Mozilla SpiderMonkey from&amp;nbsp;sources:&lt;/p&gt;
&lt;p&gt;Prerequisties: &lt;code&gt;libicu-devel-4.2.1-9.el6.i686.rpm&lt;/code&gt;, &lt;code&gt;libicu-4.2.1-7.el6.i686.rpm&lt;/code&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://ftp.mozilla.org/pub/mozilla.org/js/js-1.7.0.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf js-1.7.0.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;cd js/srcmkdir /opt/js-devel&lt;/span&gt;
&lt;span class="go"&gt;make BUILD_OPT=1 JS_DIST=/opt/js-devel -f Makefile.ref export&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And finally install Couchdb from&amp;nbsp;sources:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;ERL=&amp;#39;/opt/erlang/bin/erl&amp;#39; ;&lt;/span&gt;
&lt;span class="go"&gt;export ERLERLC=&amp;#39;/opt/erlang/bin/erlc&amp;#39; ;&lt;/span&gt;
&lt;span class="go"&gt;export ERLCwget http://apache.rediris.es//couchdb/1.0.2/apache-couchdb-1.0.2.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf apache-couchdb-1.0.2.tar.gzcd apache-couchdb-1.0.2./configure --prefix=/opt/couchdb \&lt;/span&gt;
&lt;span class="go"&gt;--with-erlang=/opt/erlang/lib/erlang/usr/include/ \&lt;/span&gt;
&lt;span class="go"&gt;--with-js-include=/opt/js-devel/include/js \&lt;/span&gt;
&lt;span class="go"&gt;--with-js-lib=/opt/js-devel/lib&lt;/span&gt;
&lt;span class="go"&gt;make&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="English"></category><category term="couchdb"></category><category term="rhel"></category><category term="erlang"></category></entry><entry><title>Tareas frecuentes con LVM</title><link href="https://frommelmak.com/tareas-frecuentes-con-lvm.html" rel="alternate"></link><published>2011-02-15T17:25:01+01:00</published><updated>2011-02-15T17:25:01+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-02-15:/tareas-frecuentes-con-lvm.html</id><summary type="html">&lt;p&gt;Un par de apuntes rápidos sobre &lt;span class="caps"&gt;LVM&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;Juntar varios discos o particiones en un único volumen&amp;nbsp;lógico:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;pvcreate /dev/sdb /dev/sdc&lt;/span&gt;
&lt;span class="go"&gt;vgcreate -s 16M data /dev/sdb /dev/sdc&lt;/span&gt;
&lt;span class="go"&gt;vgdisplay&lt;/span&gt;
&lt;span class="go"&gt;lvcreate -l 25600 -n storage data&lt;/span&gt;
&lt;span class="go"&gt;mkfs.ext3 /dev/data/storage&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Expandir en &lt;span class="caps"&gt;100GB&lt;/span&gt; un &lt;span class="caps"&gt;LV&lt;/span&gt; y el filesystem …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Un par de apuntes rápidos sobre &lt;span class="caps"&gt;LVM&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;Juntar varios discos o particiones en un único volumen&amp;nbsp;lógico:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;pvcreate /dev/sdb /dev/sdc&lt;/span&gt;
&lt;span class="go"&gt;vgcreate -s 16M data /dev/sdb /dev/sdc&lt;/span&gt;
&lt;span class="go"&gt;vgdisplay&lt;/span&gt;
&lt;span class="go"&gt;lvcreate -l 25600 -n storage data&lt;/span&gt;
&lt;span class="go"&gt;mkfs.ext3 /dev/data/storage&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Expandir en &lt;span class="caps"&gt;100GB&lt;/span&gt; un &lt;span class="caps"&gt;LV&lt;/span&gt; y el filesystem que&amp;nbsp;contiene.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;lvextend -L+100G /dev/mapper/loquesea&lt;/span&gt;
&lt;span class="go"&gt; umount /del/putno/de/montaje&lt;/span&gt;
&lt;span class="go"&gt; e2fsck -f /dev/mapper/loquesea&lt;/span&gt;
&lt;span class="go"&gt; resize2fs /dev/mapper/loquesea&lt;/span&gt;
&lt;span class="go"&gt; mount -a&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="lvm"></category></entry><entry><title>Configurar fail2ban para notificaciones por email</title><link href="https://frommelmak.com/configurar-fail2ban-para-notificaciones-por-email.html" rel="alternate"></link><published>2011-02-04T09:54:45+01:00</published><updated>2011-02-04T09:54:45+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-02-04:/configurar-fail2ban-para-notificaciones-por-email.html</id><content type="html">&lt;p&gt;Por defecto fail2ban no notifica los baneos al servicio ssh por email. En las ultimas versiones (0.8.4) la config ha cambiado sustancialmente. Para habilitar el envio de emails hemos de crear el fichero &lt;code&gt;jail.local&lt;/code&gt; en &lt;code&gt;/etc/fail2ban&lt;/code&gt; con este&amp;nbsp;contenido.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;[ssh]action = %(action_mw)s&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="fail2ban"></category></entry><entry><title>Authenticated Couchdb admin with Curl</title><link href="https://frommelmak.com/authenticated-couchdb-admin-with-curl.html" rel="alternate"></link><published>2011-01-25T23:35:01+01:00</published><updated>2011-01-25T23:35:01+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2011-01-25:/authenticated-couchdb-admin-with-curl.html</id><summary type="html">&lt;p&gt;Los principales parámetros de configuración de Couchdb se puede consultar y administrar mediante la interfaz web de Couchdb. No obstante hay algunas opciones interesantes que no están disponibles en dicha interfaz. Para cambiarlas es necesario modificar los valores directamente mediante un &lt;span class="caps"&gt;PUT&lt;/span&gt; &lt;span class="caps"&gt;HTTP&lt;/span&gt;. Para ello utilizaremos &lt;code&gt;curl&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;Por ejemplo, cambiar …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Los principales parámetros de configuración de Couchdb se puede consultar y administrar mediante la interfaz web de Couchdb. No obstante hay algunas opciones interesantes que no están disponibles en dicha interfaz. Para cambiarlas es necesario modificar los valores directamente mediante un &lt;span class="caps"&gt;PUT&lt;/span&gt; &lt;span class="caps"&gt;HTTP&lt;/span&gt;. Para ello utilizaremos &lt;code&gt;curl&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;Por ejemplo, cambiar el nmero de revisiones que guardaremos de un documento&amp;nbsp;sería:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;curl -X PUT -d 500 http://localhost:5984/document_db/_revs_limit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Vale, pero cmo lo hacemos si hemos protegido el acceso a couchdb con un usuario y un password&amp;nbsp;?&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;curl -X PUT -d 500 http://user:passwd@localhost:5984/document_db/_revs_limit&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Sencillo no&amp;nbsp;?&lt;/p&gt;</content><category term="Spanish"></category><category term="couchdb"></category><category term="curl"></category></entry><entry><title>Couchdb auth</title><link href="https://frommelmak.com/couchdb-auth.html" rel="alternate"></link><published>2010-11-09T18:21:58+01:00</published><updated>2010-11-09T18:21:58+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2010-11-09:/couchdb-auth.html</id><summary type="html">&lt;p&gt;Ojito con la autenticacin en Couchdb 0.11.0. Si la queremos deshabilitar, haremos&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;admins&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class="caps"&gt;NO&lt;/span&gt; &lt;span class="caps"&gt;ESTO&lt;/span&gt;!!!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;admins&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="nv"&gt;user&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; -hashedlalkasdlfk....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lo segundo hace que al arrancar couchdb de un error que hace que couchdb muera. Al rato se reinicia automaticamente (esto lo hace couchdb de saque) &lt;em&gt;respawn&lt;/em&gt;. Por lo …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Ojito con la autenticacin en Couchdb 0.11.0. Si la queremos deshabilitar, haremos&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;admins&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;span class="caps"&gt;NO&lt;/span&gt; &lt;span class="caps"&gt;ESTO&lt;/span&gt;!!!&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="o"&gt;[&lt;/span&gt;admins&lt;span class="o"&gt;]&lt;/span&gt;
&lt;span class="gp"&gt;#&lt;/span&gt;&lt;span class="nv"&gt;user&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; -hashedlalkasdlfk....
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lo segundo hace que al arrancar couchdb de un error que hace que couchdb muera. Al rato se reinicia automaticamente (esto lo hace couchdb de saque) &lt;em&gt;respawn&lt;/em&gt;. Por lo visto tras intentarlo mil veces lo deja estar. El error sólo se ve si llamamos al script de arranque en &lt;code&gt;bin&lt;/code&gt; de couchdb directamente (no al de &lt;code&gt;/etc/inet.d&lt;/code&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;exec: 20: -hashed-df8ebe0300961b4230c639a427257c0dfe061fd6,157784fea6862263081b88f43ff8b0cf: not found&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;El sintoma es que un &lt;code&gt;tail -f&lt;/code&gt; del log da mensajes de error sin&amp;nbsp;parar&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;[Tue, 09 Nov 2010 16:45:03 GMT] [error] [0.91.0] OS Process died with status: 2&lt;/span&gt;

&lt;span class="go"&gt;[Tue, 09 Nov 2010 16:45:03 GMT] [error] [0.91.0] ** Generic server 0.91.0 terminating &lt;/span&gt;
&lt;span class="go"&gt;** Last message in was {#Port0.1831,{exit_status,2}}&lt;/span&gt;
&lt;span class="go"&gt;** When Server state == {os_proc,-hashed-ad8d52d1277370343929dd7214b6a5106abe9e09,bc93fecc05e101f891d1afb58be1b8a7,&lt;/span&gt;
&lt;span class="gp"&gt; #&lt;/span&gt;Port0.1831,
&lt;span class="gp"&gt; #&lt;/span&gt;Funcouch_os_process.0.132953560,
&lt;span class="gp"&gt; #&lt;/span&gt;Funcouch_os_process.1.15901032,5000&lt;span class="o"&gt;}&lt;/span&gt;
&lt;span class="go"&gt;** Reason for termination == &lt;/span&gt;
&lt;span class="go"&gt;** {exit_status,2}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="couchdb"></category></entry><entry><title>ESXi: Snapshots en otro datastore</title><link href="https://frommelmak.com/esxi-snapshots-en-otro-datastore.html" rel="alternate"></link><published>2010-11-04T00:22:40+01:00</published><updated>2010-11-04T00:22:40+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2010-11-04:/esxi-snapshots-en-otro-datastore.html</id><summary type="html">&lt;p&gt;Si al intentar hacer un snapshot de un guest nos dice que no tenemos espacio, tenemos dos opciones: La primera es añadir otro disco duro y añadirlo al datastore en el que reside la máquina, la segunda es hacer el snapshot en otro&amp;nbsp;datastore.&lt;/p&gt;
&lt;p&gt;No obstante, hay escenarios en los …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Si al intentar hacer un snapshot de un guest nos dice que no tenemos espacio, tenemos dos opciones: La primera es añadir otro disco duro y añadirlo al datastore en el que reside la máquina, la segunda es hacer el snapshot en otro&amp;nbsp;datastore.&lt;/p&gt;
&lt;p&gt;No obstante, hay escenarios en los que la primera opción puede no ser una solución. Por ejemplo: Si el guest dispone de dos discos duros virtuales, cada uno en un datastore con tamano de bloque diferente, podría ser que pese a tener espacio, el tamaño máximo del fichero permitido en el datastore en el que reside el disco principal no permita realizar el snapshot. En este y otros casos, la solución pasa por forzar el snapshot en otro&amp;nbsp;datastore.&lt;/p&gt;
&lt;p&gt;Para ello, existe una variable que controla dónde se hacen los snapshots. Si esta variable no existe, se realizarán el el mismo folder dónde se encuentre el fichero &lt;code&gt;.vmx&lt;/code&gt; que define la&amp;nbsp;máquina.&lt;/p&gt;
&lt;p&gt;Para hacer los snapshots en otro&amp;nbsp;datastore:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Paramos el&amp;nbsp;guest.&lt;/li&gt;
&lt;li&gt;Conectamos por ssh al host y editamos el `.vmx del guest a&amp;nbsp;snapshotear.&lt;/li&gt;
&lt;li&gt;Creamos un folder para los snapshots el el&amp;nbsp;host&lt;/li&gt;
&lt;li&gt;Añadimos la variable &lt;code&gt;workingDir=/vmfs/volumes/id-datastore/vm-snapshots&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Desregistramos la máquina: &lt;em&gt;Remove from&amp;nbsp;invetory&lt;/em&gt;&lt;/li&gt;
&lt;li&gt;La volvemos a registrar utilizando el fichero &lt;code&gt;.vmx (ver captura)&lt;/code&gt;.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img alt="vmx register" src="|filename|/images/old_blog/register_vmachine.png"&gt;&lt;/p&gt;
&lt;p&gt;Tras esto, veremos que el working dir es ahora otro el folder &lt;code&gt;vm-snapshots&lt;/code&gt;. Este cambio afecta también al área de &lt;em&gt;swap&lt;/em&gt; de esta máquina que pasa a estar en el nuevo&amp;nbsp;datastore.&lt;/p&gt;</content><category term="Spanish"></category><category term="vmware"></category><category term="esxi"></category><category term="virtualization"></category></entry><entry><title>Backup completo de un guest Linux mediante tar</title><link href="https://frommelmak.com/backup-completo-de-un-guest-linux-mediante-tar.html" rel="alternate"></link><published>2010-05-03T17:25:39+02:00</published><updated>2010-05-03T17:25:39+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2010-05-03:/backup-completo-de-un-guest-linux-mediante-tar.html</id><summary type="html">&lt;p&gt;Clonar una mquina virtual mediante &lt;em&gt;VMWare Converter&lt;/em&gt; suele ser un proceso lento, especialmente si la máquina tiene un disco grande, este el espacio ocupado o no. En ocasiones, ya no es que sea lento, sino que directamente el &lt;em&gt;VMWare Converter&lt;/em&gt; falla inexplicablemente. En estos caso tenemos dos opciones. O bien …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Clonar una mquina virtual mediante &lt;em&gt;VMWare Converter&lt;/em&gt; suele ser un proceso lento, especialmente si la máquina tiene un disco grande, este el espacio ocupado o no. En ocasiones, ya no es que sea lento, sino que directamente el &lt;em&gt;VMWare Converter&lt;/em&gt; falla inexplicablemente. En estos caso tenemos dos opciones. O bien copiar el disco de la máquina mediante &lt;span class="caps"&gt;SSH&lt;/span&gt; (si tenemos acceso &lt;code&gt;ssh&lt;/code&gt; al &lt;em&gt;ESXi&lt;/em&gt;) o bien hacer un &lt;em&gt;tarball&lt;/em&gt; de todo el sistema y extraerlo en una nueva&amp;nbsp;máquina.&lt;/p&gt;
&lt;p&gt;A continuacóin detallo los pasos para realizar este último&amp;nbsp;procedimiento.&lt;/p&gt;
&lt;p&gt;En primer lugar hay que crear el &lt;code&gt;tar.gz&lt;/code&gt; de la máquina origen. Para ello, conectamos por &lt;span class="caps"&gt;SSH&lt;/span&gt; y nos aseguramos de que disponemos de espacio. Luego ejecutamos el comando que vuelca toda la raiz del sistema a un &lt;em&gt;tarball&lt;/em&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /&lt;/span&gt;
&lt;span class="go"&gt;tar cvlz --exclude=./tmp/* --exclude=./var/tmp/* --exclude=./proc/* --exclude=./sys/* --exclude=./mnt/* -f /var/tmp/guest_backup.tar.gz .&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;En primer lugar necesitamos una &lt;span class="caps"&gt;ISO&lt;/span&gt; bootable de un sistema Linux con las herramientas necesarias para hacer la extracción y restauración del &lt;em&gt;tarball&lt;/em&gt;. Una buena distro para estos menesteres es &lt;span class="caps"&gt;RIP&lt;/span&gt;&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://rip.7bf.de/current/RIPLinux-9.3-non-X.iso"&gt;&lt;span class="caps"&gt;RIP&lt;/span&gt; Linux&amp;nbsp;Image&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Copiaremos esta &lt;span class="caps"&gt;ISO&lt;/span&gt; al datastore del ESXi de&amp;nbsp;destino.&lt;/p&gt;
&lt;p&gt;Ahora creamos una máquina en el ESXi de destino con un disco de igual tamao al que queremos copiar y configuraremos esta máquina para que arranque con la &lt;span class="caps"&gt;ISO&lt;/span&gt; de &lt;span class="caps"&gt;RIP&lt;/span&gt;&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;Particionamos el disco &lt;code&gt;sda&lt;/code&gt; de la máquina y lo&amp;nbsp;formateamos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;fdisk /dev/sda&lt;/span&gt;
&lt;span class="go"&gt;mkfs.ext3 /dev/sda1&lt;/span&gt;
&lt;span class="go"&gt;mkswap /dev/sda2&lt;/span&gt;
&lt;span class="go"&gt;mount /dev/sda1 /mnt/sda1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Nos asignamos una &lt;span class="caps"&gt;IP&lt;/span&gt; y copiamos el &lt;code&gt;tar.gz&lt;/code&gt; a la via &lt;code&gt;scp&lt;/code&gt; y extraemos el &lt;em&gt;tarball&lt;/em&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;ifconfig eth0 x.x.x.x&lt;/span&gt;
&lt;span class="go"&gt;cd /mnt/sda1&lt;/span&gt;
&lt;span class="go"&gt;scp user@host:/guest_backup.tar.gz .&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf guest_backup.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;chroot /mnt/sda1&lt;/span&gt;
&lt;span class="go"&gt;grub-mkconfig /boot/grub/grub.cfg&lt;/span&gt;
&lt;span class="go"&gt;grub-install /dev/sda&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora ya podemos reiniciar el&amp;nbsp;equipo.&lt;/p&gt;
&lt;p&gt;Si teniamos &lt;em&gt;mysql&lt;/em&gt; corriendo, deberemos restablecer el owner de los siguientes directorios, ya que el &lt;span class="caps"&gt;UID&lt;/span&gt; de mysql en diferente en Debian al de &lt;span class="caps"&gt;RIP&lt;/span&gt;&amp;nbsp;Linux.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;chown -R mysql /var/run/mysqld&lt;/span&gt;
&lt;span class="go"&gt;chown -R mysql /var/log/mysql&lt;/span&gt;
&lt;span class="go"&gt;chown -R mysql /var/log/mysql.*&lt;/span&gt;
&lt;span class="go"&gt;chown -R mysql.mysql /var/lib/mysql&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Es posible que tengamos que repetir el mismo procedimiento si utilizabamos servicios que corran bajo un usuario cuyo &lt;span class="caps"&gt;UID&lt;/span&gt; difiera del que utiliza &lt;span class="caps"&gt;RIP&lt;/span&gt;&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;Finalmente, si nuestro &lt;code&gt;fstab&lt;/code&gt; hacia referencia a UUIDs en lugar de a devices, lo mejor es modificarlo y asegurarnos que utiliza los devices que&amp;nbsp;toca.&lt;/p&gt;</content><category term="Spanish"></category><category term="backup"></category><category term="tar"></category></entry><entry><title>Añadir discos en caliente a guest Debian 5.0 sobre ESXi host</title><link href="https://frommelmak.com/anadir-discos-en-caliente-a-guest-debian-50-sobre-esxi-host.html" rel="alternate"></link><published>2010-04-21T13:36:51+02:00</published><updated>2010-04-21T13:36:51+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2010-04-21:/anadir-discos-en-caliente-a-guest-debian-50-sobre-esxi-host.html</id><summary type="html">&lt;p&gt;En primer lugar añadimos un nuevo disco al guest desde el host mediante&amp;nbsp;vSphere.&lt;/p&gt;
&lt;p&gt;El disco aun no se ve en el&amp;nbsp;guest:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;guest666@root:#&lt;/span&gt; cat /proc/scsi/scsi 
&lt;span class="go"&gt;Attached devices: &lt;/span&gt;
&lt;span class="go"&gt;Host: scsi0 Channel: 00 Id: 01 Lun: 00 &lt;/span&gt;
&lt;span class="go"&gt; Vendor: VMware Model: Virtual disk Rev: 1.0 &lt;/span&gt;
&lt;span class="go"&gt; Type: Direct-Access ANSI …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;En primer lugar añadimos un nuevo disco al guest desde el host mediante&amp;nbsp;vSphere.&lt;/p&gt;
&lt;p&gt;El disco aun no se ve en el&amp;nbsp;guest:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;guest666@root:#&lt;/span&gt; cat /proc/scsi/scsi 
&lt;span class="go"&gt;Attached devices: &lt;/span&gt;
&lt;span class="go"&gt;Host: scsi0 Channel: 00 Id: 01 Lun: 00 &lt;/span&gt;
&lt;span class="go"&gt; Vendor: VMware Model: Virtual disk Rev: 1.0 &lt;/span&gt;
&lt;span class="go"&gt; Type: Direct-Access ANSI SCSI revision: 02&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Por lo que un &lt;code&gt;sfdisk -l&lt;/code&gt; no lo lista&amp;nbsp;tampoco:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;guest666@root:#&lt;/span&gt; sfdisk -l

&lt;span class="go"&gt;Disk /dev/sda: 1305 cylinders, 255 heads, 63 sectors/track&lt;/span&gt;
&lt;span class="go"&gt;Units = cylinders of 8225280 bytes, blocks of 1024 bytes, counting from 0&lt;/span&gt;

&lt;span class="go"&gt; Device Boot Start End #cyls #blocks Id System&lt;/span&gt;
&lt;span class="go"&gt;/dev/sda1 * 0+ 1178 1179- 9470286 83 Linux &lt;/span&gt;
&lt;span class="go"&gt;/dev/sda2 1179 1304 126 1012095 5 Extended&lt;/span&gt;
&lt;span class="go"&gt;/dev/sda3 0 - 0 0 0 Empty &lt;/span&gt;
&lt;span class="go"&gt;/dev/sda4 0 - 0 0 0 Empty &lt;/span&gt;
&lt;span class="go"&gt;/dev/sda5 1179+ 1304 126- 1012063+ 82 Linux swap / Solaris&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lo que hay que hacer es forzar un re-scan de los dispositivos scsi. Para esto lo normal sería reiniciar, sin embargo podemos utilizar &lt;code&gt;scsiadd&lt;/code&gt; en su lugar (&lt;code&gt;apt-get install scsiadd&lt;/code&gt; si no lo&amp;nbsp;tenemos).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;guest666@root:~#&lt;/span&gt; scsiadd -s
&lt;span class="go"&gt;Attached devices:&lt;/span&gt;
&lt;span class="go"&gt;Host: scsi0 Channel: 00 Id: 01 Lun: 00&lt;/span&gt;
&lt;span class="go"&gt; Vendor: VMware Model: Virtual disk Rev: 1.0&lt;/span&gt;
&lt;span class="go"&gt; Type: Direct-Access ANSI SCSI revision: 02&lt;/span&gt;
&lt;span class="go"&gt;Host: scsi0 Channel: 00 Id: 00 Lun: 00&lt;/span&gt;
&lt;span class="go"&gt; Vendor: VMware Model: Virtual disk Rev: 1.0&lt;/span&gt;
&lt;span class="go"&gt; Type: Direct-Access ANSI SCSI revision: 02&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tras esto, el disco ya aparece en &lt;code&gt;/proc/scsi/scsi&lt;/code&gt; y mediante &lt;code&gt;sfdisk -l&lt;/code&gt;. Ahora ya sólo queda particionar y&amp;nbsp;formatear.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="caps"&gt;IMPORTANTE&lt;/span&gt;!!!&lt;/em&gt; Tras trastear con &lt;code&gt;scsiadd&lt;/code&gt;, es recomendable prestar especial atención al pórximo reeboot del sistema. En mi caso, no encontraba el disco de arranque &lt;strong&gt;operative system not found&lt;/strong&gt;. Al parecer, tras reiniciar el identificador &lt;span class="caps"&gt;SCSI&lt;/span&gt;, del último disco añadido era el 0 en lugar del 2. Para solventarlo, hay que cambiar los &lt;span class="caps"&gt;ID&lt;/span&gt; &lt;span class="caps"&gt;SCSI&lt;/span&gt; desde vmware y habilitar la opción de entrar en la &lt;span class="caps"&gt;BIOS&lt;/span&gt; para conseguir arrancar el&amp;nbsp;sistema.&lt;/p&gt;</content><category term="Spanish"></category><category term="esx"></category><category term="vmware"></category></entry><entry><title>udev network device en Ubuntu Hardy sobre VMWare</title><link href="https://frommelmak.com/udev-network-device-en-ubuntu-hardy-sobre-vmware.html" rel="alternate"></link><published>2010-03-22T15:47:00+01:00</published><updated>2010-03-22T15:47:00+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2010-03-22:/udev-network-device-en-ubuntu-hardy-sobre-vmware.html</id><summary type="html">&lt;p&gt;Cuando clonamos una máquina &lt;em&gt;Ubuntu Hardy&lt;/em&gt; para correr otra instancia en VMWare, &lt;code&gt;udev&lt;/code&gt; detecta una nueva &lt;span class="caps"&gt;MAC&lt;/span&gt; y crea otra interfaz de&amp;nbsp;red.&lt;/p&gt;
&lt;p&gt;Esto provoca que cada vez que restauramos una máquina basada en &lt;em&gt;Ubuntu Hardy&lt;/em&gt;, el interfaz de red se incremente: eth0, eth1,&amp;#8230;&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Debian 5.0&lt;/em&gt; (&lt;em&gt;lenny&lt;/em&gt;) soluciona …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Cuando clonamos una máquina &lt;em&gt;Ubuntu Hardy&lt;/em&gt; para correr otra instancia en VMWare, &lt;code&gt;udev&lt;/code&gt; detecta una nueva &lt;span class="caps"&gt;MAC&lt;/span&gt; y crea otra interfaz de&amp;nbsp;red.&lt;/p&gt;
&lt;p&gt;Esto provoca que cada vez que restauramos una máquina basada en &lt;em&gt;Ubuntu Hardy&lt;/em&gt;, el interfaz de red se incremente: eth0, eth1,&amp;#8230;&amp;nbsp;etc.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Debian 5.0&lt;/em&gt; (&lt;em&gt;lenny&lt;/em&gt;) soluciona esto añadiendo esta línea en el fichero &lt;code&gt;/etc/udev/rules.d/75-persistent-net-generator.rules&lt;/code&gt; (linea&amp;nbsp;34):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;ENV{MATCHADDR}==00:0c:29:*|00:50:56:*, ENV{MATCHADDR}=&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Este cambio es aplicable también en &lt;em&gt;Ubunty Hardy&lt;/em&gt; y es la manera más sencilla de eliminar esta&amp;nbsp;problematica.&lt;/p&gt;</content><category term="Spanish"></category><category term="udev"></category><category term="ubuntu"></category><category term="vmware"></category></entry><entry><title>Freecom DVB-T USB Stick en Opensuse 11.2</title><link href="https://frommelmak.com/freecom-dvb-t-usb-stick-en-opensuse-112.html" rel="alternate"></link><published>2009-12-29T16:00:10+01:00</published><updated>2009-12-29T16:00:10+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-12-29:/freecom-dvb-t-usb-stick-en-opensuse-112.html</id><content type="html">&lt;p&gt;Olvida Yast2. Lo más rápido&amp;nbsp;es:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Descargar &lt;a href="http://www.linuxtv.org/downloads/firmware/dvb-usb-wt220u-02.fw"&gt;dvb-usb-wt220u-02.fw&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Copiarlo a &lt;code&gt;/lib/firmware&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Pinchar Stick y mirar si aparece en &lt;code&gt;/var/log/messages&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Arrancamos &lt;a href="http://kaffeine.kde.org/"&gt;&lt;span class="caps"&gt;KDE&lt;/span&gt; Media Player&lt;/a&gt;, configuramos el dispositivo y&amp;nbsp;listos.&lt;/p&gt;</content><category term="Spanish"></category><category term="opensuse"></category><category term="freecom"></category><category term="dvb-t"></category><category term="usb"></category></entry><entry><title>La gráfica de mi Dell XPS m1330 ha muerto</title><link href="https://frommelmak.com/la-grafica-de-mi-dell-xps-m1330-ha-muerto.html" rel="alternate"></link><published>2009-12-03T15:00:55+01:00</published><updated>2009-12-03T15:00:55+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-12-03:/la-grafica-de-mi-dell-xps-m1330-ha-muerto.html</id><summary type="html"></summary><content type="html">&lt;p&gt;Pues sí, tras unos parpadeos el equipo se ha quedado colgado y arranca tal y como veis en la foto.
Tras hacer el test de &lt;span class="caps"&gt;LCD&lt;/span&gt; (arrancar con la tecla d pulsada) queda claro que no es el &lt;span class="caps"&gt;LCD&lt;/span&gt; sino la gráfica. Pese a estar fuera de garantia he llamado a Dell y me han comentado que es un problema reconocido por NVidia y que me lo reparan sin&amp;nbsp;coste.&lt;/p&gt;
&lt;p&gt;Bueno, me han comentado que suele tardar sobre una semana. A ver que tal me defiendo sin&amp;nbsp;portatil.&lt;/p&gt;
&lt;p&gt;Updated 16-12-2009: Pues nada, que vuelvo a tener portatil! Eso sí, tal y como me dijeron me han formateado el disco. Supongo que la Opensuse no les ha gustado&amp;nbsp;demasiado.&lt;/p&gt;</content><category term="Spanish"></category><category term="dell"></category><category term="xps"></category></entry><entry><title>SFTP jail en OpenSSH</title><link href="https://frommelmak.com/sftp-jail-en-openssh.html" rel="alternate"></link><published>2009-12-02T10:33:48+01:00</published><updated>2009-12-02T10:33:48+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-12-02:/sftp-jail-en-openssh.html</id><summary type="html">&lt;p&gt;Las versiones recientes de OpenSSH facilitan la tarea de enjaular a los usuarios dentro de su home al acceder por &lt;span class="caps"&gt;SFTP&lt;/span&gt;. Para ello podemos utilizar la directivas &lt;code&gt;Match&lt;/code&gt; y &lt;code&gt;ChrootDirectory&lt;/code&gt; que permiten sobreescribir las opciones globales de configuración para un grupo, usuario, host o &lt;span class="caps"&gt;IP&lt;/span&gt;&amp;nbsp;determinados.&lt;/p&gt;
&lt;p&gt;Ejemplo &lt;code&gt;sshd_config&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;Subsystem sftp …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Las versiones recientes de OpenSSH facilitan la tarea de enjaular a los usuarios dentro de su home al acceder por &lt;span class="caps"&gt;SFTP&lt;/span&gt;. Para ello podemos utilizar la directivas &lt;code&gt;Match&lt;/code&gt; y &lt;code&gt;ChrootDirectory&lt;/code&gt; que permiten sobreescribir las opciones globales de configuración para un grupo, usuario, host o &lt;span class="caps"&gt;IP&lt;/span&gt;&amp;nbsp;determinados.&lt;/p&gt;
&lt;p&gt;Ejemplo &lt;code&gt;sshd_config&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;Subsystem sftp internal-sftp&lt;/span&gt;
&lt;span class="go"&gt;Match user pepeuser&lt;/span&gt;
&lt;span class="go"&gt; ChrootDirectory /path/to/some_place&lt;/span&gt;
&lt;span class="go"&gt; X11Forwarding no&lt;/span&gt;
&lt;span class="go"&gt; AllowTcpForwarding no&lt;/span&gt;
&lt;span class="go"&gt; ForceCommand internal-sftp&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: el home de &lt;code&gt;pepeuser&lt;/code&gt; ha de ser la raiz del sistema &lt;code&gt;/&lt;/code&gt; ya que esta será relativa al &lt;code&gt;ChrootDirectory&lt;/code&gt; especificado para ese &lt;em&gt;user&lt;/em&gt; en &lt;code&gt;sshd_config&lt;/code&gt;. &lt;/p&gt;
&lt;p&gt;El &lt;em&gt;shell&lt;/em&gt; para ese user puede ser &lt;code&gt;/bin/false&lt;/code&gt; para evitar accesos via ssh para ese&amp;nbsp;user.&lt;/p&gt;</content><category term="Spanish"></category><category term="sftp"></category><category term="ssh"></category></entry><entry><title>Utilidad para modificar ficheros SWF en Linux/Windows</title><link href="https://frommelmak.com/utilidad-para-modificar-ficheros-swf-en-linuxwindows.html" rel="alternate"></link><published>2009-12-01T00:11:32+01:00</published><updated>2009-12-01T00:11:32+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-12-01:/utilidad-para-modificar-ficheros-swf-en-linuxwindows.html</id><summary type="html">&lt;p&gt;Para poder modificar un fichero &lt;span class="caps"&gt;SWF&lt;/span&gt; es necesario desensamblar el binario &lt;span class="caps"&gt;SWF&lt;/span&gt;, editar el fichero de texto resultante y volver a ensamblar. Mediante la utilidad &lt;a href="http://www.nowrap.de/flasm.html"&gt;Flasm&lt;/a&gt; es posible realizar esto de forma sencilla.&amp;nbsp;Ejemplo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;./flame -d fichero.swf  fichero.flm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Editamos el fichero &lt;code&gt;.flm&lt;/code&gt; mediante un editor de textos y …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Para poder modificar un fichero &lt;span class="caps"&gt;SWF&lt;/span&gt; es necesario desensamblar el binario &lt;span class="caps"&gt;SWF&lt;/span&gt;, editar el fichero de texto resultante y volver a ensamblar. Mediante la utilidad &lt;a href="http://www.nowrap.de/flasm.html"&gt;Flasm&lt;/a&gt; es posible realizar esto de forma sencilla.&amp;nbsp;Ejemplo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;./flame -d fichero.swf  fichero.flm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Editamos el fichero &lt;code&gt;.flm&lt;/code&gt; mediante un editor de textos y volvemos a generar el fichero&amp;nbsp;swf.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;./flame -a fichero.flm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;De esta manera es posible actualizar por ejemplo los enlaces del típico menú en&amp;nbsp;flash.&lt;/p&gt;</content><category term="Spanish"></category><category term="swf"></category></entry><entry><title>Convertir book drupal (UTF-8) a PDF mediante htmldoc</title><link href="https://frommelmak.com/convertir-book-drupal-utf-8-a-pdf-mediante-htmldoc.html" rel="alternate"></link><published>2009-11-26T09:40:04+01:00</published><updated>2009-11-26T09:40:04+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-11-26:/convertir-book-drupal-utf-8-a-pdf-mediante-htmldoc.html</id><summary type="html">&lt;p&gt;Descargamos la versión &lt;em&gt;printer friendly version&lt;/em&gt; del&amp;nbsp;book&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://www.youdomain.com/book/export/html/xxx -O web.html&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Dado que &lt;code&gt;htmldoc&lt;/code&gt; no soporta &lt;code&gt;--charset utf-8&lt;/code&gt; (en las versiones estables  1.9.x), deberemos convertir el &lt;code&gt;html&lt;/code&gt; a &lt;code&gt;iso-8859-1&lt;/code&gt; o de lo contrario no veremos bien algunos&amp;nbsp;caracteres.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;iconv …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;Descargamos la versión &lt;em&gt;printer friendly version&lt;/em&gt; del&amp;nbsp;book&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://www.youdomain.com/book/export/html/xxx -O web.html&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Dado que &lt;code&gt;htmldoc&lt;/code&gt; no soporta &lt;code&gt;--charset utf-8&lt;/code&gt; (en las versiones estables  1.9.x), deberemos convertir el &lt;code&gt;html&lt;/code&gt; a &lt;code&gt;iso-8859-1&lt;/code&gt; o de lo contrario no veremos bien algunos&amp;nbsp;caracteres.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;iconv -f UTF-8 -t ISO-8859-1 web.html  web-iso-8859-1.html&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finalmente utilizamos &lt;code&gt;htmldoc&lt;/code&gt; para crear el &lt;span class="caps"&gt;PDF&lt;/span&gt;&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;htmldoc -f web.pdf --webpage web-iso-8859-1.html&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="pdf"></category><category term="htmldoc"></category><category term="utf8"></category></entry><entry><title>SVN relocate</title><link href="https://frommelmak.com/svn-relocate.html" rel="alternate"></link><published>2009-11-16T11:22:17+01:00</published><updated>2009-11-16T11:22:17+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-11-16:/svn-relocate.html</id><summary type="html">&lt;p&gt;&lt;strong&gt;Nota rápida&lt;/strong&gt;: Si el host o la &lt;span class="caps"&gt;IP&lt;/span&gt; del servidor de svn cambia, un upgrade de tu copia local fallará. Esto es porque tu copia local hace referencia a la &lt;span class="caps"&gt;IP&lt;/span&gt; o nombre viejo. Para que no tengas que hacer un chekcout entero del repositorio, es posible cambiar la copia …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;strong&gt;Nota rápida&lt;/strong&gt;: Si el host o la &lt;span class="caps"&gt;IP&lt;/span&gt; del servidor de svn cambia, un upgrade de tu copia local fallará. Esto es porque tu copia local hace referencia a la &lt;span class="caps"&gt;IP&lt;/span&gt; o nombre viejo. Para que no tengas que hacer un chekcout entero del repositorio, es posible cambiar la copia local para que haga referencia a la nueva &lt;span class="caps"&gt;IP&lt;/span&gt;. Para ello utilizaremos el comando &lt;code&gt;switch&lt;/code&gt; de &lt;code&gt;svn&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /working_copy&lt;/span&gt;
&lt;span class="go"&gt;svn switch --relocate svn://HOST/REPO_PATH svn://host/REPO_PATH .&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="svn"></category><category term="subversion"></category></entry><entry><title>Instalar subversion 1.6.5 en en Ubuntu dapper</title><link href="https://frommelmak.com/instalar-subversion-165-en-en-ubuntu-dapper.html" rel="alternate"></link><published>2009-10-28T20:32:51+01:00</published><updated>2009-10-28T20:32:51+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-10-28:/instalar-subversion-165-en-en-ubuntu-dapper.html</id><summary type="html">&lt;p&gt;La última versión del paquete subversion en &lt;em&gt;Ubuntu Dapper&lt;/em&gt; es de la rama 1.3.x. Si queremos actualizar el servidor deberemos compilar subversion desde las fuentes con la opción &lt;code&gt;--without-serf&lt;/code&gt; para as poder satisfacer las&amp;nbsp;dependencias.&lt;/p&gt;
&lt;p&gt;En&amp;nbsp;resumen:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;mkdir svntemp&lt;/span&gt;
&lt;span class="go"&gt;cd svntemp&lt;/span&gt;
&lt;span class="go"&gt;wget http://subversion.tigris.org/downloads/subversion-1 …&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary><content type="html">&lt;p&gt;La última versión del paquete subversion en &lt;em&gt;Ubuntu Dapper&lt;/em&gt; es de la rama 1.3.x. Si queremos actualizar el servidor deberemos compilar subversion desde las fuentes con la opción &lt;code&gt;--without-serf&lt;/code&gt; para as poder satisfacer las&amp;nbsp;dependencias.&lt;/p&gt;
&lt;p&gt;En&amp;nbsp;resumen:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;mkdir svntemp&lt;/span&gt;
&lt;span class="go"&gt;cd svntemp&lt;/span&gt;
&lt;span class="go"&gt;wget http://subversion.tigris.org/downloads/subversion-1.6.5.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;wget http://subversion.tigris.org/downloads/subversion-deps-1.6.5.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf subversion-1.6.5.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;tar zxvf subversion-deps-1.6.5.tar.gz&lt;/span&gt;
&lt;span class="go"&gt;cd subversion-1.6.5&lt;/span&gt;
&lt;span class="go"&gt;./configure --without-serf --prefix=/opt/subversion-1.6.5&lt;/span&gt;
&lt;span class="go"&gt;make&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tras esto exportamos el repositorio actual (dump) y lo cargamos en la nueva versin de&amp;nbsp;subversion:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /path/al/repositoriosvnadmin dump /path/al/repositorio  /path/al/dumpfile-$(date +%F)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;creamos repositorio&amp;nbsp;nuevo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/opt/subversion-1.6.5/bin/svnadmin create nuevo_repositorio&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;cargamos fichero dump con la nueva versin de&amp;nbsp;svnadmin:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/opt/subversion-1.6.5/bin/svnadmin load repository-name  repository.dumpfile&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Si utilizamos &lt;code&gt;websvn&lt;/code&gt;, este seguir funcionando sobre el nuevo repositorio si bien deberemos configurarlo para que utilice el svn instalado en opt en vez del instalado como paquete, que podemos borrar (manteniendo&amp;nbsp;websvn).&lt;/p&gt;</content><category term="Spanish"></category><category term="svn"></category><category term="subversion"></category><category term="ubuntu"></category></entry><entry><title>Vodafone MC950D en Opensuse 11.1</title><link href="https://frommelmak.com/vodafone-mc950d-en-opensuse-111.html" rel="alternate"></link><published>2009-10-13T20:55:48+02:00</published><updated>2009-10-13T20:55:48+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-10-13:/vodafone-mc950d-en-opensuse-111.html</id><summary type="html">&lt;p&gt;Notas para instalar Modem &lt;strong&gt;&lt;span class="caps"&gt;USB&lt;/span&gt; &lt;span class="caps"&gt;MC950D&lt;/span&gt; de Vodafone&lt;/strong&gt; en Opensuse&amp;nbsp;11.1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Disponer del dispositovo &lt;span class="caps"&gt;USB&lt;/span&gt; Ovation &lt;span class="caps"&gt;MC950D&lt;/span&gt; de&amp;nbsp;Vodafone&lt;/li&gt;
&lt;li&gt;Instalar &lt;a href="https://forge.betavine.net/projects/vodafonemobilec"&gt;Vodafone Mobile Connect Card driver for Linux&lt;/a&gt; (&lt;a href="https://forge.betavine.net/frs/download.php/537/INSTALL_OPENSUSE111.TXT"&gt;INSTALL_OPENSUSE111.&lt;span class="caps"&gt;TXT&lt;/span&gt;&lt;/a&gt;) para&amp;nbsp;Opensuse.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Llegados a este punto, si al lanzar &lt;code&gt;vodafone-mobile-connect-card-driver-for-linux&lt;/code&gt; no te detecta ningun dispositivo, probablemente sea porque te está …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Notas para instalar Modem &lt;strong&gt;&lt;span class="caps"&gt;USB&lt;/span&gt; &lt;span class="caps"&gt;MC950D&lt;/span&gt; de Vodafone&lt;/strong&gt; en Opensuse&amp;nbsp;11.1&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Disponer del dispositovo &lt;span class="caps"&gt;USB&lt;/span&gt; Ovation &lt;span class="caps"&gt;MC950D&lt;/span&gt; de&amp;nbsp;Vodafone&lt;/li&gt;
&lt;li&gt;Instalar &lt;a href="https://forge.betavine.net/projects/vodafonemobilec"&gt;Vodafone Mobile Connect Card driver for Linux&lt;/a&gt; (&lt;a href="https://forge.betavine.net/frs/download.php/537/INSTALL_OPENSUSE111.TXT"&gt;INSTALL_OPENSUSE111.&lt;span class="caps"&gt;TXT&lt;/span&gt;&lt;/a&gt;) para&amp;nbsp;Opensuse.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Llegados a este punto, si al lanzar &lt;code&gt;vodafone-mobile-connect-card-driver-for-linux&lt;/code&gt; no te detecta ningun dispositivo, probablemente sea porque te está detectando la llave &lt;span class="caps"&gt;USB&lt;/span&gt; como dispositivo de almacenamiento. En este caso, un &lt;code&gt;lsusb&lt;/code&gt; te retorna&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;Bus 004 Device 005: ID 1410:5010 Novatel Wireless&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para conmutar dicho dispositivo a modo Modem has de ejecutar este&amp;nbsp;comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;vmc-usb_modeswitch-eject.sh 1410 5010&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tras lo cual un &lt;code&gt;lsusb&lt;/code&gt; mostrará:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;Bus 004 Device 006: ID 1410:4400 Novatel Wireless&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para que udev se encargue de hacer este switch automáticamente, es necesario modificar la regla udev para el dispositivo Novatel (&lt;code&gt;/etc/udev/rules.d/45-vmc-novatel.rules&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;Cambiamos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;ACTION==add, \&lt;/span&gt;
&lt;span class="go"&gt; ATTRS{idVendor}==1410, ATTRS{idProduct}==5010, \&lt;/span&gt;
&lt;span class="go"&gt; RUN:=/bin/eject %k&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Por esto&amp;nbsp;otro:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;ACTION==add, \&lt;/span&gt;
&lt;span class="go"&gt; ATTRS{idVendor}==1410, ATTRS{idProduct}==5010, \&lt;/span&gt;
&lt;span class="go"&gt; RUN:=/usr/sbin/vmc-usb_modeswitch-eject.sh 1410 5010&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora al arrancar aparecerá el dispositivo, la ventana para introducir el &lt;span class="caps"&gt;PIN&lt;/span&gt;,&amp;nbsp;etc.&lt;/p&gt;</content><category term="Spanish"></category><category term="vodafone"></category><category term="opensus"></category><category term="modem"></category><category term="adsl"></category></entry><entry><title>Crear discos virtuales de más de 256GB en VMware ESXi</title><link href="https://frommelmak.com/crear-discos-virtuales-de-mas-de-256gb-en-vmware-esxi.html" rel="alternate"></link><published>2009-08-11T14:53:41+02:00</published><updated>2009-08-11T14:53:41+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2009-08-11:/crear-discos-virtuales-de-mas-de-256gb-en-vmware-esxi.html</id><summary type="html">&lt;p&gt;Por defecto, al instalar ESXi en una máquina con un sólo disco configurado en el sistema, el datastore que se crea utiliza todo el espacio disponible en dicho dispositivo. Además configura el &lt;code&gt;block_size&lt;/code&gt; del filesystem &lt;code&gt;vmfs3&lt;/code&gt; del datastore a &lt;span class="caps"&gt;1MB&lt;/span&gt;. Esto limita el tamaño máximo de los discos virtuales que …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Por defecto, al instalar ESXi en una máquina con un sólo disco configurado en el sistema, el datastore que se crea utiliza todo el espacio disponible en dicho dispositivo. Además configura el &lt;code&gt;block_size&lt;/code&gt; del filesystem &lt;code&gt;vmfs3&lt;/code&gt; del datastore a &lt;span class="caps"&gt;1MB&lt;/span&gt;. Esto limita el tamaño máximo de los discos virtuales que podremos crear en dicho datastore a &lt;span class="caps"&gt;256GB&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Para poder crear discos de mayor tamao es necesario definir un &lt;code&gt;block_size&lt;/code&gt; de mayor tamaño (&lt;span class="caps"&gt;2MB&lt;/span&gt; para &lt;span class="caps"&gt;510GB&lt;/span&gt; y &lt;span class="caps"&gt;4MB&lt;/span&gt; para &lt;span class="caps"&gt;1TB&lt;/span&gt;). El problema es que una vez creado el datastore no es posible modificar el &lt;code&gt;block_size&lt;/code&gt;. La solución pasa por eliminar el datastore nada más instalar ESXi y volver a crearlo. En ese momento sí que es posible seleccionar el tamaño del &lt;code&gt;block_size&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;No lo he probado, preo otra opción seria crear un datastore para las máquinas virtuales con un &lt;code&gt;block_size&lt;/code&gt; de &lt;span class="caps"&gt;1MB&lt;/span&gt; y otro para el disco o discos virtuales con un tamao de &lt;code&gt;block_size&lt;/code&gt; de &lt;span class="caps"&gt;2MB&lt;/span&gt; o &lt;span class="caps"&gt;4MB&lt;/span&gt;.&lt;/p&gt;</content><category term="Spanish"></category><category term="hdd"></category><category term="esx"></category><category term="vmware"></category></entry><entry><title>Establecer una conexion OpenVPN desde una tarea de cron</title><link href="https://frommelmak.com/establecer-una-conexion-openvpn-desde-una-tarea-de-cron.html" rel="alternate"></link><published>2008-12-31T00:21:36+01:00</published><updated>2008-12-31T00:21:36+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-12-31:/establecer-una-conexion-openvpn-desde-una-tarea-de-cron.html</id><summary type="html">&lt;p&gt;Es muy típico que un script que funciona perfectamente desde una sesión de usuario normal falle al correr como un trabajo ejecutado por el&amp;nbsp;cron.&lt;/p&gt;
&lt;p&gt;Generalmente esto es debido a que las variables de entorno bajo las que se ejecuta el script en uno y otro caso no son las …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Es muy típico que un script que funciona perfectamente desde una sesión de usuario normal falle al correr como un trabajo ejecutado por el&amp;nbsp;cron.&lt;/p&gt;
&lt;p&gt;Generalmente esto es debido a que las variables de entorno bajo las que se ejecuta el script en uno y otro caso no son las&amp;nbsp;mismas.&lt;/p&gt;
&lt;p&gt;En el caso de lanzar OpenVPN como demonio desde una tarea de cron es importante tener esto en cuenta, ya que OpenVPN tras la autenticación llamará al comando &lt;code&gt;ifconfig&lt;/code&gt; para crear el dispositivo de red&amp;nbsp;virtual.&lt;/p&gt;
&lt;p&gt;Llegado este momento, si &lt;code&gt;/sbin&lt;/code&gt; no forma parte de la variable de entorno &lt;code&gt;PATH&lt;/code&gt;, nuestro script&amp;nbsp;fallará.&lt;/p&gt;
&lt;p&gt;Invocar a &lt;code&gt;/etc/init.d/openvpn start | stop&lt;/code&gt; para establecer y parar la conexión requiere utilizar los ficheros de configuración ubicados en &lt;code&gt;/etc/openvpn&lt;/code&gt; y jugar con &lt;code&gt;/etc/default/openvpn&lt;/code&gt; para que el script de inicialización haga lo que queremos. Así, una opción más fácil puede ser llamar a openvpn con un script similar a este, evitando parar accidentalmente sesiones de vpn no&amp;nbsp;deseadas.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="ch"&gt;#!/bin/bash&lt;/span&gt;
&lt;span class="nv"&gt;PATH&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin&amp;#39;&lt;/span&gt;
/usr/sbin/openvpn --daemon --writepid /var/run/myvpn --cd /root/vpn --config /root/vpn/client.conf
/bin/sleep &lt;span class="m"&gt;16&lt;/span&gt;
... &lt;span class="o"&gt;(&lt;/span&gt;lo que sea que hagamos por la VPN... acceso seguro a svn por ejemplo&lt;span class="o"&gt;)&lt;/span&gt;...
/bin/kill &lt;span class="k"&gt;$(&lt;/span&gt;cat /var/run/myvpn&lt;span class="k"&gt;)&lt;/span&gt;  rm /var/run/mypid
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Con &lt;code&gt;PATH&lt;/code&gt; aseguramos que OpenVPN, al correr como hijo del cron encuentra el comando &lt;code&gt;ifconfig&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Con &lt;code&gt;--daemon&lt;/code&gt;, OpenVPN corre como demonio. De lo contrario, el script nunca pasaria de esta&amp;nbsp;lnea.&lt;/li&gt;
&lt;li&gt;Con &lt;code&gt;--writepid /var/run/myvpn&lt;/code&gt; escribimos el &lt;span class="caps"&gt;PID&lt;/span&gt; del proceso OpenVPN en el fichero &lt;code&gt;/var/run/myvpn&lt;/code&gt;. Esto nos permite matar sólo esa sessión de vpn con &lt;code&gt;killall&lt;/code&gt; más&amp;nbsp;adelante.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;sleep&lt;/code&gt; es sálo para asegurar que el dispositovo &lt;span class="caps"&gt;TAP&lt;/span&gt; y las rutas existan antes de&amp;nbsp;utilizarlas.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Finalmente matamos sólo la conexión vpn establecida por este&amp;nbsp;script.&lt;/p&gt;
&lt;p&gt;Por otro lado, si además de los certificados y claves necesitamos de una autenticación mediante user y password, deberemos especificar el fichero que los contiene tras la opción &lt;code&gt;auth-user-pass /root/vpn/up&lt;/code&gt;. Esta opción suele estar en en fichero &lt;code&gt;client.conf&lt;/code&gt; y es la responsable de que se te pregunte que introduzcas un usuairo y password en aquellas conexines que asi lo requieren. De hecho, todas las opciones que hemos pasado a openvpn por linea de comandos mediante &lt;code&gt;--opcion&lt;/code&gt;, pueden ir en dicho fichero de configuración si as lo&amp;nbsp;deseamos.&lt;/p&gt;</content><category term="Spanish"></category><category term="cron"></category><category term="openvpn"></category></entry><entry><title>Crear un instalable en pocos minutos con NSIS</title><link href="https://frommelmak.com/crear-un-instalable-en-pocos-minutos-con-nsis.html" rel="alternate"></link><published>2008-12-19T00:54:42+01:00</published><updated>2008-12-19T00:54:42+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-12-19:/crear-un-instalable-en-pocos-minutos-con-nsis.html</id><summary type="html">&lt;p&gt;&lt;a href="http://nsis.sourceforge.net/"&gt;&lt;span class="caps"&gt;NSIS&lt;/span&gt;&lt;/a&gt; (&lt;em&gt;Nullsoft Scriptable Install System&lt;/em&gt;) permite empaquetar aplicaciones en un fichero &lt;code&gt;.exe&lt;/code&gt; autoinstalable. Aplicaciones como &lt;a href="http://www.openvpn.se/download.html"&gt;OpenVPN&lt;/a&gt; (para Windows) o &lt;a href="http://www.videolan.org/"&gt;&lt;span class="caps"&gt;VLC&lt;/span&gt;&lt;/a&gt; lo utilizan para distribuir sus versiones para plataformas&amp;nbsp;Win32.&lt;/p&gt;
&lt;p&gt;Pese a que la aplicación esta ampliamente &lt;a href="http://nsis.sourceforge.net/Docs/"&gt;documentada&lt;/a&gt;, he querido escribir este mini-articulo, en el que mediante un ejemplo explico los …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://nsis.sourceforge.net/"&gt;&lt;span class="caps"&gt;NSIS&lt;/span&gt;&lt;/a&gt; (&lt;em&gt;Nullsoft Scriptable Install System&lt;/em&gt;) permite empaquetar aplicaciones en un fichero &lt;code&gt;.exe&lt;/code&gt; autoinstalable. Aplicaciones como &lt;a href="http://www.openvpn.se/download.html"&gt;OpenVPN&lt;/a&gt; (para Windows) o &lt;a href="http://www.videolan.org/"&gt;&lt;span class="caps"&gt;VLC&lt;/span&gt;&lt;/a&gt; lo utilizan para distribuir sus versiones para plataformas&amp;nbsp;Win32.&lt;/p&gt;
&lt;p&gt;Pese a que la aplicación esta ampliamente &lt;a href="http://nsis.sourceforge.net/Docs/"&gt;documentada&lt;/a&gt;, he querido escribir este mini-articulo, en el que mediante un ejemplo explico los pasos a seguir para distribuir una aplicación. La idea es que dicho ejemplo sirva de base para no tener que perder mucho tiempo leyendo documentación y realizando mil y una pruebas antes de poder generar un instalable. Podeis utilizar el ejemplo como punto de partida para luego añadir lo que se os ocurra. Para ello os recomiendo dar un vistazo al &lt;a href="http://nsis.sourceforge.net/Developer_Center"&gt;rincón de desarrolladores&lt;/a&gt; de la wiki del proyecto &lt;span class="caps"&gt;NSIS&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Para crear un instalable &lt;code&gt;.exe&lt;/code&gt; con &lt;span class="caps"&gt;NSIS&lt;/span&gt; lo único que necesitamos es instalar la aplicación &lt;span class="caps"&gt;NSIS&lt;/span&gt; y crear un fichero de texto con extensión &lt;code&gt;.nsi&lt;/code&gt;. Este fichero define -mediante un lenguaje de script propio- cómo ha de ser el instalable: apariencia, ficheros a instalar, directorio de instalación , selección de idioma, comprobaciones a realizar, modificar o leer el registro de Windows, descargar e instalar dependencias, acciones a realizar para la desinstalación. En definitiva, casi cualquier cosa que se nos pueda pasar por la&amp;nbsp;cabeza.&lt;/p&gt;
&lt;p&gt;Una vez tengamos nuestro fichero &lt;code&gt;.nsi&lt;/code&gt;, crear el instalable es tan fácil como seleccionar nuestro fichero y desplegar el menu contextual. Tras seleccionarar la opción Compile &lt;span class="caps"&gt;NSIS&lt;/span&gt; Scirpt, aparecerá una consola con información acerca del progreso de generación del ejecutable, o en caso de error informacin relativa al&amp;nbsp;fallo.&lt;/p&gt;
&lt;p&gt;Pese a que &lt;span class="caps"&gt;NSIS&lt;/span&gt; permite personalizar el aspecto del instalador incrustando una imagen mediante las instrucciones &lt;code&gt;AddBrandingImage&lt;/code&gt; y &lt;code&gt;SetBrandingImage&lt;/code&gt;, es posible extender estas capacidades utilizando &lt;a href="http://nsis.sourceforge.net/Docs/Modern%20UI%202/Readme.html"&gt;&lt;span class="caps"&gt;NSIS&lt;/span&gt; Modern User Interface&lt;/a&gt; o &lt;a href="http://ultramodernui.sourceforge.net/"&gt;Ultra Modern User Inteface&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;El ejemplo que sigue a continuación utiliza Modern &lt;span class="caps"&gt;UI&lt;/span&gt; para crear un instalador resultón en un momento. Pare ser honestos, he de reconocer que pese a la fántastica documentación de &lt;span class="caps"&gt;NSIS&lt;/span&gt;, he perdio un buen rato intentando mejoar el look and feel del instalable mediante Modern &lt;span class="caps"&gt;UI&lt;/span&gt; debido a un problema que no he encontrado descrito en ningun sitio. El problema es que las imagenes de la cabecera no se muestran si no se incluye la instrucción &lt;code&gt;!insertmacro MUI_LANGUAGE lang&lt;/code&gt;, que a priori no tiene nada que&amp;nbsp;ver.&lt;/p&gt;
&lt;p&gt;El ejemplo esta cargado de comentarios por lo que será fácil adaptarlo a vuestras necesidades. Para entenderlo simplemente hay que saber que el fichero &lt;code&gt;.nsi&lt;/code&gt; esta ubicado en el mismo directorio que contiene los ficheros que conforman la aplicación que queremos instalar, así como las imagenes que utilizaremos para el wizard de&amp;nbsp;instalación.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt; --FooApp&lt;/span&gt;
&lt;span class="go"&gt;     |    `--lib&lt;/span&gt;
&lt;span class="go"&gt;     |     |--file1.dll&lt;/span&gt;
&lt;span class="go"&gt;     |     `--fileN.dll&lt;/span&gt;
&lt;span class="go"&gt;     |-- header.bmp&lt;/span&gt;
&lt;span class="go"&gt;     |-- image1.bmp&lt;/span&gt;
&lt;span class="go"&gt;     |-- foo_app.ico&lt;/span&gt;
&lt;span class="go"&gt;     |-- start_foo.exe &lt;/span&gt;
&lt;span class="go"&gt;     |-- foo_app.nsi&lt;/span&gt;
&lt;span class="go"&gt;     `-- README.txt&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;El fichero &lt;code&gt;foo_app.nsi&lt;/code&gt; encargado de crear el instalable para esta aplicacin podria ser&amp;nbsp;este:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c"&gt;;----------------------------------------------------------------------------&lt;/span&gt;
&lt;span class="c"&gt;; General configuration&lt;/span&gt;

&lt;span class="c"&gt;; The name and version of the installer&lt;/span&gt;

 &lt;span class="cp"&gt;!define&lt;/span&gt; VERSION 1.0
 &lt;span class="k"&gt;Name&lt;/span&gt; Foo App &lt;span class="kp"&gt;${VERSION}&lt;/span&gt;
 &lt;span class="k"&gt;OutFile&lt;/span&gt; Foo App Installer &lt;span class="o"&gt;-&lt;/span&gt; &lt;span class="kp"&gt;${VERSION}&lt;/span&gt;.exe
 &lt;span class="k"&gt;InstallDir&lt;/span&gt; &lt;span class="nv"&gt;$PROGRAMFILES&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App

 &lt;span class="c"&gt;;;; Request application privileges for Windows Vista (can be user or admin)&lt;/span&gt;
 &lt;span class="k"&gt;RequestExecutionLevel&lt;/span&gt; &lt;span class="no"&gt;admin&lt;/span&gt;
&lt;span class="c"&gt;;----------------------------------------------------------------------------&lt;/span&gt;


&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;
&lt;span class="c"&gt;;Use Modern User Interface&lt;/span&gt;
 &lt;span class="cp"&gt;!include&lt;/span&gt; MUI2.nsh
&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;


&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;
&lt;span class="c"&gt;; Interface Settings&lt;/span&gt;

 &lt;span class="k"&gt;BrandingText&lt;/span&gt; Foo App Installer (Powered by NSIS)
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_HEADERIMAGE
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_HEADERIMAGE_BITMAP header.bmp &lt;span class="c"&gt;; size 150x57&lt;/span&gt;
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_HEADERIMAGE_UNBITMAP header.bmp &lt;span class="c"&gt;; size 150x57&lt;/span&gt;
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_PAGE_HEADER_TEXT Installing Foo App
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_PAGE_HEADER_SUBTEXT Copying files...
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_ABORTWARNING
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_ICON foo_app.ico
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_UNICON foo_app.ico

&lt;span class="c"&gt;; Pages&lt;/span&gt;

 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_WELCOMEFINISHPAGE_BITMAP image1.bmp &lt;span class="c"&gt;; size 164x314&lt;/span&gt;
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_WELCOMEPAGE_TITLE_3LINES
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_WELCOMEPAGE_TITLE Welcome to the Foo App &lt;span class="kp"&gt;${VERSION}&lt;/span&gt; $&lt;span class="p"&gt;\&lt;/span&gt;n Setup Wizard
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_WELCOMEPAGE_TEXT This wizard will guide you through the installation of &lt;span class="p"&gt;\&lt;/span&gt;
 Foo App &lt;span class="kp"&gt;${VERSION}&lt;/span&gt; $&lt;span class="p"&gt;\&lt;/span&gt;n$&lt;span class="p"&gt;\&lt;/span&gt;nClick Install to continue

 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_INSTFILESPAGE_FINISHHEADER_TEXT Foo App Setup Complete
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_INSTFILESPAGE_COLORS f1f1f1 000000
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_FINISHPAGE_NOAUTOCLOSE

 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_FINISHPAGE_TITLE Setup Complete
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_FINISHPAGE_TEXT Thank you for using Foo App
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_FINISHPAGE_RUN foo.exe
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_FINISHPAGE_RUN_TEXT Start Foo App

 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_UNCONFIRMPAGE_TEXT_TOP Remove Foo App from this computer
 &lt;span class="cp"&gt;!define&lt;/span&gt; MUI_UNCONFIRMPAGE_TEXT_LOCATION Installation &lt;span class="nl"&gt;Directory&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;

 &lt;span class="cp"&gt;!insertmacro&lt;/span&gt; MUI_PAGE_WELCOME
 &lt;span class="cp"&gt;!insertmacro&lt;/span&gt; MUI_PAGE_INSTFILES
 &lt;span class="cp"&gt;!insertmacro&lt;/span&gt; MUI_PAGE_FINISH

 &lt;span class="cp"&gt;!insertmacro&lt;/span&gt; MUI_UNPAGE_CONFIRM
 &lt;span class="cp"&gt;!insertmacro&lt;/span&gt; MUI_UNPAGE_INSTFILES

 &lt;span class="k"&gt;ShowInstDetails&lt;/span&gt; &lt;span class="no"&gt;show&lt;/span&gt;
 &lt;span class="k"&gt;ShowUninstDetails&lt;/span&gt; &lt;span class="no"&gt;show&lt;/span&gt;
&lt;span class="c"&gt;;---------------------------------------------&lt;/span&gt;

&lt;span class="c"&gt;;---------------------------------------------&lt;/span&gt;
&lt;span class="c"&gt;; I don&amp;#39;t know why but required to show images&lt;/span&gt;

 &lt;span class="cp"&gt;!insertmacro&lt;/span&gt; MUI_LANGUAGE English
&lt;span class="c"&gt;;---------------------------------------------&lt;/span&gt;

&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;
&lt;span class="c"&gt;; The stuff to install&lt;/span&gt;
&lt;span class="k"&gt;Section&lt;/span&gt; Install
 &lt;span class="c"&gt;;;; Foo App will be installed for all users&lt;/span&gt;
 &lt;span class="k"&gt;SetShellVarContext&lt;/span&gt; &lt;span class="no"&gt;all&lt;/span&gt;
 &lt;span class="c"&gt;;;; Set output path to the installation directory.&lt;/span&gt;
 &lt;span class="k"&gt;SetOutPath&lt;/span&gt; &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;
 &lt;span class="c"&gt;;;; Put *.exe file there&lt;/span&gt;
 &lt;span class="k"&gt;File&lt;/span&gt; start_foo.exe
 &lt;span class="k"&gt;File&lt;/span&gt; README.txt
 &lt;span class="k"&gt;File&lt;/span&gt; foo_app.ico
 &lt;span class="k"&gt;File&lt;/span&gt; image1.bmp
 &lt;span class="k"&gt;File&lt;/span&gt; header.bmp
 &lt;span class="k"&gt;SetOutPath&lt;/span&gt; &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;lib
 &lt;span class="k"&gt;File&lt;/span&gt; lib&lt;span class="p"&gt;\&lt;/span&gt;*.dll
 &lt;span class="k"&gt;WriteUninstaller&lt;/span&gt; &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;uninstaller.exe
 &lt;span class="k"&gt;SetOutPath&lt;/span&gt; &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;
 &lt;span class="c"&gt;;;; Create desktop shortcut&lt;/span&gt;
 &lt;span class="k"&gt;CreateShortCut&lt;/span&gt; &lt;span class="nb"&gt;$DESKTOP&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App.lnk &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;start_foo.exe  &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;foo_app.ico
 &lt;span class="c"&gt;;;; Create start-menu items&lt;/span&gt;
 &lt;span class="k"&gt;CreateDirectory&lt;/span&gt; &lt;span class="nb"&gt;$STARTMENU&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App
 &lt;span class="k"&gt;CreateShortCut&lt;/span&gt; &lt;span class="nb"&gt;$STARTMENU&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App&lt;span class="p"&gt;\&lt;/span&gt;Foo App.lnk &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;start_foo.exe  &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;foo_app.ico
 &lt;span class="k"&gt;CreateShortCut&lt;/span&gt; &lt;span class="nb"&gt;$STARTMENU&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App&lt;span class="p"&gt;\&lt;/span&gt;Foo App Uninstaller.lnk &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;uninstaller.exe
 &lt;span class="c"&gt;;;; Add uninstall information to Add/Remove Programs (Control Panel)&lt;/span&gt;
 &lt;span class="k"&gt;WriteRegStr&lt;/span&gt; &lt;span class="no"&gt;HKLM&lt;/span&gt; Software&lt;span class="p"&gt;\&lt;/span&gt;Microsoft&lt;span class="p"&gt;\&lt;/span&gt;Windows&lt;span class="p"&gt;\&lt;/span&gt;CurrentVersion&lt;span class="p"&gt;\&lt;/span&gt;Uninstall&lt;span class="p"&gt;\&lt;/span&gt;FooApp &lt;span class="p"&gt;\&lt;/span&gt;
 DisplayName Foo App Bla Bla
 &lt;span class="k"&gt;WriteRegStr&lt;/span&gt; &lt;span class="no"&gt;HKLM&lt;/span&gt; Software&lt;span class="p"&gt;\&lt;/span&gt;Microsoft&lt;span class="p"&gt;\&lt;/span&gt;Windows&lt;span class="p"&gt;\&lt;/span&gt;CurrentVersion&lt;span class="p"&gt;\&lt;/span&gt;Uninstall&lt;span class="p"&gt;\&lt;/span&gt;FooApp &lt;span class="p"&gt;\&lt;/span&gt;
 UninstallString &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;uninstaller.exe
 &lt;span class="k"&gt;WriteRegStr&lt;/span&gt; &lt;span class="no"&gt;HKLM&lt;/span&gt; Software&lt;span class="p"&gt;\&lt;/span&gt;Microsoft&lt;span class="p"&gt;\&lt;/span&gt;Windows&lt;span class="p"&gt;\&lt;/span&gt;CurrentVersion&lt;span class="p"&gt;\&lt;/span&gt;Uninstall&lt;span class="p"&gt;\&lt;/span&gt;FooApp &lt;span class="p"&gt;\&lt;/span&gt;
 DisplayIcon &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;foo_app.ico
 &lt;span class="k"&gt;WriteRegStr&lt;/span&gt; &lt;span class="no"&gt;HKLM&lt;/span&gt; Software&lt;span class="p"&gt;\&lt;/span&gt;Microsoft&lt;span class="p"&gt;\&lt;/span&gt;Windows&lt;span class="p"&gt;\&lt;/span&gt;CurrentVersion&lt;span class="p"&gt;\&lt;/span&gt;Uninstall&lt;span class="p"&gt;\&lt;/span&gt;FooApp &lt;span class="p"&gt;\&lt;/span&gt;
 Publisher Your Organization
&lt;span class="k"&gt;SectionEnd&lt;/span&gt;
&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;

&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;
&lt;span class="c"&gt;; The stuff to Uninstall&lt;/span&gt;
&lt;span class="k"&gt;Section&lt;/span&gt; Uninstall
 &lt;span class="c"&gt;;;; Foo App will be removed for all users&lt;/span&gt;
 &lt;span class="k"&gt;SetShellVarContext&lt;/span&gt; &lt;span class="no"&gt;all&lt;/span&gt;
 &lt;span class="k"&gt;SetOutPath&lt;/span&gt; &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;
 &lt;span class="k"&gt;RMDir&lt;/span&gt; &lt;span class="na"&gt;/r&lt;/span&gt; &lt;span class="vg"&gt;$INSTDIR&lt;/span&gt;
 &lt;span class="k"&gt;RMDir&lt;/span&gt; &lt;span class="na"&gt;/r&lt;/span&gt; &lt;span class="nb"&gt;$STARTMENU&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App
 &lt;span class="k"&gt;Delete&lt;/span&gt; &lt;span class="nb"&gt;$DESKTOP&lt;/span&gt;&lt;span class="p"&gt;\&lt;/span&gt;Foo App.lnk
 &lt;span class="c"&gt;;;; Remove Foo App info from the windows registry&lt;/span&gt;
 &lt;span class="k"&gt;DeleteRegKey&lt;/span&gt; &lt;span class="no"&gt;HKLM&lt;/span&gt; Software&lt;span class="p"&gt;\&lt;/span&gt;Microsoft&lt;span class="p"&gt;\&lt;/span&gt;Windows&lt;span class="p"&gt;\&lt;/span&gt;CurrentVersion&lt;span class="p"&gt;\&lt;/span&gt;Uninstall&lt;span class="p"&gt;\&lt;/span&gt;FooApp
&lt;span class="k"&gt;SectionEnd&lt;/span&gt;
&lt;span class="c"&gt;;--------------------------------&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="nsis"></category><category term="installer"></category><category term="win32"></category></entry><entry><title>Comunicarse via SOAP con Mantis (Mantisconnect) desde PHP</title><link href="https://frommelmak.com/comunicarse-via-soap-con-mantis-mantisconnect-desde-php.html" rel="alternate"></link><published>2008-11-26T22:15:54+01:00</published><updated>2008-11-26T22:15:54+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-11-26:/comunicarse-via-soap-con-mantis-mantisconnect-desde-php.html</id><summary type="html">&lt;p&gt;No he encontrado muchos ejemplos (por no decir ninguno) de como llamar a los mtodos &lt;span class="caps"&gt;SOAP&lt;/span&gt; de Mantis desde &lt;span class="caps"&gt;PHP&lt;/span&gt;, así que aquí dejo unos&amp;nbsp;ejemplitos.&lt;/p&gt;
&lt;p&gt;Lo primero de todo es saber que tras la instalación de Mantis, podemos obtener el &lt;span class="caps"&gt;WSDL&lt;/span&gt; bajo esta &lt;span class="caps"&gt;URL&lt;/span&gt;: &lt;code&gt;http://logquesea/api/soap/mantisconnect …&lt;/code&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;No he encontrado muchos ejemplos (por no decir ninguno) de como llamar a los mtodos &lt;span class="caps"&gt;SOAP&lt;/span&gt; de Mantis desde &lt;span class="caps"&gt;PHP&lt;/span&gt;, así que aquí dejo unos&amp;nbsp;ejemplitos.&lt;/p&gt;
&lt;p&gt;Lo primero de todo es saber que tras la instalación de Mantis, podemos obtener el &lt;span class="caps"&gt;WSDL&lt;/span&gt; bajo esta &lt;span class="caps"&gt;URL&lt;/span&gt;: &lt;code&gt;http://logquesea/api/soap/mantisconnect.php?wsdl&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Adems del &lt;span class="caps"&gt;WSDL&lt;/span&gt;, es interesante saber que hay una ayuda para humanos acerca de los métodos disponibles. Se puede obtener omitiendo &lt;code&gt;?wsdl&lt;/code&gt; en la llamada&amp;nbsp;anterior.&lt;/p&gt;
&lt;p&gt;A continuación os dejo los ejemplos sobre como llamar a algunos de estos métodos desde &lt;span class="caps"&gt;PHP&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Obtener la versin de&amp;nbsp;Mantis:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="nv"&gt;$client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;SoapClient&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="nx"&gt;mantis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;soap&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;mantisconnect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;php&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="nx"&gt;wsdl&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="k"&gt;print&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;mc_version&lt;/span&gt;&lt;span class="p"&gt;());&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Obtener array con diferentes estadisticas de&amp;nbsp;Mantis&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="nv"&gt;$client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;SoapClient&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="nx"&gt;mantis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;soap&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;mantisconnect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;php&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="nx"&gt;wsdl&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="nv"&gt;$username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;usuario&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nv"&gt;$password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;contrasea&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;&lt;span class="nb"&gt;print_r&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;mc_enum_status&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$username&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$password&lt;/span&gt;&lt;span class="p"&gt;));&lt;/span&gt;

&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Aadir una nueva issue a&amp;nbsp;Mantis&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="cp"&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class="nv"&gt;$client&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;SoapClient&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;http&lt;/span&gt;&lt;span class="o"&gt;://&lt;/span&gt;&lt;span class="nx"&gt;mantis&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;api&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;soap&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="nx"&gt;mantisconnect&lt;/span&gt;&lt;span class="o"&gt;.&lt;/span&gt;&lt;span class="nx"&gt;php&lt;/span&gt;&lt;span class="o"&gt;?&lt;/span&gt;&lt;span class="nx"&gt;wsdl&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;

&lt;span class="nv"&gt;$username&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;usuario&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="nv"&gt;$password&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nx"&gt;constrasea&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;

&lt;span class="nv"&gt;$issue&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;project&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;SOAP&lt;/span&gt; &lt;span class="nx"&gt;Test&lt;/span&gt;&lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;category&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;General&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="nx"&gt;priority&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;severity&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;status&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;reproducibility&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;resolution&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;projection&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;eta&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;view_state&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;array&lt;/span&gt; &lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nx"&gt;id&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nx"&gt;name&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="p"&gt;),&lt;/span&gt;
              &lt;span class="nx"&gt;summary&lt;/span&gt;  &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="nx"&gt;Test&lt;/span&gt; &lt;span class="nx"&gt;SOAP&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt;
              &lt;span class="nx"&gt;description&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="k"&gt;This&lt;/span&gt; &lt;span class="nx"&gt;is&lt;/span&gt; &lt;span class="nx"&gt;just&lt;/span&gt; &lt;span class="nx"&gt;a&lt;/span&gt; &lt;span class="k"&gt;new&lt;/span&gt; &lt;span class="nx"&gt;issue&lt;/span&gt; &lt;span class="nx"&gt;added&lt;/span&gt; &lt;span class="nx"&gt;using&lt;/span&gt; &lt;span class="nx"&gt;SOAP&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;&lt;span class="nv"&gt;$client&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="nx"&gt;mc_issue_add&lt;/span&gt;&lt;span class="p"&gt;(&lt;/span&gt;&lt;span class="nv"&gt;$username&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$password&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="nv"&gt;$issue&lt;/span&gt;&lt;span class="p"&gt;);&lt;/span&gt;
&lt;span class="cp"&gt;?&amp;gt;&lt;/span&gt;&lt;span class="x"&gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: Aquí lo importante es saber que los tipos de datos complejos del array (priority, severity, status, ) han de estar definidos pese a ser opcionales. De lo contrario el servidor soap da un error y no procesa la&amp;nbsp;llamada.&lt;/p&gt;</content><category term="Spanish"></category><category term="soap"></category><category term="mantis"></category><category term="php"></category></entry><entry><title>De VMware Server a ESXi con VMware Converter</title><link href="https://frommelmak.com/de-vmware-server-a-esxi-con-vmware-converter.html" rel="alternate"></link><published>2008-10-07T17:16:37+02:00</published><updated>2008-10-07T17:16:37+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-10-07:/de-vmware-server-a-esxi-con-vmware-converter.html</id><summary type="html">&lt;p&gt;Chuleta rápida para convertir una máquina &lt;em&gt;VMware Server&lt;/em&gt; (&lt;code&gt;.vmx&lt;/code&gt;) a formato &lt;em&gt;appliance&lt;/em&gt; para &lt;em&gt;VMware ESXi&lt;/em&gt; (&lt;code&gt;.ova&lt;/code&gt;/&lt;code&gt;.ovf&lt;/code&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inicio -&amp;gt; Todos los programas  -&amp;gt; VMware -&amp;gt; VMware&amp;nbsp;Converter&lt;/li&gt;
&lt;li&gt;Convert Machine -&amp;gt; Siguiente -&amp;gt;&amp;nbsp;Siguiente&lt;/li&gt;
&lt;li&gt;Select the type of source you want to use: Other&amp;nbsp;(Siguiente)&lt;/li&gt;
&lt;li&gt;Source &lt;span class="caps"&gt;VM&lt;/span&gt; or Image: &lt;code&gt;loquesea.vm&lt;/code&gt;x&amp;nbsp;(Siguiente)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Esperamos un rato …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Chuleta rápida para convertir una máquina &lt;em&gt;VMware Server&lt;/em&gt; (&lt;code&gt;.vmx&lt;/code&gt;) a formato &lt;em&gt;appliance&lt;/em&gt; para &lt;em&gt;VMware ESXi&lt;/em&gt; (&lt;code&gt;.ova&lt;/code&gt;/&lt;code&gt;.ovf&lt;/code&gt;).&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Inicio -&amp;gt; Todos los programas  -&amp;gt; VMware -&amp;gt; VMware&amp;nbsp;Converter&lt;/li&gt;
&lt;li&gt;Convert Machine -&amp;gt; Siguiente -&amp;gt;&amp;nbsp;Siguiente&lt;/li&gt;
&lt;li&gt;Select the type of source you want to use: Other&amp;nbsp;(Siguiente)&lt;/li&gt;
&lt;li&gt;Source &lt;span class="caps"&gt;VM&lt;/span&gt; or Image: &lt;code&gt;loquesea.vm&lt;/code&gt;x&amp;nbsp;(Siguiente)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Esperamos un rato e ignoramos el warning que da&amp;nbsp;(Siguiente)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Siguiente,&amp;nbsp;Siguiente&lt;/li&gt;
&lt;li&gt;Select destination type: Virtual Appliance&amp;nbsp;(Siguiente)&lt;/li&gt;
&lt;li&gt;Virtual Appliance Name: lo que&amp;nbsp;sea&lt;/li&gt;
&lt;li&gt;Location: dónde sea que tengamos espacio&amp;nbsp;suficiente&lt;/li&gt;
&lt;li&gt;Siguiente&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Rellenamos los detalles del appliance: Product &lt;span class="caps"&gt;URL&lt;/span&gt;, Version, Vendor, Vendor &lt;span class="caps"&gt;URL&lt;/span&gt;,&amp;nbsp;Annotation&amp;#8230;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Siguiente,&amp;nbsp;Siguiente&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ahora seleccionamos el formato del fichero de salida (distribution format), teniendo especial cuidado de utilizar el formato ova. (Si especificamos ova, obtendremos tanto el formato ova como el ovf. &lt;span class="caps"&gt;OVF&lt;/span&gt; es que que vamos a poder importar desde&amp;nbsp;ESXi)&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Siguiente, Siguiente,&amp;nbsp;Finalizar&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Dependiendo del tamao del a imagen, el proceso puede tardar un buen rato, asi que&amp;nbsp;paciencia.&lt;/p&gt;</content><category term="Spanish"></category><category term="vmware"></category><category term="esxi"></category><category term="virtualization"></category></entry><entry><title>From Trac to Dokuwiki</title><link href="https://frommelmak.com/from-trac-to-dokuwiki.html" rel="alternate"></link><published>2008-08-13T23:27:51+02:00</published><updated>2008-08-13T23:27:51+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-08-13:/from-trac-to-dokuwiki.html</id><summary type="html">&lt;p&gt;This is my first post in English, so I apologize in advance for my poor&amp;nbsp;grammar.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll try to explain how to export all the pages of a Trac wiki into a Dokuwiki . All the process is based in my own shell script, which uses trac-admin, wget and html2wiki …&lt;/p&gt;</summary><content type="html">&lt;p&gt;This is my first post in English, so I apologize in advance for my poor&amp;nbsp;grammar.&lt;/p&gt;
&lt;p&gt;I&amp;#8217;ll try to explain how to export all the pages of a Trac wiki into a Dokuwiki . All the process is based in my own shell script, which uses trac-admin, wget and html2wiki to export all the content of your Trac wiki into a dokuwiki&amp;nbsp;folders.&lt;/p&gt;
&lt;p&gt;At a glance, the main steps performed by the script are the&amp;nbsp;following:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Get the Trac wiki pages as a &lt;span class="caps"&gt;HTML&lt;/span&gt; files using &lt;code&gt;wget&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Remove all the &lt;span class="caps"&gt;HTML&lt;/span&gt; code belonging to the Trac page&amp;nbsp;itself.&lt;/li&gt;
&lt;li&gt;Convert all the pages from &lt;span class="caps"&gt;HTML&lt;/span&gt; to Dokuwiki format (using &lt;code&gt;html2wiki&lt;/code&gt;).&lt;/li&gt;
&lt;li&gt;Fix some internal/media links and transform footer attachments into dokuwiki&amp;nbsp;format.&lt;/li&gt;
&lt;li&gt;Rename all the pages and media from upper to lower&amp;nbsp;case.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The output of the script are two tarball files. One with the Dokuwiki pages, and the oter one with the media&amp;nbsp;files.&lt;/p&gt;
&lt;p&gt;As you probably know, the pages in a Dokuwiki are stored in simple text files,using the Dokuwiki format. All these pages are stored inside a folder called pages, using different subfolders for every namespace on the wiki. The same occour with the media files. All of them are stored inside folders named as the namespace they belong to, beneath the media folder. So, you just need to extract the content of the media tarball into the media folder and the content of the pages tarball inside the pages folder. And that&amp;#8217;s all, your pages are now stored inside a&amp;nbsp;Dokuwiki.&lt;/p&gt;
&lt;p&gt;If you want to see the script, click on the Leer ms link&amp;nbsp;below.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="c1"&gt;# Marcos Martinez&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Dependencies: html2wiki&lt;/span&gt;
&lt;span class="c1"&gt;# trac-admin&lt;/span&gt;
&lt;span class="c1"&gt;# wget&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;
&lt;span class="c1"&gt;# Installation of html2wiki: perl -MCPAN -e &amp;#39;install HTML::WikiConverter::DokuWiki&amp;#39;&lt;/span&gt;
&lt;span class="c1"&gt;#&lt;/span&gt;

&lt;span class="nv"&gt;TRAC_PROJECT_ENV&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;/path/to/trac/project&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_HOSTNAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;x.x.x.x or URL&amp;#39;&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_PORT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="s1"&gt;&amp;#39;80&amp;#39;&lt;/span&gt;

&lt;span class="c1"&gt;# Fill up the following two lines if your trac is using basic athentication method.&lt;/span&gt;
&lt;span class="nv"&gt;USER&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;your_trac_user
&lt;span class="nv"&gt;PASS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;your_trac_password

&lt;span class="c1"&gt;# By default, all the pages will be exported inside a dokuwiki namespace named as the Trac Project&lt;/span&gt;
&lt;span class="nv"&gt;DOKUWIKI_NAMESPACE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="s1"&gt;&amp;#39;^name&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_PROJECT_ENV&lt;/span&gt;/conf/trac.ini &lt;span class="p"&gt;|&lt;/span&gt; gawk &lt;span class="s1"&gt;&amp;#39;{print $3}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="c1"&gt;#DOKUWIKI_NAMESPACE=&amp;#39;your_desired_dokuwiki_namespace&amp;#39;&lt;/span&gt;

&lt;span class="nv"&gt;TRAC_BASE_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="s1"&gt;&amp;#39;base_url =&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_PROJECT_ENV&lt;/span&gt;/conf/trac.ini &lt;span class="p"&gt;|&lt;/span&gt; gawk &lt;span class="s1"&gt;&amp;#39;{print $3}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_URL_LOGIN&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;http://&lt;span class="nv"&gt;$TRAC_HOSTNAME&lt;/span&gt;:&lt;span class="nv"&gt;$TRAC_PORT$TRAC_BASE_NAME&lt;/span&gt;/login
&lt;span class="nv"&gt;TRAC_URL_WIKI&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;http://&lt;span class="nv"&gt;$TRAC_HOSTNAME&lt;/span&gt;:&lt;span class="nv"&gt;$TRAC_PORT$TRAC_BASE_NAME&lt;/span&gt;/wiki
&lt;span class="nv"&gt;TRAC_PROJECT_NAME&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep &lt;span class="s1"&gt;&amp;#39;^name&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_PROJECT_ENV&lt;/span&gt;/conf/trac.ini &lt;span class="p"&gt;|&lt;/span&gt; gawk &lt;span class="s1"&gt;&amp;#39;{print $3}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_INSTALL_DATE&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;ls -l &lt;span class="nv"&gt;$TRAC_PROJECT_ENV&lt;/span&gt;/README &lt;span class="p"&gt;|&lt;/span&gt;gawk &lt;span class="s1"&gt;&amp;#39;{print $6   $7}&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_WIKI_PAGES&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_BASE_NAME&lt;/span&gt;/wiki &lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;&amp;#39;s/\//\\\//g&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_WIKI_ATTACHMENTS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_BASE_NAME&lt;/span&gt;/attachment/wiki&lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;&amp;#39;s/\//\\\//g&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_WIKI_RAW_ATTACHMENTS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_BASE_NAME&lt;/span&gt;/raw-attachment/wiki &lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;&amp;#39;s/\//\\\//g&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;
&lt;span class="nv"&gt;TRAC_BS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_BASE_NAME&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; sed &lt;span class="s1"&gt;&amp;#39;s/\//\\\//g&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# The PLIST var has the list of pages we want to export.&lt;/span&gt;
&lt;span class="c1"&gt;# By default, all the wiki pages modified after the installation date&lt;/span&gt;
&lt;span class="c1"&gt;# will be exported.&lt;/span&gt;
&lt;span class="nv"&gt;PLIST&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;trac-admin &lt;span class="nv"&gt;$TRAC_PROJECT_ENV&lt;/span&gt; wiki list&lt;span class="p"&gt;|&lt;/span&gt;grep -v &lt;span class="nv"&gt;$TRAC_INSTALL_DATE&lt;/span&gt; &lt;span class="p"&gt;|&lt;/span&gt; gawk &lt;span class="s1"&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt;sed &lt;span class="s1"&gt;&amp;#39;1,3d&amp;#39;&lt;/span&gt;&lt;span class="k"&gt;)&lt;/span&gt;

&lt;span class="c1"&gt;# Starting authenticated session&lt;/span&gt;
wget --quiet --spider &lt;span class="se"&gt;\&lt;/span&gt;
     --user&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$USER&lt;/span&gt; --password&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="nv"&gt;$PASS&lt;/span&gt; &lt;span class="se"&gt;\&lt;/span&gt;
     --save-cookies galletitas &lt;span class="se"&gt;\&lt;/span&gt;
     --keep-session-cookies &lt;span class="nv"&gt;$TRAC_URL_LOGIN&lt;/span&gt;

mkdir &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; PAGE in &lt;span class="nv"&gt;$PLIST&lt;/span&gt;
&lt;span class="k"&gt;do&lt;/span&gt;
&lt;span class="nb"&gt;echo&lt;/span&gt; Downloading: &lt;span class="nv"&gt;$PAGE&lt;/span&gt;
  wget --load-cookies galletitas --quiet -P &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt; &lt;span class="nv"&gt;$TRAC_URL_WIKI&lt;/span&gt;/&lt;span class="nv"&gt;$PAGE&lt;/span&gt;
&lt;span class="k"&gt;done&lt;/span&gt;


&lt;span class="k"&gt;for&lt;/span&gt; FILE in &lt;span class="sb"&gt;`&lt;/span&gt;ls &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="nb"&gt;echo&lt;/span&gt; Parsing &lt;span class="nv"&gt;$FILE&lt;/span&gt;

  &lt;span class="c1"&gt;# Removing standard HTML trac code (header and footer)&lt;/span&gt;
  sed -i &lt;span class="s1"&gt;&amp;#39;1,66d&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;
  sed -i -n -e :a -e &lt;span class="s1"&gt;&amp;#39;1,45!{P;N;D;};N;ba&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;

  &lt;span class="c1"&gt;# Removing table of contents (TOC) because in dokuwiki, the TOC is dynamically created at runtime.&lt;/span&gt;
  sed -i &lt;span class="s1"&gt;&amp;#39;/class=\wiki-toc\/d&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;

  &lt;span class="c1"&gt;# Adding HTML headers&lt;/span&gt;
  sed -i &lt;span class="s1"&gt;&amp;#39;1i\html\nhead\n/head\nbody&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;
  sed -i &lt;span class="s1"&gt;&amp;#39;$a\/body\n/html&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;
  html2wiki --dialect DokuWiki &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;  &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt
  rm &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;

  &lt;span class="c1"&gt;# Fixing internal links&lt;/span&gt;
  sed -i s/&lt;span class="se"&gt;\[\[&lt;/span&gt;&lt;span class="nv"&gt;$TRAC_WIKI_PAGES&lt;/span&gt;&lt;span class="se"&gt;\/&lt;/span&gt;/&lt;span class="se"&gt;\[\[&lt;/span&gt;&lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;:/g &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt

  &lt;span class="c1"&gt;# Fixing media links&lt;/span&gt;
  sed -i s/&lt;span class="se"&gt;\[\[&lt;/span&gt;&lt;span class="nv"&gt;$TRAC_WIKI_ATTACHMENTS&lt;/span&gt;&lt;span class="se"&gt;\/&lt;/span&gt;&lt;span class="nv"&gt;$FILE&lt;/span&gt;&lt;span class="se"&gt;\/&lt;/span&gt;/&lt;span class="o"&gt;{{&lt;/span&gt;:&lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;:/g &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt
  sed -i s/&lt;span class="o"&gt;{{&lt;/span&gt;&lt;span class="nv"&gt;$TRAC_WIKI_RAW_ATTACHMENTS&lt;/span&gt;&lt;span class="se"&gt;\/&lt;/span&gt;&lt;span class="nv"&gt;$FILE&lt;/span&gt;&lt;span class="se"&gt;\/&lt;/span&gt;//g &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt
  sed -i s/&lt;span class="o"&gt;}}]]&lt;/span&gt;/&lt;span class="o"&gt;}}&lt;/span&gt;/gDOKUWIKI_NAMESPACE/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt

  &lt;span class="c1"&gt;# Removing timeline data from &amp;#39;Attachments&amp;#39; at the EOF if needed&lt;/span&gt;

  &lt;span class="nv"&gt;NUM&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;grep -n &lt;span class="s1"&gt;&amp;#39;==== Attachments ====&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt &lt;span class="p"&gt;|&lt;/span&gt; cut -d&lt;span class="s1"&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f1&lt;span class="k"&gt;)&lt;/span&gt;
  grep -q &lt;span class="s1"&gt;&amp;#39;==== Attachments ====&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt  sed -i &lt;span class="nv"&gt;$NUM&lt;/span&gt;,&lt;span class="se"&gt;\$&lt;/span&gt;s/&lt;span class="se"&gt;\[\[&lt;/span&gt;&lt;span class="nv"&gt;$TRAC_BS&lt;/span&gt;&lt;span class="se"&gt;\/&lt;/span&gt;timeline?from&lt;span class="o"&gt;=&lt;/span&gt;.*&lt;span class="o"&gt;]]&lt;/span&gt; ago.//g &lt;span class="nv"&gt;$DOKUWIKI_NAME&lt;/span&gt;            SPACE/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt
  &lt;span class="c1"&gt;# Formating attachments footer as Dokuwiki linkonly links&lt;/span&gt;
  grep -q &lt;span class="s1"&gt;&amp;#39;==== Attachments ====&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt  sed -i &lt;span class="nv"&gt;$NUM&lt;/span&gt;,&lt;span class="se"&gt;\$&lt;/span&gt;s/ * &lt;span class="o"&gt;{{&lt;/span&gt;/&lt;span class="o"&gt;{{&lt;/span&gt;/ &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt
  grep -q &lt;span class="s1"&gt;&amp;#39;==== Attachments ====&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt  sed -i &lt;span class="nv"&gt;$NUM&lt;/span&gt;,&lt;span class="se"&gt;\$&lt;/span&gt;s/&lt;span class="p"&gt;|&lt;/span&gt;/?linkonly&lt;span class="p"&gt;|&lt;/span&gt;/ &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt
  grep -q &lt;span class="s1"&gt;&amp;#39;==== Attachments ====&amp;#39;&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt  sed -i &lt;span class="nv"&gt;$NUM&lt;/span&gt;,&lt;span class="se"&gt;\$&lt;/span&gt;s/&lt;span class="o"&gt;]]&lt;/span&gt;/&lt;span class="o"&gt;}}&lt;/span&gt;/ &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt

  &lt;span class="c1"&gt;# In Dokuwiki, only lower characters are allowed in filenames&lt;/span&gt;
  mv -u &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt &lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;/&lt;span class="nv"&gt;$FILE&lt;/span&gt;.txt&lt;span class="p"&gt;|&lt;/span&gt; tr &lt;span class="o"&gt;[&lt;/span&gt;:upper:&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;:lower:&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;/dev/null

&lt;span class="k"&gt;done&lt;/span&gt;

tar -czvf &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;.tar.gz &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;
mkdir &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media
find &lt;span class="nv"&gt;$TRAC_PROJECT_ENV&lt;/span&gt;/attachments/wiki -type f -exec cp &lt;span class="o"&gt;{}&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media &lt;span class="se"&gt;\;&lt;/span&gt;

&lt;span class="k"&gt;for&lt;/span&gt; FILE in &lt;span class="sb"&gt;`&lt;/span&gt;ls &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media&lt;span class="sb"&gt;`&lt;/span&gt;
&lt;span class="k"&gt;do&lt;/span&gt;
  &lt;span class="c1"&gt;# In Dokuwiki, only lower characters are allowed in media filenames&lt;/span&gt;
  mv -u &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media/&lt;span class="nv"&gt;$FILE&lt;/span&gt; &lt;span class="sb"&gt;`&lt;/span&gt;&lt;span class="nb"&gt;echo&lt;/span&gt; &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media/&lt;span class="nv"&gt;$FILE&lt;/span&gt;&lt;span class="p"&gt;|&lt;/span&gt; tr &lt;span class="o"&gt;[&lt;/span&gt;:upper:&lt;span class="o"&gt;]&lt;/span&gt; &lt;span class="o"&gt;[&lt;/span&gt;:lower:&lt;span class="o"&gt;]&lt;/span&gt;&lt;span class="sb"&gt;`&lt;/span&gt; &lt;span class="m"&gt;2&lt;/span&gt;/dev/null
&lt;span class="k"&gt;done&lt;/span&gt;

tar -czvf &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media.tar.gz &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media

rm -rf &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;-media &lt;span class="nv"&gt;$DOKUWIKI_NAMESPACE&lt;/span&gt;
rm galletitas
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="English"></category><category term="trac"></category><category term="dokuwiki"></category></entry><entry><title>Utilizar el lector de huellas del Dell m1330 en GNU/Linux</title><link href="https://frommelmak.com/utilizar-el-lector-de-huellas-del-dell-m1330-en-gnulinux.html" rel="alternate"></link><published>2008-07-08T23:45:08+02:00</published><updated>2008-07-08T23:45:08+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-07-08:/utilizar-el-lector-de-huellas-del-dell-m1330-en-gnulinux.html</id><summary type="html">&lt;p&gt;Bueno, este va a ser una entrada breve. Casi tanto como rápido y fácil ha sido configurar esto en Opensuse 11. Y es que Linux ya no es lo que era. Ahora casi todo se puede hacer a golpe de ratn (snif&amp;nbsp;snfi!).&lt;/p&gt;
&lt;p&gt;Bueno, ahi va la&amp;nbsp;receta:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Desde la …&lt;/li&gt;&lt;/ul&gt;</summary><content type="html">&lt;p&gt;Bueno, este va a ser una entrada breve. Casi tanto como rápido y fácil ha sido configurar esto en Opensuse 11. Y es que Linux ya no es lo que era. Ahora casi todo se puede hacer a golpe de ratn (snif&amp;nbsp;snfi!).&lt;/p&gt;
&lt;p&gt;Bueno, ahi va la&amp;nbsp;receta:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Desde la sección &lt;em&gt;Hardware&lt;/em&gt; de &lt;em&gt;Yast&lt;/em&gt;, habilitamos el lector de huellas (Fingerprint&amp;nbsp;Reader).&lt;/li&gt;
&lt;li&gt;Vamos a la sección &lt;em&gt;Security and Users&lt;/em&gt; de Yast y seleccionamos &lt;em&gt;User and Group Management&lt;/em&gt;. En la pestaa Users, seleccionamos los usuarios que queremos puedan validar su sesion mediante el lector de huellas y editamos sus propiedades. Vamos a la ventana de plugins, seleccionamos el plugin &lt;em&gt;Sets the User Fingerprint&lt;/em&gt; y le damos a &lt;em&gt;Launch&lt;/em&gt;. Nos pedirá que pasemos el dedo tres veces por el lector y&amp;nbsp;listos.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ahora, si abrimos un terminal y nos convertimos en &lt;code&gt;su - usuario&lt;/code&gt;, nos pedirá que introduzcamos el &lt;em&gt;password&lt;/em&gt; o pasemos el dedo.&amp;nbsp;Mola!&lt;/p&gt;
&lt;p&gt;Bueno, pero como funciona realmente todo esto&amp;nbsp;?&lt;/p&gt;
&lt;p&gt;Por un lado, lo que hemos hecho es configurar la autenticación &lt;em&gt;pam&lt;/em&gt; para llamar a los modulitos que permiten la entrada desde el lector de huellas. Dicho de otro modo, metemos en &lt;code&gt;/etc/pam.d/common-auth-pc&lt;/code&gt; esta&amp;nbsp;linea:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;auth sufficient pam_thinkfinger.so&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Luego, via Yast hemos llamado a la herramienta &lt;em&gt;Think Finger&lt;/em&gt; para que lea y verifique nuestra huella y la meta en &lt;code&gt;/etc/pam_thinkfinger&lt;/code&gt; en formato &lt;code&gt;usuario.bir&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Así pues, para que también podamos pasar a root con un sólo dedo, hemos de ejecutar el siguiente comando (pasando olimpicamente de Yast). Aunque sólo sea para que parezca que sabemos lo que estamos&amp;nbsp;haciendo.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="p"&gt;:&lt;/span&gt;&lt;span class="n"&gt;console&lt;/span&gt;
&lt;span class="n"&gt;tf&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="k"&gt;tool&lt;/span&gt; &lt;span class="o"&gt;--&lt;/span&gt;&lt;span class="n"&gt;add&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;user&lt;/span&gt; &lt;span class="n"&gt;root&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Si queremos pasar al 100% de Yast y hacerlo todo desde la línea de comandos, hemos de asegurarnos de cargar el modulo &lt;code&gt;uinput&lt;/code&gt; y que tenemos un dispositivo tipo &lt;code&gt;/dev/input/uinput&lt;/code&gt; o&amp;nbsp;similar.&lt;/p&gt;
&lt;p&gt;Para más informacin: &lt;code&gt;man pam_thinkfinger&lt;/code&gt;, &lt;code&gt;man tf-tool&lt;/code&gt; y &lt;a href=""&gt;thinkfinger.sourceforge.net&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Por cierto, por si no lo habeis adivinado aun sí, ahora tengo un &lt;em&gt;Dell m1330&lt;/em&gt; full featured ! Con gadgets así, los cambios de trabajo se hacen menos duros&amp;nbsp;jeje.&lt;/p&gt;</content><category term="Spanish"></category><category term="m1330"></category><category term="dell"></category></entry><entry><title>Regalo libro ‘Unix Programación Avanzada’</title><link href="https://frommelmak.com/regalo-libro-unix-programacion-avanzada.html" rel="alternate"></link><published>2008-04-28T21:41:04+02:00</published><updated>2008-04-28T21:41:04+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-04-28:/regalo-libro-unix-programacion-avanzada.html</id><summary type="html">&lt;p&gt;El otro dia me regalé un par de libros. Entre ellos la 3 edición de Unix Programación avanzada de Fco. Manuel Márquez, ed. Ra-ma (&lt;span class="caps"&gt;ISBN&lt;/span&gt;:8478976035). La segunda ediciión de este mismo titulo fue mi santo grial en la asignatura de Sistemas Operativos. En esta última entrega se ha ampliado …&lt;/p&gt;</summary><content type="html">&lt;p&gt;El otro dia me regalé un par de libros. Entre ellos la 3 edición de Unix Programación avanzada de Fco. Manuel Márquez, ed. Ra-ma (&lt;span class="caps"&gt;ISBN&lt;/span&gt;:8478976035). La segunda ediciión de este mismo titulo fue mi santo grial en la asignatura de Sistemas Operativos. En esta última entrega se ha ampliado bastante la parte de Procesos, que ahora se llama Procesos e Hilos.
Si te interesa envíame un email y acordamos la forma de hacertelo&amp;nbsp;llegar.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Unix Programación Avanzada" src="|filename|/images/old_blog/unix.jpeg"&gt;&lt;/p&gt;
&lt;p&gt;Teneis más info sobre el libro &lt;a href="http://www.ra-ma.es/libros/0001692.htm"&gt;aquí&lt;/a&gt;.&lt;/p&gt;</content><category term="Spanish"></category><category term="unix"></category></entry><entry><title>Compiz Fusion sobre AIGLX en Intel GMA900</title><link href="https://frommelmak.com/compiz-fusion-sobre-aiglx-en-intel-gma900.html" rel="alternate"></link><published>2008-04-28T21:03:31+02:00</published><updated>2008-04-28T21:03:31+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-04-28:/compiz-fusion-sobre-aiglx-en-intel-gma900.html</id><summary type="html">&lt;p&gt;Mucho ha llovido desde que en &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=1&amp;amp;section_type=2&amp;amp;num=&amp;amp;task=read_more&amp;amp;id_info=90"&gt;2006&lt;/a&gt; empezara a jugar con Compiz y &lt;span class="caps"&gt;XGL&lt;/span&gt;. Pese ha todo, no ha sido hasta hace unos dias que me he decidido a utilizar &lt;a href="http://www.compiz-fusion.org/"&gt;Compiz Fusion&lt;/a&gt; + &lt;a href="http://en.wikipedia.org/wiki/AIGLX"&gt;&lt;span class="caps"&gt;AIGLX&lt;/span&gt;&lt;/a&gt; como configuración por defecto. Los motivos que me retenian en un modelo sin composite manager eran básicamente …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Mucho ha llovido desde que en &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=1&amp;amp;section_type=2&amp;amp;num=&amp;amp;task=read_more&amp;amp;id_info=90"&gt;2006&lt;/a&gt; empezara a jugar con Compiz y &lt;span class="caps"&gt;XGL&lt;/span&gt;. Pese ha todo, no ha sido hasta hace unos dias que me he decidido a utilizar &lt;a href="http://www.compiz-fusion.org/"&gt;Compiz Fusion&lt;/a&gt; + &lt;a href="http://en.wikipedia.org/wiki/AIGLX"&gt;&lt;span class="caps"&gt;AIGLX&lt;/span&gt;&lt;/a&gt; como configuración por defecto. Los motivos que me retenian en un modelo sin composite manager eran básicamente de fiabilidad y rendimiento. Y es que hasta hace muy poquito, había un par de problemas con las tarjetas Intel que me impedian trabajar con la fluidez y fiabilidad necesaria para mi trabajo&amp;nbsp;diario.&lt;/p&gt;
&lt;p&gt;El principal de ellos era un problema que afectaba a la acelerarcin XVideo y algun que otro problemilla. El resultado práctico era que la reproduciión de videos a pantalla completa, así como los programas que tiraban de aceleración gráfica tipo Google Earth, era patética. Por otro lado, mi &lt;em&gt;dock&lt;/em&gt; preferido hasta la fecha no terminaba de llevarse demasiado bien con el decorador de ventanas de Compiz Fusion (&lt;a href="http://wiki.compiz-fusion.org/Decorators/Emerald"&gt;Emerald&lt;/a&gt;) y ni con &lt;a href="http://wiki.compiz-fusion.org/Decorators/KDEWindowDecorator"&gt;&lt;span class="caps"&gt;KDE&lt;/span&gt; window decorator&lt;/a&gt;. Ahora, los problemas con el video se han solventado y existen otros docks realmente chulos que exprimen al máximo las capacidades de Compiz. De momento estoy utilizando Cairo-Dock, si bien mi idea es utilizar &lt;a href="https://launchpad.net/awn"&gt;&lt;span class="caps"&gt;AWN&lt;/span&gt;&lt;/a&gt; en cuanto sea capaz de hacerlo funcionar en mi&amp;nbsp;OpenSUSE.&lt;/p&gt;
&lt;p&gt;http://www.youtube.com/watch?v=Ny_VkzhLhbs&lt;/p&gt;
&lt;p&gt;Bueno, no me enrollo más, os dejo con el obligado video demostrativo en el que además muestro las bondades de &lt;a href="https://launchpad.net/awn"&gt;VirtualBox&lt;/a&gt; corriendo una máquina virtual&amp;nbsp;WindowsXP.&lt;/p&gt;</content><category term="Spanish"></category><category term="compiz"></category><category term="intel"></category><category term="aiglx"></category><category term="virtualbox"></category></entry><entry><title>Error de autenticación en Samba (RHEL4.6 AS x86_64)</title><link href="https://frommelmak.com/error-de-autenticacion-en-samba-rhel46-as-x86_64.html" rel="alternate"></link><published>2008-02-25T10:37:57+01:00</published><updated>2008-02-25T10:37:57+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-02-25:/error-de-autenticacion-en-samba-rhel46-as-x86_64.html</id><summary type="html">&lt;p&gt;Tras perder la tarde del viernes configurando un simple share en samba, por fin he dado con el&amp;nbsp;problema.&lt;/p&gt;
&lt;p&gt;El error se producía al intentar mapear el share desde Windows. Tras poner usuario y password obtenia este&amp;nbsp;mensaje:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;A device attached to the system is not functioning.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;El problema es …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Tras perder la tarde del viernes configurando un simple share en samba, por fin he dado con el&amp;nbsp;problema.&lt;/p&gt;
&lt;p&gt;El error se producía al intentar mapear el share desde Windows. Tras poner usuario y password obtenia este&amp;nbsp;mensaje:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;A device attached to the system is not functioning.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;El problema es que el fichero del módulo de autenticación &lt;span class="caps"&gt;PAM&lt;/span&gt;, hacía referencia a las librerias de 32bits en lugar de llamar a las de 64bits. Para solucionarlo, tan solo has de referenciar a la libreria en cuestión, sin poner el path absoluto. De esta manera es el sistema el que selecciona las librerias que considera&amp;nbsp;necesario.&lt;/p&gt;
&lt;p&gt;&lt;code&gt;/etc/pam.d/samba&lt;/code&gt; &lt;strong&gt;Incorrecto&lt;/strong&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/etc/pam.d/samba [Incorrecto]&lt;/span&gt;
&lt;span class="go"&gt;auth required /lib/security/pam_stack.so service=system-auth&lt;/span&gt;
&lt;span class="go"&gt;account required /lib/security/pam_stack.so service=system-auth&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;code&gt;/etc/pam.d/samba&lt;/code&gt; &lt;strong&gt;Correcto&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/etc/pam.d/samba [Correcto]&lt;/span&gt;
&lt;span class="go"&gt;auth required pam_stack.so service=system-auth&lt;/span&gt;
&lt;span class="go"&gt;account required pam_stack.so service=system-auth&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Desconozco si es un error reportado, pero en la web de Red Hat no he encontrado ninguna&amp;nbsp;referencia.&lt;/p&gt;
&lt;p&gt;Más &lt;a href="http://www.linuxquestions.org/questions/linux-server-73/swat-root-cant-log-in-604135/"&gt;info&lt;/a&gt;&lt;/p&gt;</content><category term="Spanish"></category><category term="samba"></category><category term="pam"></category></entry><entry><title>Escritorio Virtual 3D mediante el control de la posición de la cabeza</title><link href="https://frommelmak.com/escritorio-virtual-3d-mediante-el-control-de-la-posicion-de-la-cabeza.html" rel="alternate"></link><published>2008-02-11T21:25:23+01:00</published><updated>2008-02-11T21:25:23+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-02-11:/escritorio-virtual-3d-mediante-el-control-de-la-posicion-de-la-cabeza.html</id><content type="html">&lt;p&gt;El titular vendría a ser la mejor traducción que se me ha ocurrido para este video: &lt;em&gt;Head Tracking for Desktop &lt;span class="caps"&gt;VR&lt;/span&gt; Displays using the WiiRemote&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;http://www.youtube.com/watch?v=Jd3-eiid-Uw&lt;/p&gt;
&lt;p&gt;Realmente espectacular&amp;nbsp;!&lt;/p&gt;</content><category term="Spanish"></category><category term="head tracking"></category><category term="3D"></category></entry><entry><title>Humor: Cómo medir la calidad de un cdigo fuente.</title><link href="https://frommelmak.com/humor-como-medir-la-calidad-de-un-cdigo-fuente.html" rel="alternate"></link><published>2008-02-06T22:19:05+01:00</published><updated>2008-02-06T22:19:05+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-02-06:/humor-como-medir-la-calidad-de-un-cdigo-fuente.html</id><content type="html">&lt;p&gt;Visto en &lt;a href="http://www.osnews.com/story/19266/WTFs_m"&gt;www.osnews.com&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="humor" src="|filename|/images/old_blog/wtfm.jpg"&gt;&lt;/p&gt;</content><category term="Spanish"></category><category term="dev"></category><category term="humor"></category></entry><entry><title>TestDisk: Recuperar datos de una partición NTFS</title><link href="https://frommelmak.com/testdisk-recuperar-datos-de-una-particion-ntfs.html" rel="alternate"></link><published>2008-01-03T11:40:01+01:00</published><updated>2008-01-03T11:40:01+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2008-01-03:/testdisk-recuperar-datos-de-una-particion-ntfs.html</id><summary type="html">&lt;p&gt;Imagina que tu &lt;span class="caps"&gt;PC&lt;/span&gt; se muere, imagina que te compras uno nuevo, llegas a casa lo conectas todo y lo enciendes. Imagina ahora que por alguna extraña razón decides instalar Windows en tu nuevo ordenador y en el momento de reparticionar el disco vas a saco. Pese a que te …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Imagina que tu &lt;span class="caps"&gt;PC&lt;/span&gt; se muere, imagina que te compras uno nuevo, llegas a casa lo conectas todo y lo enciendes. Imagina ahora que por alguna extraña razón decides instalar Windows en tu nuevo ordenador y en el momento de reparticionar el disco vas a saco. Pese a que te extraña ver dos discos piensas que los de la tienda han hecho algo raro y no le das más importancia. Te cargas &lt;strong&gt;&lt;span class="caps"&gt;TODAS&lt;/span&gt;&lt;/strong&gt; las particiones que ves para empezar de cero y dejarlo todo como a ti te&amp;nbsp;gusta. &lt;/p&gt;
&lt;p&gt;Justo en ese fatídico momento te das cuenta de que la &lt;span class="caps"&gt;BIOS&lt;/span&gt; de tu flamante nuevo equipo es capaz de arrancar desde dispositivos &lt;span class="caps"&gt;USB&lt;/span&gt; por lo que windows ha sido capaz de detectar el disco duro externo en el momento del particionado. Así que te lo has cargado todo todo y&amp;nbsp;todo!!!&lt;/p&gt;
&lt;p&gt;Antes de pensar en el suicidio como una posible solución al problema, quizás te interese seguir leyendo. Bueno, que no cunda el pánico!!! La teoría dice que sólo te has cargado la partición, por lo que el filesystem debería seguir ahí, intacto. Mas chulo que un ocho arrancas de nuevo el ordenador con un sistema operativo de verdad. Metes tu &lt;span class="caps"&gt;CD&lt;/span&gt; de Knoppix y tiras de &lt;code&gt;fdisk&lt;/code&gt; para volver a crear la partición. Pero horror!!! Tras rehacerla, sigues sin poder montar el disco duro externo! Esto quiere decir que no sólo has eliminado la partición, sino que ademas dañado el filesystem que&amp;nbsp;contiene.&lt;/p&gt;
&lt;p&gt;Bien, es hora de asumir que quizás no sabes tanto como creías sobre particiones y filesystems y dejar paso a un experto en la materia: &lt;a href="http://www.cgsecurity.org/wiki/TestDisk"&gt;TestDisk&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Esta tool a la que debiste haber recurrido desde un buen principio es 100% &lt;span class="caps"&gt;GPL&lt;/span&gt; y te permite ,entre otras cosas, escanear el disco duro y detectar problemas con las particiones y/o los filesystem. Dado que existen versiones para Windows, Linux (el propio Knoppix la trae en sus últimas versiones) y Mac podrás utilizar la tool desde cualquier&amp;nbsp;ordenador.&lt;/p&gt;
&lt;p&gt;Pese a que la tool está ampliamente documentada en el wiki del proyecto, voy a tratar de explicar paso a paso como utilizarla para este caso en concreto, ya que en el momento de la recuperación, quizás estemos algo alterados como para tener que leer la&amp;nbsp;documentación.&lt;/p&gt;
&lt;p&gt;Lo primero de todo es instalar la aplicación en nuestro sistema. Si estamos utilizando un sistema &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux probablemente la tool ya este instalada. En caso contrario, la &lt;a href="http://www.cgsecurity.org/wiki/TestDisk_Download"&gt;descargaremos desde la web&lt;/a&gt; y la instalaremos (descomprimir el fichero en el caso de windows) en el&amp;nbsp;sistema.&lt;/p&gt;
&lt;p&gt;Para ejecutarla en Linux basta con ejecutar testdisk como root. En windows en cambio, deberemos ejecutar el siguiente binario una vez descomprimido el&amp;nbsp;software:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;testdisk\win\testdisk_win.exe&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Guia&amp;nbsp;Rápida.&lt;/h2&gt;
&lt;p&gt;Para recuperar una partición borrada, la secuencia de opciones a seleccionar sera&amp;nbsp;esta:&lt;/p&gt;
&lt;p&gt;No Log -&amp;gt; Seleccionamos partición a restaurar + Proceed -&amp;gt; Intel -&amp;gt; Analyse -&amp;gt; Proceed -&amp;gt; Buscar Vista ? N Seleccionamos la Partición a Restaurar + Enter -&amp;gt; Write ? Y -&amp;gt; Ok -&amp;gt; Quit  -&amp;gt;Quit&amp;nbsp;&amp;#8230;&lt;/p&gt;
&lt;p&gt;Si sólo hemos borrado la partición, ya deberíamos haber solucionado el&amp;nbsp;problema.&lt;/p&gt;
&lt;p&gt;Para comprobarlo salimos de la aplicación, (desmontamos: quitar hardware con seguridad) y desconectamos el disco &lt;span class="caps"&gt;USB&lt;/span&gt;. Volvemos a conectar y si el filesystem no tiene daños, deberá montarse sin&amp;nbsp;más.&lt;/p&gt;
&lt;p&gt;Si no es así, es porque probablemente hemos dañado el sector de arranque. Los pasos para intentar restaurar el sistema de ficheros serán&amp;nbsp;estos:&lt;/p&gt;
&lt;p&gt;No Log -&amp;gt; Seleccionamos partición a restaurar + Proceed -&amp;gt; Intel -&amp;gt; Advance -&amp;gt; Boot -&amp;gt; Rebuild &lt;span class="caps"&gt;BS&lt;/span&gt; (esperamos cruzando los dedos) -&amp;gt; Quit -&amp;gt; Quit&amp;nbsp;&amp;#8230;&lt;/p&gt;
&lt;p&gt;Al igual que antes, quitamos el hardware y lo volvemos a conectar para ver si ya es&amp;nbsp;accesible.&lt;/p&gt;
&lt;p&gt;Bueno, hasta aquí la guia rápida. Dejo unas capturas a continuación para ilustrar con más detalle los dos procesos descritos&amp;nbsp;anteriormente.&lt;/p&gt;
&lt;h2&gt;Recuperación de una partición con Test Disk paso a paso (con&amp;nbsp;capturas):&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.7, Data Recovery Utility, June 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;


&lt;span class="go"&gt;TestDisk is a data recovery designed to help recover lost partitions&lt;/span&gt;
&lt;span class="go"&gt;and/or make non-booting disks bootable again when these symptoms&lt;/span&gt;
&lt;span class="go"&gt;are caused by faulty software, certain types of viruses or human error.&lt;/span&gt;
&lt;span class="go"&gt;It can also be used to repair some filesystem errors.&lt;/span&gt;

&lt;span class="go"&gt;Information gathered during TestDisk use can be recorded for later&lt;/span&gt;
&lt;span class="go"&gt;review. If you choose to create the text file, testdisk.log , it&lt;/span&gt;
&lt;span class="go"&gt;will contain TestDisk options, technical information and various&lt;/span&gt;
&lt;span class="go"&gt;outputs; including any folder/file names TestDisk was used to find and&lt;/span&gt;
&lt;span class="go"&gt;list onscreen.&lt;/span&gt;

&lt;span class="go"&gt;Use arrow keys to select, then press Enter key:&lt;/span&gt;
&lt;span class="go"&gt;[ Create ] Create a new log file&lt;/span&gt;
&lt;span class="go"&gt;[ Append ] Append information to log file&lt;/span&gt;
&lt;span class="go"&gt;[ No Log ] Don&amp;#39;t record anything&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Donde seleccionaremos &lt;strong&gt;&lt;code&gt;[ No Log ]&lt;/code&gt;&lt;/strong&gt; si no deseamos guardar lo que vamos haciendo. Guardar un log podría ser útil en caso de problemas para por ejemplo poder enviar el log al creador de la tool o a algún foro especializado en busca de&amp;nbsp;ayuda.&lt;/p&gt;
&lt;p&gt;La siguiente pantalla que veríamos sería&amp;nbsp;esta:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.7, Data Recovery Utility, June 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;TestDisk is free software, and&lt;/span&gt;
&lt;span class="go"&gt;comes with ABSOLUTELY NO WARRANTY.&lt;/span&gt;

&lt;span class="go"&gt;Select a media (use Arrow keys, then press Enter):&lt;/span&gt;
&lt;span class="go"&gt;Disk /dev/sda - 80 GB / 74 GiB&lt;/span&gt;
&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB&lt;/span&gt;








&lt;span class="go"&gt;[Proceed ] [ Quit ]&lt;/span&gt;

&lt;span class="go"&gt;Note: Disk capacity must be correctly detected for a successful recovery.&lt;/span&gt;
&lt;span class="go"&gt;If a disk listed above has incorrect size, check HD jumper settings, BIOS&lt;/span&gt;
&lt;span class="go"&gt;detection, and install the latest OS patches and disk drivers.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Seleccionamos el dispositivo danado -&lt;code&gt;/dev/sdb&lt;/code&gt; en este caso- y le damos a&amp;nbsp;[Proceed].&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.7, Data Recovery Utility, June 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;


&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB&lt;/span&gt;

&lt;span class="go"&gt;Please select the partition table type, press Enter when done.&lt;/span&gt;
&lt;span class="go"&gt;[Intel ] Intel/PC partition&lt;/span&gt;
&lt;span class="go"&gt;[Mac ] Apple partition map&lt;/span&gt;
&lt;span class="go"&gt;[None ] Non partitioned media&lt;/span&gt;
&lt;span class="go"&gt;[Sun ] Sun Solaris partition&lt;/span&gt;
&lt;span class="go"&gt;[XBox ] XBox partition&lt;/span&gt;
&lt;span class="go"&gt;[Return ] Return to disk selection&lt;/span&gt;






&lt;span class="go"&gt;Note: Do NOT select &amp;#39;None&amp;#39; for media with only a single partition. It&amp;#39;s very&lt;/span&gt;
&lt;span class="go"&gt;rare for a drive to be &amp;#39;Non-partitioned&amp;#39;.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Aquí seleccionamos Intel ya que la partición del ejemplo es &lt;span class="caps"&gt;NTFS&lt;/span&gt; (&lt;span class="caps"&gt;PC&lt;/span&gt;).&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.7, Data Recovery Utility, June 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;


&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB - CHS 246 255 63&lt;/span&gt;

&lt;span class="go"&gt;[ Analyse ] Analyse current partition structure and search for lost partitions&lt;/span&gt;
&lt;span class="go"&gt;[ Advanced ] Filesystem Utils&lt;/span&gt;
&lt;span class="go"&gt;[ Geometry ] Change disk geometry&lt;/span&gt;
&lt;span class="go"&gt;[ Options ] Modify options&lt;/span&gt;
&lt;span class="go"&gt;[ MBR Code ] Write TestDisk MBR code to first sector&lt;/span&gt;
&lt;span class="go"&gt;[ Delete ] Delete all data in the partition table&lt;/span&gt;
&lt;span class="go"&gt;[ Quit ] Return to disk selection&lt;/span&gt;






&lt;span class="go"&gt;Note: Correct disk geometry is required for a successful recovery. &amp;#39;Analyse&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;process may give some warnings if it thinks the logical geometry is mismatched.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;En primer lugar recuperaremos la tabla de particiones que hemos perdido utilizando la opción [ Analyse&amp;nbsp;].&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.7, Data Recovery Utility, June 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB - CHS 246 255 63&lt;/span&gt;
&lt;span class="go"&gt;Current partition structure:&lt;/span&gt;
&lt;span class="go"&gt;PartitionStart EndSize in sectors&lt;/span&gt;

&lt;span class="go"&gt;1 * HPFS - NTFS0   1  1  245 254 63  156296322&lt;/span&gt;













&lt;span class="go"&gt;*=Primary bootable P=Primary L=Logical E=Extended D=Deleted&lt;/span&gt;
&lt;span class="go"&gt;[Proceed ]&lt;/span&gt;
&lt;span class="go"&gt; Try to locate partition&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Seleccionamos&amp;nbsp;[Proceed].&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Should TestDisk search for partition created under Vista ? [Y/N] (answer Yes if unsure)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Si el disco no fue formateado bajo Vista responderemos Y, en caso contrario&amp;nbsp;N.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB - CHS 246 255 63&lt;/span&gt;
&lt;span class="go"&gt;Partition               Start        End    Size in sectors&lt;/span&gt;
&lt;span class="go"&gt;* HPFS - NTFS              0   1  1   244 254 63    3935862&lt;/span&gt;












&lt;span class="go"&gt;Structure: Ok.  Use Up/Down Arrow keys to select partition.&lt;/span&gt;
&lt;span class="go"&gt;Use Left/Right Arrow keys to CHANGE partition characteristics:&lt;/span&gt;
&lt;span class="go"&gt;*=Primary bootable  P=Primary  L=Logical  E=Extended  D=Deleted&lt;/span&gt;
&lt;span class="go"&gt;Keys A: add partition, L: load backup, T: change type, P: list files,&lt;/span&gt;
&lt;span class="go"&gt;Enter: to continue&lt;/span&gt;
&lt;span class="go"&gt;NTFS, 2015 MB / 1921 MiB&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Le damos a&amp;nbsp;Enter.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB - CHS 246 255 63&lt;/span&gt;

&lt;span class="go"&gt;Partition                  Start        End    Size in sectors&lt;/span&gt;

&lt;span class="go"&gt;1 * HPFS - NTFS              0   1  1   244 254 63    3935862&lt;/span&gt;







&lt;span class="go"&gt;[  Quit  ]  [Search! ]  [ Write  ]&lt;/span&gt;
&lt;span class="go"&gt;Search deeper, try to find more partitions&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Guardamos la propuesta&amp;nbsp;[Write].&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Write partition table, confirm ? (Y/N)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Si sólo has dañado la partición, ya hemos terminado. Desconecta el disco y vuelve a conectarlo. Si sigues sin poder acceder a la unidad, es probable que también este dañado el sistema de ficheros, pero no te preocupes. Con un poco de suerte aun podrás reconstruirlo si no has perdido el backup del que dispone es propio sistema de ficheros &lt;span class="caps"&gt;NTFS&lt;/span&gt;. El procedimiento paso a paso seria&amp;nbsp;este:&lt;/p&gt;
&lt;h2&gt;Recuperación de un filesystem &lt;span class="caps"&gt;NTFS&lt;/span&gt; con Test Disk paso a paso (con&amp;nbsp;capturas):&lt;/h2&gt;
&lt;p&gt;Las primeras cinco capturas serían análogas al procedimiento descrito para recuperar la información, sólo que en esta ocasión, en lugar de la opción [Analyse], seleccionaremos la opción&amp;nbsp;[Advance].&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB - CHS 246 255 63&lt;/span&gt;
&lt;span class="go"&gt;Partition                  Start        End    Size in sectors&lt;/span&gt;
&lt;span class="go"&gt;1 * HPFS - NTFS              0   1  1   244 254 63    3935862&lt;/span&gt;

&lt;span class="go"&gt;Boot sector&lt;/span&gt;
&lt;span class="go"&gt;Status: Bad&lt;/span&gt;

&lt;span class="go"&gt;Backup boot sector&lt;/span&gt;
&lt;span class="go"&gt;Satus: OK&lt;/span&gt;

&lt;span class="go"&gt;Sectors are not identical.&lt;/span&gt;

&lt;span class="go"&gt;A valid NTFS Boot sector must be present in order to access&lt;/span&gt;
&lt;span class="go"&gt;any data; even if the partition is not bootable.&lt;/span&gt;



&lt;span class="go"&gt;[  Quit  ]  [  List  ]  [Backup BS] [Rebuild BS][  Dump  ]&lt;/span&gt;
&lt;span class="go"&gt;Return to Advanced menu&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Vemos que el sector de arranque parece estar dañado, no obstante y dado que el sector de boot de backup es correcto, podemos restaurar utilizando dicho backup. Para ello seleccionamos la opción [Backup &lt;span class="caps"&gt;BS&lt;/span&gt;].&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Copy backup NTFS boot sector over boot sector, confirm ? (Y/N)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Confirmamos con Y y hemos&amp;nbsp;terminado.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;TestDisk 6.8, Data Recovery Utility, August 2007&lt;/span&gt;
&lt;span class="go"&gt;Christophe GRENIER grenier@cgsecurity.org&lt;/span&gt;
&lt;span class="go"&gt;http://www.cgsecurity.org&lt;/span&gt;

&lt;span class="go"&gt;Disk /dev/sdb - 2023 MB / 1929 MiB - CHS 246 255 63&lt;/span&gt;
&lt;span class="go"&gt;Partition                  Start        End    Size in sectors&lt;/span&gt;
&lt;span class="go"&gt;1 * HPFS - NTFS              0   1  1   244 254 63    3935862&lt;/span&gt;

&lt;span class="go"&gt;Boot sector&lt;/span&gt;
&lt;span class="go"&gt;Status: OK&lt;/span&gt;

&lt;span class="go"&gt;Backup boot sector&lt;/span&gt;
&lt;span class="go"&gt;Status: OK&lt;/span&gt;

&lt;span class="go"&gt;Sectors are identical.&lt;/span&gt;

&lt;span class="go"&gt;A valid NTFS Boot sector must be present in order to access&lt;/span&gt;
&lt;span class="go"&gt;any data; even if the partition is not bootable.&lt;/span&gt;



&lt;span class="go"&gt;[  Quit  ]  [  List  ]  [Rebuild BS][Repair MFT][  Dump  ]&lt;/span&gt;
&lt;span class="go"&gt;Return to Advanced menu&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Salimos&amp;#8230;quit, quit, quit&amp;#8230;etc. Y volvemos a conectar el disco. Si todo ha ido bien y con un poco de suerte, deberías ver todos tus datos&amp;nbsp;intactos.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: El ejemplo descrito aquí es para el caso concreto descrito al inicio. Quizás tengas que jugar un poquito más con la tool para recuperar tus datos, o puede que el daño sea tan serio que esta tool no te pueda ayudar. Si es as, las opciones pasan por tools propietarias o servicios de pago o empezar a asumir que lo has perdido&amp;nbsp;todo.&lt;/p&gt;</content><category term="Spanish"></category><category term="ntfs"></category><category term="testdisk"></category><category term="filesystems"></category></entry><entry><title>Nagios Checker para Firefox</title><link href="https://frommelmak.com/nagios-checker-para-firefox.html" rel="alternate"></link><published>2007-12-17T09:44:03+01:00</published><updated>2007-12-17T09:44:03+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-12-17:/nagios-checker-para-firefox.html</id><summary type="html">&lt;p&gt;&lt;a href="http://code.google.com/p/nagioschecker/"&gt;Nagios Checker&lt;/a&gt; es un bonito y párctico add-on para Firefox que te avisa de las alertas de Nagios. Es muy configurale y resultón. El sonido que emite con la llegada de nuevas alertas es de lo más cómico. Me recuerda a las pelis de submarinos de la segunda guerra&amp;nbsp;mundial …&lt;/p&gt;</summary><content type="html">&lt;p&gt;&lt;a href="http://code.google.com/p/nagioschecker/"&gt;Nagios Checker&lt;/a&gt; es un bonito y párctico add-on para Firefox que te avisa de las alertas de Nagios. Es muy configurale y resultón. El sonido que emite con la llegada de nuevas alertas es de lo más cómico. Me recuerda a las pelis de submarinos de la segunda guerra&amp;nbsp;mundial.&lt;/p&gt;
&lt;p&gt;La descarga directa&amp;nbsp;aquí:&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;https://addons.mozilla.org/en-&lt;span class="caps"&gt;US&lt;/span&gt;/firefox/addon/3607&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Bueno, queda&amp;nbsp;recomendado.&lt;/p&gt;</content><category term="Spanish"></category><category term="nagios"></category><category term="monitoring"></category><category term="firefox"></category></entry><entry><title>Opensuse 10.3 GM Liberada!</title><link href="https://frommelmak.com/opensuse-103-gm-liberada.html" rel="alternate"></link><published>2007-10-04T23:14:18+02:00</published><updated>2007-10-04T23:14:18+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-10-04:/opensuse-103-gm-liberada.html</id><summary type="html">&lt;p&gt;Puntuales a su cita, la gente de Opensuse ha sacado una nueva actualización -y van tres- de la version 10 de&amp;nbsp;Opensuse.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://download.opensuse.org/distribution/10.3/iso/torrent/openSUSE-10.3-GM-DVD-i386.torrent]"&gt;openSUSE-10.3-&lt;span class="caps"&gt;GM&lt;/span&gt;-&lt;span class="caps"&gt;DVD&lt;/span&gt;-i386.torrent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Más torrents e info&amp;nbsp;aquí:&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://www.opensuse.org&lt;/a&gt;
&lt;a href=""&gt;http://software.opensuse.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Espero actualizar mi Opensuse 10.2 este mismo fin …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Puntuales a su cita, la gente de Opensuse ha sacado una nueva actualización -y van tres- de la version 10 de&amp;nbsp;Opensuse.&lt;/p&gt;
&lt;p&gt;&lt;a href="http://download.opensuse.org/distribution/10.3/iso/torrent/openSUSE-10.3-GM-DVD-i386.torrent]"&gt;openSUSE-10.3-&lt;span class="caps"&gt;GM&lt;/span&gt;-&lt;span class="caps"&gt;DVD&lt;/span&gt;-i386.torrent&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Más torrents e info&amp;nbsp;aquí:&lt;/p&gt;
&lt;p&gt;&lt;a href=""&gt;http://www.opensuse.org&lt;/a&gt;
&lt;a href=""&gt;http://software.opensuse.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Espero actualizar mi Opensuse 10.2 este mismo fin de semana a ver que nos depara la nueva&amp;nbsp;versión.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Actualización&lt;/strong&gt;: Bueno, tras unos días con la nueva versión instalada destacaría: Mejora muy notable en el manejo de paquetes y actualizaciones. Nuevo driver de video para Intel. Ahora es posible seleccionar el nuevo driver &lt;code&gt;intel&lt;/code&gt; ademas del clasico &lt;code&gt;i810&lt;/code&gt;. Las mejoras son notables con un simple &lt;code&gt;glxgears&lt;/code&gt; si bien aun se me queda corto para &lt;code&gt;compiz-fusion&lt;/code&gt;. Por fin funciona el lector de tarjetas (Texas Instruments) del portatil !!!! Todo gracias a &lt;em&gt;Alex Dubov&lt;/em&gt; y sus módulos &lt;code&gt;tifm_7xx1&lt;/code&gt; y &lt;code&gt;tifm_core&lt;/code&gt;.&lt;/p&gt;</content><category term="Spanish"></category><category term="opensuse"></category></entry><entry><title>XQDE screenshot</title><link href="https://frommelmak.com/xqde-screenshot.html" rel="alternate"></link><published>2007-07-21T10:59:44+02:00</published><updated>2007-07-21T10:59:44+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-07-21:/xqde-screenshot.html</id><summary type="html">&lt;p&gt;Para los que no lo sepais, &lt;a href="http://xqde.xiaprojects.com/index.php"&gt;&lt;span class="caps"&gt;XQDE&lt;/span&gt;&lt;/a&gt; es el sucesor de &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=1&amp;amp;section_type=2&amp;amp;task=read_more&amp;amp;id_info=105"&gt;XKDocker&lt;/a&gt; y desde hace unos dias, ya se puede &lt;a href="http://xqde.xiaprojects.com/download.php"&gt;desrcargar&lt;/a&gt; desde su sitio&amp;nbsp;web.&lt;/p&gt;
&lt;p&gt;La aplicación está aun en sus primeras fases de desarollo pero ya existe una versión precompilada (que a mi no me ha funcionado). Tambien es …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Para los que no lo sepais, &lt;a href="http://xqde.xiaprojects.com/index.php"&gt;&lt;span class="caps"&gt;XQDE&lt;/span&gt;&lt;/a&gt; es el sucesor de &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=1&amp;amp;section_type=2&amp;amp;task=read_more&amp;amp;id_info=105"&gt;XKDocker&lt;/a&gt; y desde hace unos dias, ya se puede &lt;a href="http://xqde.xiaprojects.com/download.php"&gt;desrcargar&lt;/a&gt; desde su sitio&amp;nbsp;web.&lt;/p&gt;
&lt;p&gt;La aplicación está aun en sus primeras fases de desarollo pero ya existe una versión precompilada (que a mi no me ha funcionado). Tambien es posible descargar las fuentes de la aplicación listas para compilar en dos sencillos&amp;nbsp;pasos.&lt;/p&gt;
&lt;p&gt;&lt;img alt="XQDE screenshot" src="|filename|/images/old_blog/xqde-snapshot01.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Seguiremos&amp;nbsp;informando&amp;#8230;&lt;/p&gt;</content><category term="Spanish"></category><category term="xqde"></category><category term="kxdocker"></category><category term="screenshot"></category></entry><entry><title>Unificar el contenido de varios wikis en uno solo</title><link href="https://frommelmak.com/unificar-el-contenido-de-varios-wikis-en-uno-solo.html" rel="alternate"></link><published>2007-07-12T22:34:00+02:00</published><updated>2007-07-12T22:34:00+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-07-12:/unificar-el-contenido-de-varios-wikis-en-uno-solo.html</id><summary type="html">&lt;p&gt;El objetivo de esta entrada en el blog es describir el método que he seguido para fusionar varios Wikis en uno sólo. La poca documentación que he encontrado al respecto, me ha animado a explicar mis experiencias al respecto en este&amp;nbsp;mini-howto.&lt;/p&gt;
&lt;p&gt;El escenario inicial es el siguiente: Disponemos de …&lt;/p&gt;</summary><content type="html">&lt;p&gt;El objetivo de esta entrada en el blog es describir el método que he seguido para fusionar varios Wikis en uno sólo. La poca documentación que he encontrado al respecto, me ha animado a explicar mis experiencias al respecto en este&amp;nbsp;mini-howto.&lt;/p&gt;
&lt;p&gt;El escenario inicial es el siguiente: Disponemos de varios wikis basados en diferentes versiones de MediaWiki. Uno utiliza &lt;em&gt;MediaWiki 1.3.9&lt;/em&gt; (wiki2 en este ejemplo), y el resto &lt;em&gt;MediaWiki 1.5.8&lt;/em&gt; (wiki1 en este ejemplo). El contenido de todos los wikies será migrado a un nuevo wiki basado en &lt;em&gt;MediaWiki 1.6.10&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;Empezamos!&lt;/p&gt;
&lt;h2&gt;Descripción general del&amp;nbsp;proceso.&lt;/h2&gt;
&lt;p&gt;A grandes rasgos, el proceso consiste en volcar por un lado el contenido de los wikis (páginas) a un fichero &lt;span class="caps"&gt;XML&lt;/span&gt;, y por el otro las images y demás ficheros adjuntos. Para lo primero utilizaremos las herramientas facilitadas por MediaWiki y para lo segundo bastará con copiar el contenido del directorio images y extraer unas tablas de la base de&amp;nbsp;datos.&lt;/p&gt;
&lt;p&gt;Antes de importar los &lt;span class="caps"&gt;XML&lt;/span&gt; de cada wiki, procesaremos los ficheros &lt;span class="caps"&gt;XML&lt;/span&gt; para incluir una etiqueta de categoria a cada página. Si bien esto es opcional, el proposito es no perder la pista del origen de cada una de las páginas. De esta manera, cada una de las páginas de los wikis que importemos estarán agrupadas bajo una categoria en el wiki de&amp;nbsp;destino.&lt;/p&gt;
&lt;h2&gt;Exportar el contenido de los&amp;nbsp;wikis:&lt;/h2&gt;
&lt;p&gt;Tanto en la versión 1.3.9 como 1.5.8 de MediaWiki es posible exportar el contenido completo del wiki a un fichero de texto &lt;span class="caps"&gt;XML&lt;/span&gt;. La idea es que luego este fichero pueda ser importado en el wiki de&amp;nbsp;destino.&lt;/p&gt;
&lt;p&gt;Si bien es posible exportar e importar el contenido del wiki via web, es recomendable hacerlo mediante el script &lt;span class="caps"&gt;PHP&lt;/span&gt; que viene con MediaWiki siempre que sea posible.  Por qué ? Bueno, el motivo principal es porque si el contenido del wiki es muy extenso, probablemente los settings del fichero &lt;code&gt;php.ini&lt;/code&gt; no sean suficiente generoros como para realizar el &lt;em&gt;import&lt;/em&gt; con éxito. Esto es especialmente cierto cuando además el &lt;span class="caps"&gt;XML&lt;/span&gt; generado incluye las diferentes revisiones de cada página, ya que entos casos el tamao del &lt;span class="caps"&gt;XML&lt;/span&gt; puede ser&amp;nbsp;considerable.&lt;/p&gt;
&lt;h3&gt;En MediaWiki&amp;nbsp;1.5.8&lt;/h3&gt;
&lt;p&gt;En esta versión no hay ningun secreto, tan sólo será necesario ejecutar el script &lt;code&gt;dumpBackup.php&lt;/code&gt; que se encuentra en la carpeta&amp;nbsp;maintenance.&lt;/p&gt;
&lt;p&gt;Antes de ejecutar los scripts de la carpeta maintenance deberemos editar el fichero &lt;code&gt;AdminSettings.php&lt;/code&gt; con el un usuario y password con permisos sobre la base de datos MySQL del&amp;nbsp;wiki.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /your_wiki_path/maintenance&lt;/span&gt;
&lt;span class="go"&gt;cp AdminSettings.sample AdminSettings.php&lt;/span&gt;
&lt;span class="go"&gt;vi AdminSettings.php&lt;/span&gt;
&lt;span class="go"&gt;php dumpBackup.php --full  wiki-backup.xml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para importar las imágenes, necesitaremos además extraer el contenido de las tablas: image, imagelinks y&amp;nbsp;oldimage.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;mysqldump -u root -p wikidatabase image  wiki1-image.sql&lt;/span&gt;
&lt;span class="go"&gt;mysqldump -u root -p wikidatabase imagelinks  wiki1-imagelinks.sql&lt;/span&gt;
&lt;span class="go"&gt;mysqldump -u root -p wikidatabase oldimage  wiki1-oldimage.sql&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Deberemos repetir estos pasos para cada uno de los wikis con versión&amp;nbsp;1.5.8.&lt;/p&gt;
&lt;h3&gt;En MediaWiki&amp;nbsp;1.3.9&lt;/h3&gt;
&lt;p&gt;En esta versión de MediaWiki no existe el script &lt;code&gt;dumpBackup.php&lt;/code&gt;, por lo que nos veremos obligados a extraer el &lt;span class="caps"&gt;XML&lt;/span&gt; via web, lo cual es un poco ms&amp;nbsp;engorroso.&lt;/p&gt;
&lt;p&gt;En primer lugar necesitamos la lista de páginas que queremos exportar, ya que deberemos introducirla a lo largo del&amp;nbsp;proceso.&lt;/p&gt;
&lt;p&gt;Si nuestro wiki tiene unas pocas páginas, lo mas rápido es ir a: &lt;em&gt;Special pages -&amp;gt; All pages&lt;/em&gt; y hacer un cut &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;  paste. En cambio, si nuestro wiki dispone de muchas páginas, estas aparecern ordenadas en columnas y la tarea de copiar y pegar se tornará muy&amp;nbsp;tediosa.&lt;/p&gt;
&lt;p&gt;La solucin más rapida y segura que he encontrado es&amp;nbsp;esta:&lt;/p&gt;
&lt;p&gt;Vamos a:  &lt;em&gt;Special pages -&amp;gt; All&amp;nbsp;pages&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Utilizaremos entonces la opción &lt;em&gt;view-source&lt;/em&gt; (de nuestro navegador), seleccionareos todo el código de la página y lo copiaremos a un fichero llamado &lt;code&gt;all_pages.txt&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Luego ejecutamos sobre ese fichero este comando y&amp;nbsp;listos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;sed -n &amp;#39;/-- start content --/,/-- end content --/p&amp;#39; all_pages.txt |sed &amp;#39;s/\/td/\n/g&amp;#39;| sed -e &amp;#39;s#[^]*##g&amp;#39;| sed &amp;#39;/^$/d&amp;#39; |less&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora ya podemos ir a: &lt;em&gt;Special pages -&amp;gt; Export&amp;nbsp;pages&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Introducimos la lista de páginas a exportar (obtenida anteriormente) teniendo cuidado de desmarcar además la&amp;nbsp;casilla:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Include only the current revision, not de full&amp;nbsp;history&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Finalmente le damos a: &lt;em&gt;Submit query&lt;/em&gt;  y obtendreos en el browser el cdigo &lt;span class="caps"&gt;XML&lt;/span&gt; con todo el contenido de nuestro&amp;nbsp;wiki.&lt;/p&gt;
&lt;p&gt;Ya sólo hemos de copiar el código y pegarlo en un fichero de texto: &lt;code&gt;wiki2-backup.xml&lt;/code&gt;, por&amp;nbsp;ejemplo.&lt;/p&gt;
&lt;p&gt;De igual modo que para la versión 1.5.8, de cara a exportar las imgenes necesitaremos también el contenido de las tabas: image, imagelinks y&amp;nbsp;oldimage.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;mysqldump -u root -p wikidatabase image  wiki2-image.sql&lt;/span&gt;
&lt;span class="go"&gt;mysqldump -u root -p wikidatabase imagelinks  wiki2-imagelinks.sql&lt;/span&gt;
&lt;span class="go"&gt;mysqldump -u root -p wikidatabase oldimage  wiki2-oldimage.sql&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Importar el contenido de los&amp;nbsp;wikies:&lt;/h2&gt;
&lt;p&gt;Como este manual no pretende ser una guia de instalacin y configuracin de MediaWiki, voy a asumir que ya tenemos instalado y configurado el wiki de destino (recordemos, MediaWiki&amp;nbsp;1.6.10).&lt;/p&gt;
&lt;p&gt;Llegados a este punto, lo que haremos ser ir importando el contenido (&lt;code&gt;ficheros.xml&lt;/code&gt;) y las imagenes y/o archivos adjuntos que tubieran nuestros wikis de origen (ficheros + tablas de&amp;nbsp;imagenes).&lt;/p&gt;
&lt;p&gt;En primer lugar importaremos el contenido del wiki con la versin ms vieja (MediaWiki 1.3.9), más adelante veremos por&amp;nbsp;qué.&lt;/p&gt;
&lt;h3&gt;Importar el &lt;span class="caps"&gt;XML&lt;/span&gt; generado por MediaWiki&amp;nbsp;1.3.9&lt;/h3&gt;
&lt;p&gt;Dado que necesitaremos ejecutar varios de los scripts de la carpeta maintenance de nuestro wiki de destino, antes de nada, deberemos editar el &lt;code&gt;ficheroAdminSettings.php&lt;/code&gt; para que estos scripts puedan acceder a la base de&amp;nbsp;datos.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cp AdminSettings.sample AdminSettings.php&lt;/span&gt;
&lt;span class="go"&gt;vi AdminSettings.php&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Edit the file &lt;code&gt;AdminSettings.php&lt;/code&gt; with the mysql&amp;nbsp;user/password)&lt;/p&gt;
&lt;p&gt;Ahora ya podriamos importar el contenido del wiki con el script &lt;code&gt;importDump.php&lt;/code&gt;, si bien antes de hacerlo podrá interesaros, como en mi caso, añadir una etiqueta de categoria a cada una de las páginas del wiki. Esto nos permitir poder separar la informacin de cada uno de los wikis en función de su procedencia. Así todas las páginas de la categoria wiki2 s que vienen del&amp;nbsp;wiki2.&lt;/p&gt;
&lt;p&gt;Para hacer esto, podeis utilizar un script como el&amp;nbsp;siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;#&lt;/span&gt;!/bin/bash

&lt;span class="go"&gt;IFILE=$1&lt;/span&gt;
&lt;span class="go"&gt;OFILE=P_$1&lt;/span&gt;
&lt;span class="go"&gt;CATEGORY_STRING=$2&lt;/span&gt;

&lt;span class="go"&gt;echo Output file is: $OFILE&lt;/span&gt;
&lt;span class="gp"&gt;&amp;gt;&lt;/span&gt; &lt;span class="nv"&gt;$OFILE&lt;/span&gt;

&lt;span class="go"&gt;UPC=FALSE&lt;/span&gt;
&lt;span class="go"&gt;PAGES=0&lt;/span&gt;

&lt;span class="go"&gt;while read LINE&lt;/span&gt;
&lt;span class="go"&gt;do&lt;/span&gt;
&lt;span class="go"&gt;echo $LINE | grep title.*/title | grep -qv -e MediaWiki:.* -e MediaWiki talk:.* -e Image:.* -e Image talk:.* -e Talk:.* -e User:.* -e User talk:.* -e Category:.* -e Category talk:.* -e Template:.* -e Template talk:.*  UCP=&amp;#39;TRUE&amp;#39;  let PAGES=$PAGES+1&lt;/span&gt;
&lt;span class="go"&gt;echo $LINE | grep -q &amp;#39;/text&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;TEXT_TAG=$?&lt;/span&gt;
&lt;span class="go"&gt;if [[ $UCP = TRUE  $TEXT_TAG -eq 0 ]]&lt;/span&gt;
&lt;span class="go"&gt;then&lt;/span&gt;
&lt;span class="go"&gt;echo -n .&lt;/span&gt;
&lt;span class="go"&gt;echo $LINE | sed s/\/text/$CATEGORY_STRING\/text/g  $OFILE&lt;/span&gt;
&lt;span class="go"&gt;else echo $LINE  $OFILE  echo $LINE | grep -q &amp;#39;/page&amp;#39;  UCP=FALSE&lt;/span&gt;
&lt;span class="go"&gt;fi&lt;/span&gt;
&lt;span class="go"&gt;done  $IFILE&lt;/span&gt;
&lt;span class="go"&gt;echo&lt;/span&gt;

&lt;span class="go"&gt;echo Processed pages: $PAGES&lt;/span&gt;


&lt;span class="go"&gt;echo Done!&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para procesar el &lt;span class="caps"&gt;XML&lt;/span&gt;, llamaremos al script con algo parecido a&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;./xwp.sh wiki2-backup.xml [[Category:wiki2]]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Y finalmente importaremos el contenido del fichero resultante (P_wiki2-backup.xml) a nuestro nuevo&amp;nbsp;wiki:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;php maintenance/importDump.php P_wiki2-backup.xml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Una vez importado el fichero &lt;span class="caps"&gt;XML&lt;/span&gt; al nuevo wiki tendremos a nuestra disposicin todas y cada una de las pginas que contenia el viejo&amp;nbsp;wiki.&lt;/p&gt;
&lt;p&gt;Podemos listarlas todas si vamos&amp;nbsp;a:&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Special pages-&amp;gt;All&amp;nbsp;pages&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Del mismo modo, si nuestro viejo wiki disponía de categorias, estas aparecerán bajo: &lt;em&gt;Special pages-&amp;gt;Categories&lt;/em&gt;, después de ejecutar este&amp;nbsp;script.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;php maintenance/refreshLinks.php&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Lamentablemente, si importamos desde un wiki basado en MediaWiki 1.3.9, las pginas que describen las categorias, asi como los templates no se importan correctamente y hay que importarlos via cut &lt;span class="amp"&gt;&amp;amp;&lt;/span&gt;&amp;nbsp;paste.&lt;/p&gt;
&lt;h2&gt;Importar las imagenes y documentos adjuntos desde MediaWiki&amp;nbsp;1.3.9&lt;/h2&gt;
&lt;p&gt;La sincronización de las imágenes y los ficheros adjuntos se compone de 3&amp;nbsp;pasos.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Copia de los&amp;nbsp;ficheros&lt;/li&gt;
&lt;li&gt;Importar las tablas image de la base de datos (implica borrar las&amp;nbsp;actuales)&lt;/li&gt;
&lt;li&gt;Actualizar las tablas de imagenes a las de la version&amp;nbsp;1.6.10&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Llevamos a la consola, quedaría&amp;nbsp;asi:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /your_wiki_path/images&lt;/span&gt;
&lt;span class="go"&gt;rsync -avz wiki2host:/path/to/old/wiki2/images/ .&lt;/span&gt;
&lt;span class="go"&gt;chown -R apache:apache *&lt;/span&gt;
&lt;span class="go"&gt;cd /path/to/your/database_files&lt;/span&gt;
&lt;span class="go"&gt;mysql -u root -p new_wikidatabase  wiki2-image.sql&lt;/span&gt;
&lt;span class="go"&gt;mysql -u root -p new_wikidatabase  wiki2-imagelinks.sql&lt;/span&gt;
&lt;span class="go"&gt;mysql -u root -p new_wikidatabase  wiki2-oldimage.sql&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Dado que no hemos modificado los ficheros &lt;span class="caps"&gt;SQL&lt;/span&gt; obtenidos mediante el volcado con &lt;code&gt;mysqldump&lt;/code&gt;, las tablas actuales han sido substituidas por las viejas. Estas tablas no son exactamente igual en la version 1.3.9 y la 1.6.10 por lo que deberemos añadir los nuevos campos que se introducen a partir de la versin&amp;nbsp;1.5.8.&lt;/p&gt;
&lt;p&gt;Afortunadamente, disponemos de un script que actualiza esta tabla sin eliminar su&amp;nbsp;contenido.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;php maintenance/update.php&lt;/span&gt;
&lt;span class="go"&gt;php rebuildImages.php&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Y este es básicamente el motivo por el cual hemos elegido el wiki movido por MediaWiki 1.3.9 en primer&amp;nbsp;lugar.&lt;/p&gt;
&lt;h2&gt;Importar el &lt;span class="caps"&gt;XML&lt;/span&gt; generado por MediaWiki&amp;nbsp;1.5.8&lt;/h2&gt;
&lt;p&gt;En este punto, apenas hay diferencias con la versin 1.3.9 y el proceso es prácticamente idéntico. Es decir: procesamos el &lt;span class="caps"&gt;XML&lt;/span&gt; antes de importarlo y luego importamos las imágenes y documentos&amp;nbsp;adjuntos.&lt;/p&gt;
&lt;p&gt;La única diferencia en este punto es que si importamos el contenido de un &lt;span class="caps"&gt;XML&lt;/span&gt; generado con la versin 1.5.8 de MediaWiki, es que las pginas de descripción de las categorias y los templates en esta ocasión, se crean&amp;nbsp;correctamente.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /your_wiki_path&lt;/span&gt;
&lt;span class="go"&gt;./xwp.sh wiki1-backup.xml [[Category:wiki1]]&lt;/span&gt;
&lt;span class="go"&gt;cd /your_wiki_path/maintenance &lt;/span&gt;
&lt;span class="go"&gt;php importDump.php P_wiki1-backup.xml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Importar las imagenes y documentos adjuntos desde MediaWiki&amp;nbsp;1.5.8&lt;/h2&gt;
&lt;p&gt;De nuevo en esencia la idea es la misma, por un lado copiaremos los ficheros de imagenes y documentos adjuntos para posteriormente reflejar estos en la base de datos. Si bien en esta ocasión, los campos de las tablas son idénticos para ambas versiones de MediaWiki, deberemos editar los ficheros &lt;span class="caps"&gt;SQL&lt;/span&gt; antes de&amp;nbsp;importarlos.&lt;/p&gt;
&lt;p&gt;Lo que haremos es borrar la sentencias &lt;code&gt;CREATE TABLE&lt;/code&gt; que crean las tablas image, imagelinks y oldimage. Si no lo hacemos, perderemos que habiamos importado del anterior&amp;nbsp;wiki.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /your_wiki_path/images&lt;/span&gt;
&lt;span class="go"&gt;rsync -avz wiki1host:/path/to/old/wiki1/images/ .&lt;/span&gt;
&lt;span class="go"&gt;chown -R apache:apache *&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora, deberemos editar los ficheros &lt;span class="caps"&gt;SQL&lt;/span&gt; borrando las sentencias &lt;code&gt;CREATE TABLE&lt;/code&gt; que preceden a los &lt;code&gt;INSERT&lt;/code&gt; de cada tabla. En otras palabras, borraremos las lineas que preceden a&amp;nbsp;cada:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;--&lt;/span&gt;
&lt;span class="go"&gt;-- Dumping data for table&lt;/span&gt;
&lt;span class="go"&gt;--&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: En mi caso también he tenido que eliminar la siguiente línea de cada archivo. Sino, el &lt;code&gt;import&lt;/code&gt; me daba un&amp;nbsp;warning.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;&lt;/span&gt;

&lt;span class="go"&gt;:::console&lt;/span&gt;
&lt;span class="go"&gt;vi wiki1-image.sql&lt;/span&gt;
&lt;span class="go"&gt;vi wiki1-imagelinks.sql&lt;/span&gt;
&lt;span class="go"&gt;vi wiki1-oldimage.sql&lt;/span&gt;
&lt;span class="go"&gt;mysql -u root -p new_wikidatabase  wiki1-image.sql&lt;/span&gt;
&lt;span class="go"&gt;mysql -u root -p new_wikidatabase  wiki1-imagelinks.sql&lt;/span&gt;
&lt;span class="go"&gt;mysql -u root -p new_wikidatabase  wiki1-oldimage.sql&lt;/span&gt;
&lt;span class="go"&gt;cd /your_wiki_path/maintenance&lt;/span&gt;
&lt;span class="go"&gt;php refreshLinks.php&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Retoques&amp;nbsp;finales:&lt;/h3&gt;
&lt;p&gt;Una vez hayamos repetido esto para cada uno de los wikis a fusionar, nos queda ejecutar estos&amp;nbsp;scritps:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;php maintenance/initStats.php&lt;/span&gt;
&lt;span class="go"&gt;php maintenance/updateSearchIndex.php&lt;/span&gt;
&lt;span class="go"&gt;php maintenance/rebuildtextindex.php&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;El primero de ellos pondrá al día la página de estadisticas &lt;em&gt;Special pages-&amp;gt;Stats&lt;/em&gt;, mientras que los dos últimos rehacen los indices que permiten hacer búsquedas en nuestro nuevo, enorme y flamante&amp;nbsp;wiki.&lt;/p&gt;</content><category term="Spanish"></category><category term="mediawiki"></category></entry><entry><title>Incoherencias entre los comandos df y du</title><link href="https://frommelmak.com/incoherencias-entre-los-comandos-df-y-du.html" rel="alternate"></link><published>2007-07-02T20:03:02+02:00</published><updated>2007-07-02T20:03:02+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-07-02:/incoherencias-entre-los-comandos-df-y-du.html</id><summary type="html">&lt;p&gt;Siempre había pensado que cuando los comandos &lt;code&gt;du -hsx .&lt;/code&gt; y &lt;code&gt;df -h .&lt;/code&gt; reportaban tamaños significativamente diferentes, estábamos ante un filesystem corrrupto, y que en estos casos la solución pasaba por hacer un &lt;code&gt;fsck&lt;/code&gt; de dicho&amp;nbsp;filesystem.&lt;/p&gt;
&lt;p&gt;Pues bien, hoy me he encontrado con los mismos síntomas, pero en esta ocasión …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Siempre había pensado que cuando los comandos &lt;code&gt;du -hsx .&lt;/code&gt; y &lt;code&gt;df -h .&lt;/code&gt; reportaban tamaños significativamente diferentes, estábamos ante un filesystem corrrupto, y que en estos casos la solución pasaba por hacer un &lt;code&gt;fsck&lt;/code&gt; de dicho&amp;nbsp;filesystem.&lt;/p&gt;
&lt;p&gt;Pues bien, hoy me he encontrado con los mismos síntomas, pero en esta ocasión el problema no era un filesystem corrupto sino algo bastante más simple. Algo tan tonto como que el punto de montaje de mi filesystem no estaba vacío y además contenía folders que se llamaban igual que los folders que contenía el filesytem que estaba montando&amp;nbsp;encima.&lt;/p&gt;
&lt;p&gt;Como no hay mal que por bien no venga, el problema me ha servidor para aprender diferentes formas de forzar un &lt;code&gt;fsck&lt;/code&gt; en un folder que no podemos&amp;nbsp;desmontar&amp;#8230;&lt;/p&gt;
&lt;h2&gt;Opcion&amp;nbsp;1:&lt;/h2&gt;
&lt;p&gt;Forzar un &lt;code&gt;fsck&lt;/code&gt; en el siguiente reboot (hay hasta 5 maneras diferentes de&amp;nbsp;hacerlo).&lt;/p&gt;
&lt;h3&gt;Shutdown&lt;/h3&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;shutdown -rF now&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Esto realizar un &lt;code&gt;fsck&lt;/code&gt; en tiempo de arranque en todas las&amp;nbsp;particiones.&lt;/p&gt;
&lt;h3&gt;tune2fs&lt;/h3&gt;
&lt;p&gt;Podemos modificar los valores de máximo numero de montajes sin realizar &lt;code&gt;fsck&lt;/code&gt; o tiempo máximo entre&amp;nbsp;fscks.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;debugfs -w -R dirty /dev/hda3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Interesantísima utilidad que nos permite entre otras muchas cosas marcar el filsystem como dirty para forzar un &lt;code&gt;fsck&lt;/code&gt; en el siguiente &lt;code&gt;reboot&lt;/code&gt;. También nos permite hacer un &lt;code&gt;undelete&lt;/code&gt; de un fichero o directorio borrado en filesystems tipo&amp;nbsp;ext3.&lt;/p&gt;
&lt;h3&gt;.autofsck&lt;/h3&gt;
&lt;p&gt;Consiste en crear un fichero &lt;code&gt;.autofsck&lt;/code&gt; en el filesystem en el que queremos forzar el &lt;code&gt;fsck&lt;/code&gt;. Sólo funciona en algunas&amp;nbsp;distribuciones.&lt;/p&gt;
&lt;h3&gt;Fecha &lt;span class="caps"&gt;BIOS&lt;/span&gt;&lt;/h3&gt;
&lt;p&gt;Modificando la fecha en la &lt;span class="caps"&gt;BIOS&lt;/span&gt;**  No lo he probado, y a primera vista parece feo de narices pero por lo visto&amp;nbsp;funciona.&lt;/p&gt;
&lt;h2&gt;Opcion&amp;nbsp;2&lt;/h2&gt;
&lt;p&gt;Arrancar el sistema afectado con un livecd y hacer el fsck desde&amp;nbsp;allí.&lt;/p&gt;
&lt;p&gt;En mi caso el sistema tenia todas las particiones en &lt;span class="caps"&gt;LVM&lt;/span&gt; por lo que antes he tenido que hacer un &lt;code&gt;vgscan&lt;/code&gt; y luego un &lt;code&gt;vgchange -a y&lt;/code&gt; para poder montar el &lt;em&gt;logical volume&lt;/em&gt; desde la&amp;nbsp;Knoppix.&lt;/p&gt;
&lt;p&gt;En cualquier caso nada de esto era en realidad necesario pues como ya he dicho al principio, al filesystem no le pasaba&amp;nbsp;nada.&lt;/p&gt;</content><category term="Spanish"></category><category term="disk"></category><category term="filesystem"></category><category term="du"></category><category term="df"></category><category term="fsck"></category></entry><entry><title>SME Server + eGroupWare</title><link href="https://frommelmak.com/sme-server-egroupware.html" rel="alternate"></link><published>2007-06-28T21:51:34+02:00</published><updated>2007-06-28T21:51:34+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-06-28:/sme-server-egroupware.html</id><summary type="html">&lt;p&gt;Como administrador de sistemas, una de las cosas que más me satisface es descubrir cosas de las que -inexplicablemente- no había oído hablar&amp;nbsp;nunca.&lt;/p&gt;
&lt;p&gt;Este post habla de dos proyectos libres que no conocía y que me han venido que ni pintados: &lt;a href="http://wiki.contribs.org/"&gt;&lt;span class="caps"&gt;SME&lt;/span&gt; Server&lt;/a&gt; y &lt;a href="http://www.egroupware.org/"&gt;eGroupWare&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;SME&lt;/span&gt; Server es el …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Como administrador de sistemas, una de las cosas que más me satisface es descubrir cosas de las que -inexplicablemente- no había oído hablar&amp;nbsp;nunca.&lt;/p&gt;
&lt;p&gt;Este post habla de dos proyectos libres que no conocía y que me han venido que ni pintados: &lt;a href="http://wiki.contribs.org/"&gt;&lt;span class="caps"&gt;SME&lt;/span&gt; Server&lt;/a&gt; y &lt;a href="http://www.egroupware.org/"&gt;eGroupWare&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;SME&lt;/span&gt; Server es el acrónimo de &lt;em&gt;Small and Medium Enterprise Server&lt;/em&gt;, y eso es exactamente lo que es: una distribución &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux con los principales servicios que una pequeña o mediana empresa pueda necesitar. Además, todo ello out-of-the-box y con una interfaz web de administración de lo más&amp;nbsp;acertada.&lt;/p&gt;
&lt;p&gt;&lt;span class="caps"&gt;SME&lt;/span&gt; Server está basado en &lt;a href="http://www.centos.org/"&gt;CentOS 4.4&lt;/a&gt;, un rebuild de &lt;em&gt;Red Hat Enterprise Linux 4 Update 4&lt;/em&gt;, que cabe en un sólo &lt;span class="caps"&gt;CDROM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;La instalación es asombrosamente sencilla, independientemente de los servicios que necesitemos. Tras unos pocos pasos, tendremos desde un simple servidor de ficheros e impresión, hasta un completo servidor de dominio, un gateway, un servidor servidor de correo y/o un servidor&amp;nbsp;web.&lt;/p&gt;
&lt;p&gt;El procedimiento de instalación nos ofrecerá la posibilidad de implementar diferentes niveles de &lt;span class="caps"&gt;RAID&lt;/span&gt; por software. Además, podemos añadir discos una vez instalado el sistema y montar el &lt;span class="caps"&gt;RAID&lt;/span&gt; más adelante si así lo&amp;nbsp;deseamos.&lt;/p&gt;
&lt;p&gt;Sin duda alguna, el punto fuerte de &lt;span class="caps"&gt;SME&lt;/span&gt; Server es su interaz web. Grácias a ella, la administración, configuración y actualiación del sistema es un juego de niños. Las altas, bajas y administración de grupos y usuarios, o la creación de &lt;em&gt;shares&lt;/em&gt; se realizan en unos pocos segundos y sin necesidad de tener conocimientos específicos en administración de&amp;nbsp;sistemas.&lt;/p&gt;
&lt;p&gt;Esto último es especialmente importante, ya que no debemos olvidar que no todas las PYMEs pueden permitirse el tener a un administrador de sistemas 24x7 para simplemente crear un share o añadir un&amp;nbsp;usuario.&lt;/p&gt;
&lt;p&gt;Otro de los aspectos que más me han gustado ha sido la posibilidad de instalar servicios adicionales a los que vienen en la distribución base. Estos servicios están contribuidos y soportados por la amplia comunidad de usuarios de este estupendo sistema. Este es el caso de &lt;a href="http://www.egroupware.org/"&gt;eGroupWare&lt;/a&gt;, que pese a no formar parte del conjunto de servicios proporcionados por &lt;span class="caps"&gt;SME&lt;/span&gt; Server, esta disponible como contribución y se integra a las mil maravilla con los usuarios ya definidos en &lt;span class="caps"&gt;SME&lt;/span&gt;&amp;nbsp;Server.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;eGroupWare&lt;/strong&gt; esta formado por un conjunto de aplicaciones para el trabajo en grupo necesarias en cualquier oficina: Calendario, libreta de direcciones y contactos, cliente de email web corporativo, notas, listas de tareas, noticias, gestión de recursos (reserva de salas, coches de empresa,&amp;#8230;), gestión de proyectos y un montón de aplicaciones más disponibles en forma de&amp;nbsp;módulos.&lt;/p&gt;
&lt;p&gt;Esta programada en &lt;span class="caps"&gt;PHP&lt;/span&gt; y ha sido portada a &lt;span class="caps"&gt;SME&lt;/span&gt; Server por lo que su instalación y configuración es muy&amp;nbsp;sencilla.&lt;/p&gt;
&lt;p&gt;Actualmente he instalado &lt;span class="caps"&gt;SME&lt;/span&gt; Server como servidor de ficheros con muy buenos resultados, y en breve instalaré eGroupWare en un entorno en&amp;nbsp;producción.&lt;/p&gt;
&lt;p&gt;Sinceramente, si quieres montar el servicio y dejar que sea el usuario final el que se soporte la aplicación, &lt;span class="caps"&gt;SME&lt;/span&gt; Server es sin lugar a dudas la herramienta que estabas&amp;nbsp;buscando.&lt;/p&gt;</content><category term="Spanish"></category><category term="sme"></category></entry><entry><title>Tux Droid, tu amigo programable</title><link href="https://frommelmak.com/tux-droid-tu-amigo-programable.html" rel="alternate"></link><published>2007-04-02T22:04:31+02:00</published><updated>2007-04-02T22:04:31+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-04-02:/tux-droid-tu-amigo-programable.html</id><summary type="html">&lt;p&gt;Revisando mis feeds de &lt;a href=""&gt;www.linuxdevices.com&lt;/a&gt;, he topado con la gente de &lt;strong&gt;&lt;span class="caps"&gt;KYSOH&lt;/span&gt;&lt;/strong&gt; (Keep Your Sense Of Humor) y su Tux&amp;nbsp;Droid.&lt;/p&gt;
&lt;p&gt;Tux Dorid es un simpatico Tux wireless programable que entre otras cosas es capaz de girar sobre su trasero, mover las alitas, encender lo ojos o abrir …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Revisando mis feeds de &lt;a href=""&gt;www.linuxdevices.com&lt;/a&gt;, he topado con la gente de &lt;strong&gt;&lt;span class="caps"&gt;KYSOH&lt;/span&gt;&lt;/strong&gt; (Keep Your Sense Of Humor) y su Tux&amp;nbsp;Droid.&lt;/p&gt;
&lt;p&gt;Tux Dorid es un simpatico Tux wireless programable que entre otras cosas es capaz de girar sobre su trasero, mover las alitas, encender lo ojos o abrir y cerrar el pico. Además lo puedes utilizar como dispositivo reproductor/grabador de&amp;nbsp;audio.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Tux Droid" src="|filename|/images/old_blog/TuxDroid.png"&gt;&lt;/p&gt;
&lt;p&gt;Por lo visto el cacharrito dispone de un demonio (tuxdaemon) que ofrece una sencilla &lt;span class="caps"&gt;API&lt;/span&gt; en python que nos permititir enviar comandos al simpatico engendro. De esta forma es posible programar infinidad de acciones como: función despertador, grabar o emitir sonido, utilizarlo a modo de perro guardián para asustar posibles intrusos o hacer que baile cuando recibas un&amp;nbsp;email.&lt;/p&gt;
&lt;p&gt;Si nos decidimos a comprarlo, hemos de saber que viene&amp;nbsp;con: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Tux Droid con bateria&amp;nbsp;recargable&lt;/li&gt;
&lt;li&gt;Un pescadito &lt;span class="caps"&gt;USB&lt;/span&gt; llamado Fux que hace las veces de estacion base&amp;nbsp;wireless&lt;/li&gt;
&lt;li&gt;1 Cable &lt;span class="caps"&gt;USB&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;1 Cable &lt;span class="caps"&gt;USB&lt;/span&gt; para programar el&amp;nbsp;juguetito&lt;/li&gt;
&lt;li&gt;1 Transformador con los adaptador internacional para todo tipo de&amp;nbsp;enchufes&lt;/li&gt;
&lt;li&gt;Libro de&amp;nbsp;instrucciones&lt;/li&gt;
&lt;li&gt;Control&amp;nbsp;remoto&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;También existe una portal de la comunidad dedicado a Tux Droid en el que encontraras toneladas de documentación sobre como programar tu&amp;nbsp;pingüino.&lt;/p&gt;
&lt;p&gt;Ah!!! Y todo ello por 79 Euros ! Que quereis que os diga pero yo me lo estoy&amp;nbsp;pensando&amp;#8230;&lt;/p&gt;</content><category term="Spanish"></category><category term="tux"></category><category term="robot"></category></entry><entry><title>Implementación de hilos de ejecución en GNU/Linux</title><link href="https://frommelmak.com/implementacion-de-hilos-de-ejecucion-en-gnulinux.html" rel="alternate"></link><published>2007-01-25T19:01:52+01:00</published><updated>2007-01-25T19:01:52+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-01-25:/implementacion-de-hilos-de-ejecucion-en-gnulinux.html</id><summary type="html">&lt;p&gt;Llevo muchísimo tiempo lidiando con el sistema de paquetes &lt;span class="caps"&gt;RPM&lt;/span&gt; de Red Hat y la verdad es que nunca antes me haba encontrado con nada parecido al problema con el que me encontré a principios de&amp;nbsp;semana.&lt;/p&gt;
&lt;p&gt;El problema se resume así: Trabajando en un sistema vía &lt;span class="caps"&gt;SSH&lt;/span&gt; (Putty), me …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Llevo muchísimo tiempo lidiando con el sistema de paquetes &lt;span class="caps"&gt;RPM&lt;/span&gt; de Red Hat y la verdad es que nunca antes me haba encontrado con nada parecido al problema con el que me encontré a principios de&amp;nbsp;semana.&lt;/p&gt;
&lt;p&gt;El problema se resume así: Trabajando en un sistema vía &lt;span class="caps"&gt;SSH&lt;/span&gt; (Putty), me di cuenta que al hacer &lt;code&gt;RPM -q &amp;lt;paquete&amp;gt;&lt;/code&gt; me retornaba una versión de paquete distinta que si en ese mismo sistema lanzaba un &lt;code&gt;ssh rpm -q &amp;lt;paquete&amp;gt;&lt;/code&gt; desde otra máquina. Dado que lo único que podía cambiar de uno a otro escenario eran las variables de entorno bajo las cuales se ejecutaba la orden, me puse a ver cual era la que originaba el problema. Tras unas cuantas pruebas vi que la culpable era una variable llamada &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Como no tenia ni idea de en que manera podía esto afectar al resultado de una &lt;em&gt;query&lt;/em&gt; tan simple a la base de datos &lt;span class="caps"&gt;RPM&lt;/span&gt;, empecé a documentarme sobre qué demonios hacía esta variable. Tras un buen rato tirando del &lt;strong&gt;&lt;span class="caps"&gt;HILO&lt;/span&gt;&lt;/strong&gt; di con la&amp;nbsp;respuesta. &lt;/p&gt;
&lt;p&gt;El documento que viene a continuación intenta resumir todo lo que he aprendido a raíz de la dichosa&amp;nbsp;variable.&lt;/p&gt;
&lt;p&gt;Si lo preferís, podéis descargarlo en &lt;span class="caps"&gt;PDF&lt;/span&gt; desde &lt;a href="http://nomeriasdeti.no-ip.com/files/docs/IHEGL.pdf"&gt;aquí&lt;/a&gt;.&lt;/p&gt;
&lt;h1&gt;Implementación de hilos de ejecución en sistemas &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux&lt;/h1&gt;
&lt;h2&gt;LinuxThreads vs Native &lt;span class="caps"&gt;POSIX&lt;/span&gt; Threads (&lt;span class="caps"&gt;NPTL&lt;/span&gt;)&lt;/h2&gt;
&lt;p&gt;23-Jan-2007
&lt;a href="&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#116;&amp;#111;&amp;#58;&amp;#102;&amp;#114;&amp;#111;&amp;#109;&amp;#109;&amp;#101;&amp;#108;&amp;#109;&amp;#97;&amp;#107;&amp;#64;&amp;#103;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#46;&amp;#99;&amp;#111;&amp;#109;"&gt;&amp;#102;&amp;#114;&amp;#111;&amp;#109;&amp;#109;&amp;#101;&amp;#108;&amp;#109;&amp;#97;&amp;#107;&amp;#64;&amp;#103;&amp;#109;&amp;#97;&amp;#105;&amp;#108;&amp;#46;&amp;#99;&amp;#111;&amp;#109;&lt;/a&gt;&lt;/p&gt;
&lt;h3&gt;Diferencias entre hilos de ejecución (threads) y&amp;nbsp;procesos&lt;/h3&gt;
&lt;p&gt;A grandes rasgos, la principal diferencia entre un proceso y un &lt;em&gt;thread&lt;/em&gt; es que en la mayoría de los sistemas operativos, un proceso es una entidad relativamente independiente que dispone de su propio espacio de direcciones, su propia información de estado y que utiliza los mecanismos de comunicación entre procesos que le proporciona el sistema operativo para comunicarse con otros&amp;nbsp;procesos.&lt;/p&gt;
&lt;p&gt;Por otro lado, un &lt;em&gt;thread&lt;/em&gt; seria una entidad más reducida capaz de convivir junto a otros &lt;em&gt;threads&lt;/em&gt; bajo el contexto de un único proceso, permitiendo compartir la información de estado, el área de memoria y/o los recursos asociados a ese&amp;nbsp;proceso.&lt;/p&gt;
&lt;p&gt;Así, un &lt;em&gt;thread&lt;/em&gt; no sería más que la habilidad de un proceso o programa para dividirse en varios hilos de ejecución simultáneos o aparentemente&amp;nbsp;simultáneos.&lt;/p&gt;
&lt;p&gt;Desde el punto de vista del algoritmo de scheduling del kernel -que decide que proceso ha de pasar a la &lt;span class="caps"&gt;CPU&lt;/span&gt; en cada momento- el proceso seria la unidad más grande capaz de ser manejada por el scheduler, mientras que el hilo seria la unidad más pequea capaz de ser llevada a la &lt;span class="caps"&gt;CPU&lt;/span&gt; por el scheduler del&amp;nbsp;kernel.&lt;/p&gt;
&lt;h3&gt;Hilos de ejecución en &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux&lt;/h3&gt;
&lt;p&gt;Antes de la versión 2.6 del kernel Linux, no haba soporte real para manejar hilos a nivel de kernel. Las primeras versiones para el manejo de hilos en Linux (LinuxThreads) se implementaron en el área de usuario mediante llamadas a una función de sistema &lt;code&gt;clone()&lt;/code&gt;, capaz de crear una copia de un proceso. Esta primera implementación además estaba muy lejos de ser compatible con los estándares &lt;span class="caps"&gt;POSIX&lt;/span&gt; de hilos de ejecución (&lt;span class="caps"&gt;POSIX&lt;/span&gt; threading&amp;nbsp;standards).&lt;/p&gt;
&lt;p&gt;Para mejorar el soporte de hilos en Linux, fueron necesarios retoques tanto a nivel de kernel (y su &lt;span class="caps"&gt;ABI&lt;/span&gt;) como a nivel de las libreras &lt;span class="caps"&gt;GNU&lt;/span&gt; C Library (Glibc) que implementaban el concepto de&amp;nbsp;hilo.&lt;/p&gt;
&lt;p&gt;Esto dio lugar a varios modelos/proyectos para la gestin de hilos, dependiendo de lo nuevo que fuera el&amp;nbsp;sistema:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;LinuxThreads (with fixed stack&amp;nbsp;size) &lt;/li&gt;
&lt;li&gt;LinuxThreads (with floating&amp;nbsp;stacks) &lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;NGPT&lt;/span&gt; (Next Generation &lt;span class="caps"&gt;POSIX&lt;/span&gt; Threads) liderado por &lt;span class="caps"&gt;IBM&lt;/span&gt; y abandonado  por &lt;span class="caps"&gt;NPTL&lt;/span&gt;.&lt;/li&gt;
&lt;li&gt;&lt;span class="caps"&gt;NPTL&lt;/span&gt; (Native &lt;span class="caps"&gt;POSIX&lt;/span&gt; Thread) Proyecto liderado por Red Hat y liberado en&amp;nbsp;2003.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Al añadir nuevas posibilidades al trabajo con hilos en el kernel de linux, se inició una etapa de transición en la que algunas aplicaciones requerían un esquema de hilos moderno (&lt;span class="caps"&gt;NPTL&lt;/span&gt;), mientras que otras utilizaban otro más tradicional como LinuxThreads. Todo ello, teniendo el sistema que poder correr aplicaciones basadas en un modelo de hilos más o menos&amp;nbsp;avanzado.&lt;/p&gt;
&lt;p&gt;Como se ha comentado al inicio, los nuevos modelos de soporte de hilos requerían cambios también a nivel de kernel. As, las diferentes libreras dinámicas (&lt;span class="caps"&gt;DSO&lt;/span&gt; Dinamic Shared Objects/Shared Libraries), además de una librera de hilos concreta, requerirán de una versión del kernel con una interfaz capaz de trabajar con dicha librera. A esta interfaz se la conoce con el nombre de Application Binary Interface (&lt;span class="caps"&gt;ABI&lt;/span&gt;).&lt;/p&gt;
&lt;p&gt;Una &lt;span class="caps"&gt;ABI&lt;/span&gt; define la interfaz de bajo nivel entre la Aplicación y el sistema operativo o kernel , mientras que una &lt;span class="caps"&gt;API&lt;/span&gt; define el interfaz entre el código fuente y las&amp;nbsp;libreras. &lt;/p&gt;
&lt;p&gt;De la misma forma que una &lt;span class="caps"&gt;API&lt;/span&gt; permite que un código fuente sea compilado en cualquier sistema que soporte para dicha &lt;span class="caps"&gt;API&lt;/span&gt;, la &lt;span class="caps"&gt;ABI&lt;/span&gt; permite que un objeto binario pueda funcionar en un sistema con una &lt;span class="caps"&gt;ABI&lt;/span&gt;&amp;nbsp;compatible.&lt;/p&gt;
&lt;p&gt;Los &lt;span class="caps"&gt;DSO&lt;/span&gt; incluyen información relativa a la versión de &lt;span class="caps"&gt;ABI&lt;/span&gt; requerida, de manera que el enlazador o cargador dinámico (&lt;span class="caps"&gt;LD&lt;/span&gt;) de las Glibc (&lt;code&gt;ld.so/ld-linux.so&lt;/code&gt;) sabe la versión &lt;span class="caps"&gt;ABI&lt;/span&gt; requerida por el &lt;span class="caps"&gt;DSO&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Las ABIs disponibles dependen de la versión del kernel que utilice el sistema, mientras que el modelo de hilos utilizado depende de las libreras de hilos (&lt;code&gt;libpthread.so&lt;/code&gt;) disponibles. La decisión de qué libreras utilizar la toma el enlazador&amp;nbsp;dinámico.&lt;/p&gt;
&lt;p&gt;Así, la incursión de un nuevo modelo de hilos requería también de retoques en el enlazador dinámico de libreras, a fin de asegurar la compatibilidad total con las aplicaciones ya existentes, además de los ya mencionados cambios en el sistema (kernel y librera de implementación de&amp;nbsp;hilos).&lt;/p&gt;
&lt;p&gt;El enlazador dinámico (&lt;code&gt;ld-linux.so&lt;/code&gt;) de DSOs (Dynamic Share Object .so) forma parte de las Glibc, y es capaz de ver los requerimientos en cuanto a kernel/&lt;span class="caps"&gt;ABI&lt;/span&gt; de un &lt;span class="caps"&gt;DSO&lt;/span&gt; y llamar a las librerías necesarias/compatibles en cada caso. En Red Hat 9, Fedora Core 1 y 2, estas libreras están en &lt;code&gt;/lib&lt;/code&gt;, &lt;code&gt;/lib/i686&lt;/code&gt; y &lt;code&gt;/lib/tls&lt;/code&gt; en función de si implementan un sistema de hilos LinuxTread (fixed stacks), LinuxTread (floating stacks) o &lt;span class="caps"&gt;NPTL&lt;/span&gt;&amp;nbsp;respectivamente.&lt;/p&gt;
&lt;h3&gt;La variable &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;En los sistemas Red Hat Linux en los que conviven los diferentes acercamientos al modelo de hilos (LinuxThread y &lt;span class="caps"&gt;NPTL&lt;/span&gt;), existe una variable de entorno llamada &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt;  capaz de modificar el comportamiento normal del enlazador dinámico de las Glibc para utilizar los &lt;span class="caps"&gt;DSO&lt;/span&gt;/&lt;span class="caps"&gt;ABI&lt;/span&gt; de uno u otro modelo de&amp;nbsp;hilos.&lt;/p&gt;
&lt;p&gt;En sistemas relativamente modernos, las libreras Glibc incluyen diferentes versiones de libreras capaces de implementar uno u otro modelo de&amp;nbsp;hilos: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;/lib/libpthread.so.0&lt;/code&gt;      (LinuxThreads fixed stack&amp;nbsp;size)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/lib/i686/libpthread-0.10.so&lt;/code&gt; (LinuxThreads floating&amp;nbsp;stacks)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;/lib/tls/libpthread-0.34.so&lt;/code&gt;   (&lt;span class="caps"&gt;NPTL&lt;/span&gt; disponible por primera vez en Red Hat&amp;nbsp;9)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para saber el modelo de hilos utilizado podemos utilizar el comando&amp;nbsp;getconf.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;getconf GNU_LIBPTHREAD_VERSION&lt;/span&gt;
&lt;span class="go"&gt;NPTL 0.34&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Como hemos dicho, si bien en Red Hat 9 &lt;span class="caps"&gt;NPTL&lt;/span&gt; es el modelo de hilos utilizado por defecto, utilizando la variable &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt;, es posible forzar al enlazador dinámico (Dynamic Linker &lt;span class="caps"&gt;LD&lt;/span&gt;) a la hora de cargar los DSOs requeridos por un programa, de manera que cargue los correspondientes a un modelo de threads u otro al &lt;span class="caps"&gt;ASUMIR&lt;/span&gt; que la &lt;span class="caps"&gt;ABI&lt;/span&gt; que le ofrecer el kernel es de una versión anterior a la del kernel actualmente en&amp;nbsp;ejecución.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;LD_ASSUME_KERNEL=2.2.5&lt;/span&gt;
&lt;span class="err"&gt;getconf GNU_LIBPTHREAD_VERSION&lt;/span&gt;
&lt;span class="err"&gt;linuxthreads-0.10&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;LD_ASSUME_KERNEL=2.4.1&lt;/span&gt;
&lt;span class="err"&gt;getconf GNU_LIBPTHREAD_VERSION&lt;/span&gt;
&lt;span class="err"&gt;linuxthreads-0.10&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;LD_ASSUME_KERNEL=2.4.20&lt;/span&gt;
&lt;span class="err"&gt;getconf GNU_LIBPTHREAD_VERSION&lt;/span&gt;
&lt;span class="err"&gt;NPTL 0.34 &lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Mediante el comando &lt;code&gt;eu-readelf&lt;/code&gt; presente en el paquete &lt;code&gt;elfutil&lt;/code&gt;s, es posible saber el modelo de &lt;span class="caps"&gt;ABI&lt;/span&gt; requerido por un &lt;span class="caps"&gt;DSO&lt;/span&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;eu-readelf -n /lib/libnss_nis.so.1&lt;/span&gt;

&lt;span class="go"&gt;Note segment of 32 bytes at offset 0x000000f4:&lt;/span&gt;
&lt;span class="go"&gt;Owner          Data size  Type&lt;/span&gt;
&lt;span class="go"&gt;GNU                   16  VERSION&lt;/span&gt;
&lt;span class="go"&gt;OS: Linux, ABI: 2.2.5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;En el ejemplo anterior, la librera &lt;code&gt;libnss_nis.so.1&lt;/code&gt; requiere de una &lt;span class="caps"&gt;ABI&lt;/span&gt;/Kernel superior o igual a la que ofrecía un kernel de la versión&amp;nbsp;2.2.5.&lt;/p&gt;
&lt;p&gt;Otros&amp;nbsp;ejemplos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="n"&gt;eu&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;readelf&lt;/span&gt; &lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="n"&gt;n&lt;/span&gt; &lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;lib&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;i686&lt;/span&gt;&lt;span class="o"&gt;/&lt;/span&gt;&lt;span class="n"&gt;libc&lt;/span&gt;&lt;span class="o"&gt;-&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;3&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="n"&gt;so&lt;/span&gt;

&lt;span class="n"&gt;Note&lt;/span&gt; &lt;span class="n"&gt;segment&lt;/span&gt; &lt;span class="k"&gt;of&lt;/span&gt; &lt;span class="mi"&gt;32&lt;/span&gt; &lt;span class="n"&gt;bytes&lt;/span&gt; &lt;span class="k"&gt;at&lt;/span&gt; &lt;span class="k"&gt;offset&lt;/span&gt; &lt;span class="mi"&gt;0&lt;/span&gt;&lt;span class="n"&gt;x00000114&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
&lt;span class="k"&gt;Owner&lt;/span&gt;          &lt;span class="k"&gt;Data&lt;/span&gt; &lt;span class="k"&gt;size&lt;/span&gt;  &lt;span class="k"&gt;Type&lt;/span&gt;
&lt;span class="n"&gt;GNU&lt;/span&gt;                   &lt;span class="mi"&gt;16&lt;/span&gt;  &lt;span class="n"&gt;VERSIONOS&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="n"&gt;Linux&lt;/span&gt;&lt;span class="p"&gt;,&lt;/span&gt; &lt;span class="n"&gt;ABI&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="mi"&gt;2&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;4&lt;/span&gt;&lt;span class="p"&gt;.&lt;/span&gt;&lt;span class="mi"&gt;1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;eu-readelf -n /lib/tls/libc-2.3.2.so&lt;/span&gt;
&lt;span class="err"&gt;Note segment of 32 bytes at offset 0x00000134:&lt;/span&gt;
&lt;span class="err"&gt;Owner          Data size  Type&lt;/span&gt;
&lt;span class="err"&gt;GNU                   16  VERSIONOS: Linux, ABI: 2.4.20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Errores derivados de un mal uso de &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt;&lt;/h3&gt;
&lt;p&gt;Las utilidades del sistema de paquetes &lt;span class="caps"&gt;RPM&lt;/span&gt; dependen de libreras que requieren una &lt;span class="caps"&gt;ABI&lt;/span&gt; y libreras con capacidades &lt;span class="caps"&gt;NPTL&lt;/span&gt;. Si utilizamos la variable &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt; para forzar al enlazador dinámico a utilizar las libreras de la implementación de hilos LinuxThreads, corremos el riesgo de obtener resultados inesperados o incluso de corromper la base de datos Berkley &lt;span class="caps"&gt;DB&lt;/span&gt; del sistema &lt;span class="caps"&gt;RPM&lt;/span&gt;, ya que esta base de datos está pensada y optimizada para su ejecución en un entorno de hilos &lt;span class="caps"&gt;NPTL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Es por este motivo que es recomendable estar seguros de que &lt;span class="caps"&gt;NO&lt;/span&gt; hemos modificado el valor de dicha variable de entorno antes de proceder a construir, o instalar un paquete mediante las herramientas del sistema de paquetes &lt;span class="caps"&gt;RPM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Las capturas siguientes muestran la estrecha relación que existe entre las herramientas &lt;span class="caps"&gt;RPM&lt;/span&gt; y el modelo de hilos &lt;span class="caps"&gt;NPTL&lt;/span&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;ldd /bin/rpm&lt;/span&gt;
&lt;span class="err"&gt;librpm-4.2.so = /usr/lib/librpm-4.2.so (0x4002a000)&lt;/span&gt;
&lt;span class="err"&gt;librpmdb-4.2.so = /usr/lib/librpmdb-4.2.so (0x4007e000)&lt;/span&gt;
&lt;span class="err"&gt;librpmio-4.2.so = /usr/lib/librpmio-4.2.so (0x4015d000)&lt;/span&gt;
&lt;span class="err"&gt;libpopt.so.0 = /usr/lib/libpopt.so.0 (0x401bb000)&lt;/span&gt;
&lt;span class="err"&gt;libelf.so.1 = /usr/lib/libelf.so.1 (0x401c3000)&lt;/span&gt;
&lt;span class="err"&gt;libpthread.so.0 = tls/libpthread.so.0 (0x401d3000)&lt;/span&gt;
&lt;span class="err"&gt;librt.so.1 = tls/librt.so.1 (0x401e2000)&lt;/span&gt;
&lt;span class="err"&gt;libbz2.so.1 = /usr/lib/libbz2.so.1 (0x401f4000)&lt;/span&gt;
&lt;span class="err"&gt;libc.so.6 = tls/libc.so.6 (0x42000000)&lt;/span&gt;
&lt;span class="err"&gt;/lib/ld-linux.so.2 = /lib/ld-linux.so.2 (0x40000000)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;ldd /usr/bin/rpmbuild&lt;/span&gt;
&lt;span class="err"&gt;librpmbuild-4.2.so = /usr/lib/librpmbuild-4.2.so (0x00bba000)&lt;/span&gt;
&lt;span class="err"&gt;librpm-4.2.so = /usr/lib/librpm-4.2.so (0x008a3000)&lt;/span&gt;
&lt;span class="err"&gt;librpmdb-4.2.so = /usr/lib/librpmdb-4.2.so (0x00252000)&lt;/span&gt;
&lt;span class="err"&gt;librpmio-4.2.so = /usr/lib/librpmio-4.2.so (0x00380000)&lt;/span&gt;
&lt;span class="err"&gt;libpopt.so.0 = /usr/lib/libpopt.so.0 (0x00d26000)&lt;/span&gt;
&lt;span class="err"&gt;libelf.so.1 = /usr/lib/libelf.so.1 (0x00aef000)&lt;/span&gt;
&lt;span class="err"&gt;libbeecrypt.so.6 = /usr/lib/libbeecrypt.so.6 (0x0061a000)&lt;/span&gt;
&lt;span class="err"&gt;librt.so.1 = /lib/tls/librt.so.1 (0x00d56000)&lt;/span&gt;
&lt;span class="err"&gt;libpthread.so.0 = /lib/tls/libpthread.so.0 (0x005ac000)&lt;/span&gt;
&lt;span class="err"&gt;libz.so.1 = /usr/lib/libz.so.1 (0x00c0e000)&lt;/span&gt;
&lt;span class="err"&gt;libbz2.so.1 = /usr/lib/libbz2.so.1 (0x00e55000)&lt;/span&gt;
&lt;span class="err"&gt;libc.so.6 = /lib/tls/libc.so.6 (0x00111000)&lt;/span&gt;
&lt;span class="err"&gt;/lib/ld-linux.so.2 = /lib/ld-linux.so.2 (0x00364000)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;eu-readelf -n /lib/tls/librt.so.1&lt;/span&gt;
&lt;span class="err"&gt;Note segment of 32 bytes at offset 0x00000134:&lt;/span&gt;
&lt;span class="err"&gt;Owner          Data size  Type&lt;/span&gt;
&lt;span class="err"&gt;GNU                   16  VERSION&lt;/span&gt;
&lt;span class="c"&gt;OS: Linux, ABI: 2.4.20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="err"&gt;eu-readelf -n /lib/tls/libpthread.so.0&lt;/span&gt;
&lt;span class="err"&gt;Note segment of 32 bytes at offset 0x00000114:&lt;/span&gt;
&lt;span class="err"&gt;Owner          Data size  Type&lt;/span&gt;
&lt;span class="err"&gt;GNU                   16  VERSION&lt;/span&gt;
&lt;span class="c"&gt;OS: Linux, ABI: 2.4.20&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;La conclusión que cabe sacar de todo esto es que un abuso de la variable &lt;code&gt;LD_ASSUME_KERNEL&lt;/code&gt; puede tener consecuencias inesperadas y hacernos perder mucho tiempo tratando de averiguar qué es lo que esta provocando el&amp;nbsp;problema.&lt;/p&gt;
&lt;p&gt;La regla sera dejar que sea el sistema el encargado de establecer el modelo de hilos bajo en que se ha de ejecutar cada aplicación y solo forzar un modelo distinto cuando estemos seguros que es eso lo que requiere nuestra&amp;nbsp;aplicación.&lt;/p&gt;
&lt;h3&gt;Bibliografa:&lt;/h3&gt;
&lt;p&gt;&lt;em&gt;Wikipedia&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;http://en.wikipedia.org/wiki/Thread_%28computer_science%29&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;Red&amp;nbsp;Hat&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;http://people.redhat.com/drepper/assumekernel.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;&lt;span class="caps"&gt;IBM&lt;/span&gt;&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;http://publib.boulder.ibm.com/infocenter/wasinfo/v5r1//index.jsp?topic=/com.ibm.websphere.base.doc/info/aes/ae/cins_nptl.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=""&gt;http://www-128.ibm.com/developerworks/linux/library/l-threading.html?ca=dgr-lnxw07LinuxThreadsAndNPTL&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;</content><category term="Spanish"></category><category term="threads"></category><category term="hilos"></category></entry><entry><title>Asterisk: The Future of Telephony</title><link href="https://frommelmak.com/asterisk-the-future-of-telephony.html" rel="alternate"></link><published>2007-01-19T14:20:47+01:00</published><updated>2007-01-19T14:20:47+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-01-19:/asterisk-the-future-of-telephony.html</id><summary type="html">&lt;p&gt;La gente de O&amp;#8217;Reilly esta que se sale últimamente. Si hace unos días os hablaba del libro &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=1&amp;amp;section_type=1&amp;amp;task=read_more&amp;amp;id_info=141"&gt;Linux in a Nutshell&lt;/a&gt;, hoy lo hago de  &lt;a href="http://www.oreilly.com/catalog/asterisk/index.html"&gt;Asterisk: The Future of Telephony&lt;/a&gt; de &lt;a href="http://www.oreillynet.com/pub/au/2235"&gt;Jared Smith&lt;/a&gt;, &lt;a href="http://www.oreillynet.com/pub/au/2177"&gt;Jim Van Meggelen&lt;/a&gt; y  &lt;a href="http://www.oreillynet.com/pub/au/2236"&gt;Leif Madsen&lt;/a&gt; que con sus más de 400 páginas tiene muy buena …&lt;/p&gt;</summary><content type="html">&lt;p&gt;La gente de O&amp;#8217;Reilly esta que se sale últimamente. Si hace unos días os hablaba del libro &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=1&amp;amp;section_type=1&amp;amp;task=read_more&amp;amp;id_info=141"&gt;Linux in a Nutshell&lt;/a&gt;, hoy lo hago de  &lt;a href="http://www.oreilly.com/catalog/asterisk/index.html"&gt;Asterisk: The Future of Telephony&lt;/a&gt; de &lt;a href="http://www.oreillynet.com/pub/au/2235"&gt;Jared Smith&lt;/a&gt;, &lt;a href="http://www.oreillynet.com/pub/au/2177"&gt;Jim Van Meggelen&lt;/a&gt; y  &lt;a href="http://www.oreillynet.com/pub/au/2236"&gt;Leif Madsen&lt;/a&gt; que con sus más de 400 páginas tiene muy buena&amp;nbsp;pinta.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Asterisk" src="|filename|/images/old_blog/asterisk.gif"&gt;&lt;/p&gt;
&lt;p&gt;Con este, ya son &lt;a href="http://www.oreilly.com/openbook/"&gt;unos cuantos los libros&lt;/a&gt; de los que podemos disfrutar gratuitamente bajo licencia &lt;span class="caps"&gt;CC&lt;/span&gt;. Podeis descargar el libro desde la propia web de &lt;a href="http://www.oreilly.com/"&gt;O&amp;#8217;Reilly&lt;/a&gt; o desde alguno de los mirrors que encontrareis &lt;a href="http://www.asteriskdocs.org/modules/tinycontent/index.php?id=11"&gt;aquí&lt;/a&gt;.&lt;/p&gt;</content><category term="Spanish"></category><category term="asterisk"></category><category term="telephony"></category></entry><entry><title>Linux Kernel in a Nutshell de O’Reilly disponible gratuitamente</title><link href="https://frommelmak.com/linux-kernel-in-a-nutshell-de-oreilly-disponible-gratuitamente.html" rel="alternate"></link><published>2007-01-10T22:34:10+01:00</published><updated>2007-01-10T22:34:10+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-01-10:/linux-kernel-in-a-nutshell-de-oreilly-disponible-gratuitamente.html</id><summary type="html">&lt;p&gt;Acabo de leer en &lt;a href="http://digg.com/linux_unix/The_book_Linux_Kernel_in_a_Nutshell_available_for_free_download"&gt;digg&lt;/a&gt; que el libro &lt;em&gt;Linux Kernel in a Nutshell&lt;/em&gt; de &lt;a href="http://www.kroah.com/log/"&gt;Greg Kroah-Hartman&lt;/a&gt; y publicado por la editorial &lt;a href="http://www.oreilly.com/"&gt;O&amp;#8217;Reilly&lt;/a&gt; est disponible para su &lt;a href="http://www.kernel.org/pub/linux/kernel/people/gregkh/lkn/lkn_pdf.tar.bz2"&gt;descarga&lt;/a&gt; gratuita desde el sitio web destinado a este&amp;nbsp;libro.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Linux Kernel in a Nutshell" src="|filename|/images/old_blog/linux_kernel_in_a_nutshell_small.jpg"&gt;&lt;/p&gt;
&lt;p&gt;El libro, que esta actualizado a la versin 2.6.18 del kernel …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Acabo de leer en &lt;a href="http://digg.com/linux_unix/The_book_Linux_Kernel_in_a_Nutshell_available_for_free_download"&gt;digg&lt;/a&gt; que el libro &lt;em&gt;Linux Kernel in a Nutshell&lt;/em&gt; de &lt;a href="http://www.kroah.com/log/"&gt;Greg Kroah-Hartman&lt;/a&gt; y publicado por la editorial &lt;a href="http://www.oreilly.com/"&gt;O&amp;#8217;Reilly&lt;/a&gt; est disponible para su &lt;a href="http://www.kernel.org/pub/linux/kernel/people/gregkh/lkn/lkn_pdf.tar.bz2"&gt;descarga&lt;/a&gt; gratuita desde el sitio web destinado a este&amp;nbsp;libro.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Linux Kernel in a Nutshell" src="|filename|/images/old_blog/linux_kernel_in_a_nutshell_small.jpg"&gt;&lt;/p&gt;
&lt;p&gt;El libro, que esta actualizado a la versin 2.6.18 del kernel Linux , esta liberado bajo una licencia Creative Commons y la intencin del autor es ir actualizandolo segun vayan introduciendose novedades en el&amp;nbsp;kernel.&lt;/p&gt;
&lt;p&gt;Bueno, si el tiempo me lo permite prometo darle un vistazo y explicar por aqu que impresin me ha&amp;nbsp;causado.&lt;/p&gt;</content><category term="Spanish"></category><category term="books"></category><category term="libros"></category></entry><entry><title>iPod + Telefono + Mac OS X = iPhone</title><link href="https://frommelmak.com/ipod-telefono-mac-os-x-iphone.html" rel="alternate"></link><published>2007-01-09T20:52:06+01:00</published><updated>2007-01-09T20:52:06+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2007-01-09:/ipod-telefono-mac-os-x-iphone.html</id><summary type="html">&lt;p&gt;Los nuevos gadgets de Apple presentados hoy: &lt;a href="http://www.apple.com/iphone/"&gt;iPhone&lt;/a&gt; y &lt;a href="http://www.apple.com/appletv/"&gt;Apple &lt;span class="caps"&gt;TV&lt;/span&gt;&lt;/a&gt;, han hecho replantearse muchas cosas a Apple Computer Inc. Tanto es as, que a partir de hoy la compañia ha cambiado de nombre y pasar a denominarse símplemente Apple&amp;nbsp;Inc.&lt;/p&gt;
&lt;p&gt;La verdad es que el nuevo iPhone es absolutamente …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Los nuevos gadgets de Apple presentados hoy: &lt;a href="http://www.apple.com/iphone/"&gt;iPhone&lt;/a&gt; y &lt;a href="http://www.apple.com/appletv/"&gt;Apple &lt;span class="caps"&gt;TV&lt;/span&gt;&lt;/a&gt;, han hecho replantearse muchas cosas a Apple Computer Inc. Tanto es as, que a partir de hoy la compañia ha cambiado de nombre y pasar a denominarse símplemente Apple&amp;nbsp;Inc.&lt;/p&gt;
&lt;p&gt;La verdad es que el nuevo iPhone es absolutamente espectacular. Tanto como su &lt;a href="http://www.apple.com/iphone/keynote/"&gt;presentación&lt;/a&gt;, que ha contado con la participación de los &lt;span class="caps"&gt;CEO&lt;/span&gt; de Google, Yahoo y Cingular.Tras ver el iPhone, a uno le cuesta poco imaginar cómo ser la próxima generación del iPod.El precio de estos suculentos aparatitos ? iPhone de &lt;span class="caps"&gt;4GB&lt;/span&gt; 499$ y el de &lt;span class="caps"&gt;8GB&lt;/span&gt; 599$ (que incluye dos años de contrato con Cingular) y 299$ para el Apple &lt;span class="caps"&gt;TV&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Especificaciones técnicas del impresionante&amp;nbsp;iPhone:&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;Spec&lt;/th&gt;
&lt;th&gt;Description&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;Screen size&lt;/td&gt;
&lt;td&gt;3.5 inches&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Screen resolution&lt;/td&gt;
&lt;td&gt;320 by 480 at 160 ppi&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Input method&lt;/td&gt;
&lt;td&gt;Multi-touch&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Operating system&lt;/td&gt;
&lt;td&gt;&lt;span class="caps"&gt;OS&lt;/span&gt; X&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Storage&lt;/td&gt;
&lt;td&gt;&lt;span class="caps"&gt;4GB&lt;/span&gt; or &lt;span class="caps"&gt;8GB&lt;/span&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;span class="caps"&gt;GSM&lt;/span&gt;&lt;/td&gt;
&lt;td&gt;Quad-band (MHz: 850, 900, 1800, 1900)&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Wireless data&lt;/td&gt;
&lt;td&gt;Wi-Fi (802.11b/g) + &lt;span class="caps"&gt;EDGE&lt;/span&gt; + Bluetooth 2.0&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Camera&lt;/td&gt;
&lt;td&gt;2.0 megapixels&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Battery&lt;/td&gt;
&lt;td&gt;Up to 5 hours Talk / Video / Browsing&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;/td&gt;
&lt;td&gt;Up to 16 hours Audio playback&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Dimensions&lt;/td&gt;
&lt;td&gt;4.5 x 2.4 x 0.46 inches / 115 x 61 x 11.6mm&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;Weight&lt;/td&gt;
&lt;td&gt;4.8 ounces / 135 grams&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;p&gt;Como veis no es 3G (&lt;span class="caps"&gt;UMTS&lt;/span&gt;). Supongo que el que en &lt;span class="caps"&gt;EEUU&lt;/span&gt; no sea una tecnología tan extendida como aquí habrá tenido su peso. En cambio allí es más fácil encontrar una buena red wi-fi con la que conectarse a la red sin arruinarte. Tampoco dispone de ranura para ampliar memoria, si bien con 4 y 8 &lt;span class="caps"&gt;GB&lt;/span&gt; tampoco creo que sea tan&amp;nbsp;necesaria.&lt;/p&gt;
&lt;p&gt;Especificaciones técnicas del Apple &lt;span class="caps"&gt;TV&lt;/span&gt;&amp;nbsp;aquí.&lt;/p&gt;</content><category term="Spanish"></category><category term="apple"></category></entry><entry><title>Convertir videos al formato utilizado por el movil con ffmpeg</title><link href="https://frommelmak.com/convertir-videos-al-formato-utilizado-por-el-movil-con-ffmpeg.html" rel="alternate"></link><published>2006-12-18T17:24:49+01:00</published><updated>2006-12-18T17:24:49+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-12-18:/convertir-videos-al-formato-utilizado-por-el-movil-con-ffmpeg.html</id><summary type="html">&lt;p&gt;La mayoría de teléfonos móviles de última generación del mercado son capaces de manejar ficheros multimedia.
Para hacerlo algunos utilizan ficheros &lt;a href="http://en.wikipedia.org/wiki/3GP"&gt;&lt;span class="caps"&gt;3GP&lt;/span&gt;&lt;/a&gt; que no es un formato de vídeo en si mismo, sino un formato de contenedor que permite albergar pistas de audio (&lt;a href="http://en.wikipedia.org/wiki/Adaptive_Multi-Rate"&gt;&lt;span class="caps"&gt;AMR&lt;/span&gt;-&lt;span class="caps"&gt;NB&lt;/span&gt;&lt;/a&gt;/&lt;a href="http://en.wikipedia.org/wiki/Advanced_Audio_Coding"&gt;&lt;span class="caps"&gt;AAC&lt;/span&gt;-&lt;span class="caps"&gt;LC&lt;/span&gt;&lt;/a&gt;) y vídeo (&lt;a href="http://en.wikipedia.org/wiki/MPEG-4_Part_2"&gt;&lt;span class="caps"&gt;MPEG …&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;La mayoría de teléfonos móviles de última generación del mercado son capaces de manejar ficheros multimedia.
Para hacerlo algunos utilizan ficheros &lt;a href="http://en.wikipedia.org/wiki/3GP"&gt;&lt;span class="caps"&gt;3GP&lt;/span&gt;&lt;/a&gt; que no es un formato de vídeo en si mismo, sino un formato de contenedor que permite albergar pistas de audio (&lt;a href="http://en.wikipedia.org/wiki/Adaptive_Multi-Rate"&gt;&lt;span class="caps"&gt;AMR&lt;/span&gt;-&lt;span class="caps"&gt;NB&lt;/span&gt;&lt;/a&gt;/&lt;a href="http://en.wikipedia.org/wiki/Advanced_Audio_Coding"&gt;&lt;span class="caps"&gt;AAC&lt;/span&gt;-&lt;span class="caps"&gt;LC&lt;/span&gt;&lt;/a&gt;) y vídeo (&lt;a href="http://en.wikipedia.org/wiki/MPEG-4_Part_2"&gt;&lt;span class="caps"&gt;MPEG&lt;/span&gt;-4&lt;/a&gt; , &lt;a href="http://en.wikipedia.org/wiki/H.263"&gt;H.263&lt;/a&gt; ó &lt;a href="http://en.wikipedia.org/wiki/H.264"&gt;H.264&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Hoy he estado experimentando con ffmpeg y he conseguido crear ficheros &lt;span class="caps"&gt;3GP&lt;/span&gt; que he podido reproducir sin problemas con mi &lt;a href="http://www.sonyericsson.com/spg.jsp?cc=es&amp;amp;lc=es&amp;amp;ver=4000&amp;amp;template=pip1&amp;amp;zone=pp&amp;amp;pid=10389"&gt;Sony Ericsson k610i&lt;/a&gt;. La calidad, tanto del vídeo como del sonido son más que aceptables, y no es descabellado pasar un capitulo de tu serie favorita al teléfono para disfrutarlo durante un viaje o mientras esperas en la consulta del médico por&amp;nbsp;ejemplo.&lt;/p&gt;
&lt;p&gt;Bueno, dejo aquí el comando por si me veo en la necesidad de volver a utilizarlo algún&amp;nbsp;día:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ffmpeg -i prodigy90_med.mpg -s qcif -acodec aac -vcodec mpeg4 ADG3.3gp
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Dónde: &lt;code&gt;-i&lt;/code&gt; (Fichero de entrada), &lt;code&gt;-s&lt;/code&gt; (size qcif 176x144), &lt;code&gt;-acodec&lt;/code&gt; (audio codec &lt;span class="caps"&gt;AAC&lt;/span&gt;), &lt;code&gt;-vcodec&lt;/code&gt; (video codec &lt;span class="caps"&gt;MP4&lt;/span&gt;), &lt;code&gt;ADG3.3gp&lt;/code&gt; (Fichero de&amp;nbsp;salida)&lt;/p&gt;</content><category term="Spanish"></category><category term="video"></category><category term="encoder"></category><category term="ffmpeg"></category></entry><entry><title>MidpSSH cliente Java de SSH para el movil</title><link href="https://frommelmak.com/midpssh-cliente-java-de-ssh-para-el-movil.html" rel="alternate"></link><published>2006-12-01T23:47:01+01:00</published><updated>2006-12-01T23:47:01+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-12-01:/midpssh-cliente-java-de-ssh-para-el-movil.html</id><summary type="html">&lt;p&gt;No sé muy bien cómo, ayer fui a parar a la web de &lt;a href="http://www.xk72.com/midpssh"&gt;MidpSSH&lt;/a&gt;, un cliente de &lt;span class="caps"&gt;SSH&lt;/span&gt; y Telnet para teléfonos móviles compatibles con Java &lt;span class="caps"&gt;MIDP&lt;/span&gt; 1.0 / 2.0 (&lt;span class="caps"&gt;J2ME&lt;/span&gt;) licenciado bajo &lt;span class="caps"&gt;GPL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Lo he probado en mi &lt;a href="http://www.sonyericsson.com/spg.jsp?cc=es&amp;amp;lc=es&amp;amp;ver=4000&amp;amp;template=pip1&amp;amp;zone=pp&amp;amp;pid=10389"&gt;Sony Ericson k610i&lt;/a&gt; y una tarifa estándar (Amena/Orange) y …&lt;/p&gt;</summary><content type="html">&lt;p&gt;No sé muy bien cómo, ayer fui a parar a la web de &lt;a href="http://www.xk72.com/midpssh"&gt;MidpSSH&lt;/a&gt;, un cliente de &lt;span class="caps"&gt;SSH&lt;/span&gt; y Telnet para teléfonos móviles compatibles con Java &lt;span class="caps"&gt;MIDP&lt;/span&gt; 1.0 / 2.0 (&lt;span class="caps"&gt;J2ME&lt;/span&gt;) licenciado bajo &lt;span class="caps"&gt;GPL&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Lo he probado en mi &lt;a href="http://www.sonyericsson.com/spg.jsp?cc=es&amp;amp;lc=es&amp;amp;ver=4000&amp;amp;template=pip1&amp;amp;zone=pp&amp;amp;pid=10389"&gt;Sony Ericson k610i&lt;/a&gt; y una tarifa estándar (Amena/Orange) y la verdad es que funciona a las mil maravillas. La instalación no tiene ningún misterio, sólo hay que descargar el fichero &lt;a href="http://www.xk72.com/midpssh/release/midpssh-full.jar"&gt;&lt;code&gt;midpssh-full.jar&lt;/code&gt;&lt;/a&gt; (o alguna de las &lt;a href="http://www.xk72.com/midpssh/download.php"&gt;versiones&lt;/a&gt; reducidas) y copiarlo al teléfono utilizando el cable suministrado con el terminal u otro medio (bluetooth,&amp;nbsp;web&amp;#8230;).&lt;/p&gt;
&lt;p&gt;Una vez allí, al seleccionar el fichero nos dar la opción de instalarlo en el teléfono. Lo siguiente es crear una &lt;em&gt;session&lt;/em&gt; al mas puro estilo &lt;em&gt;PuTTY&lt;/em&gt; (host + protocolo + user y password). 
A mi me ha dado algunos problemas al principio, ya que no tenía correctamente configurado el Java para que accediera correctamente a Internet, lo que provocaba un mensaje de error poco clarificador &lt;code&gt;write:&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Tras trastear un rato he dado con la solución, que no es otra que configurar correctamente los ajustes Java para que las aplicaciones puedan conectar a&amp;nbsp;Internet.&lt;/p&gt;
&lt;p&gt;Ajustes -&amp;gt; Conectividad -&amp;gt; Ajustes de Internet -&amp;gt; Ajustes de&amp;nbsp;Java &lt;/p&gt;
&lt;p&gt;Y cambiamos &amp;#8216;Amena&amp;#8217; por &amp;#8216;Amena&amp;nbsp;Internet&amp;#8217;.&lt;/p&gt;
&lt;p&gt;Bueno ahora sólo quedaria el tipico screenshot, pero no tengo por aqui más que la cámara del  propio movil, asi que lo dejo para otro&amp;nbsp;dia.&lt;/p&gt;</content><category term="Spanish"></category><category term="ssh"></category><category term="terminal"></category><category term="phone"></category></entry><entry><title>Añadir fuentes Truetype en OpenSuSE 10.x</title><link href="https://frommelmak.com/anadir-fuentes-truetype-en-opensuse-10x.html" rel="alternate"></link><published>2006-11-17T22:06:34+01:00</published><updated>2006-11-17T22:06:34+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-11-17:/anadir-fuentes-truetype-en-opensuse-10x.html</id><summary type="html">&lt;p&gt;Rara vez añado fuentes al sistema por lo que siempre que he de hacerlo he de googlear un rato para recordar cómo diablos se hacía. La teoria es la misma para todas las distros, pero algunas de ellas incorporan scripts para facilitarnos la vida. Sirva esta noticia como recordatorio de …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Rara vez añado fuentes al sistema por lo que siempre que he de hacerlo he de googlear un rato para recordar cómo diablos se hacía. La teoria es la misma para todas las distros, pero algunas de ellas incorporan scripts para facilitarnos la vida. Sirva esta noticia como recordatorio de como se hace en OpenSuSE 10.x (al menos yo lo he hecho&amp;nbsp;así).&lt;/p&gt;
&lt;p&gt;Copiar las fuentes en al directorio de fuentes del&amp;nbsp;sistema:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cp fuente.ttf /usr/X11R6/lib/X11/fonts/truetype&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Actualizar los ficheros &lt;code&gt;fonts.dir&lt;/code&gt; y &lt;code&gt;fonts&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;scalefonts-config -f&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="fonts"></category><category term="truetype"></category></entry><entry><title>OpenSUSE 10.1 en un viejo IBM ThinkPad 570</title><link href="https://frommelmak.com/opensuse-101-en-un-viejo-ibm-thinkpad-570.html" rel="alternate"></link><published>2006-10-11T21:10:13+02:00</published><updated>2006-10-11T21:10:13+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-10-11:/opensuse-101-en-un-viejo-ibm-thinkpad-570.html</id><summary type="html">&lt;p&gt;Hace ya algún tiempo llego a mis manos un viejo &lt;span class="caps"&gt;IBM&lt;/span&gt; ThinkPad 570 (gracias Lluis !) que había caído en el olvido , hasta que hoy mi hermano me ha pedido que le instalara una distro &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux para salir de un apuro. Sí! Lo has adivinado, este post explica el proceso …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hace ya algún tiempo llego a mis manos un viejo &lt;span class="caps"&gt;IBM&lt;/span&gt; ThinkPad 570 (gracias Lluis !) que había caído en el olvido , hasta que hoy mi hermano me ha pedido que le instalara una distro &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux para salir de un apuro. Sí! Lo has adivinado, este post explica el proceso para instalar OpenSUSE 10.1 en un &lt;span class="caps"&gt;IBM&lt;/span&gt; ThinkPad 570. La gracia del tema, es que el portátil en cuestión carece de lector de &lt;span class="caps"&gt;CD&lt;/span&gt;/&lt;span class="caps"&gt;DVD&lt;/span&gt; ni tarjeta de &lt;span class="caps"&gt;RED&lt;/span&gt;. El único dispositivo de entrada/salida disponible es una disquetera externa del siglo&amp;nbsp;pasado.&lt;/p&gt;
&lt;p&gt;El procedimiento que he seguido ha consistido en pinchar el disco duro del &lt;span class="caps"&gt;IBM&lt;/span&gt; en mi actual portatil, que sí que dispone de lector de &lt;span class="caps"&gt;DVD&lt;/span&gt;, e instalar entonces la OpenSuse sobre el disco del &lt;span class="caps"&gt;IBM&lt;/span&gt; desde el &lt;span class="caps"&gt;DVD&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Hasta aquí todo perfecto, el problema ha sido que tras volver a poner el disco duro al &lt;span class="caps"&gt;IBM&lt;/span&gt;, este no arrancaba, ya que no encontraba el boot loader (grub) por ningún sitio. Tras googlear un rato, he encontrado esta&amp;nbsp;solución:&lt;/p&gt;
&lt;p&gt;He arracado una knoppix en el ordenador de mi padre, ya que mi flamante portatil carece de disquetera. Una vez allí, he hecho lo&amp;nbsp;siguiente:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;mk2efs -m 0 /dev/fd0&lt;/span&gt;
&lt;span class="go"&gt;mkdir /mnt/floppy&lt;/span&gt;
&lt;span class="go"&gt;mount /dev/fd0 /mnt/floppy&lt;/span&gt;
&lt;span class="go"&gt;grub-install --force-lba --root-directory=/mnt/floppy fd0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Esto crea el &lt;code&gt;/boot/grub&lt;/code&gt; con todos los ficheros necesarios en el floppy (básicamente los mismos que hay en &lt;code&gt;/lib/grub/i386-pc&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;El fichero que no copia es el &lt;code&gt;menu.lst&lt;/code&gt;, así que lo que creado basándome en el de mi portatil. Ha quedado&amp;nbsp;así: &lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;default 0&lt;/span&gt;
&lt;span class="go"&gt;timeout 8&lt;/span&gt;
&lt;span class="go"&gt;title SUSE Linux 10.1&lt;/span&gt;
&lt;span class="go"&gt;      root (hd0,1)&lt;/span&gt;
&lt;span class="go"&gt;      kernel /boot/vmlinuz&lt;/span&gt;
&lt;span class="go"&gt;      boot=/dev/hda2&lt;/span&gt;
&lt;span class="go"&gt;      initrd /boot/initrd&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finalmente, desmontamos el floppy: &lt;code&gt;umount /mny/floppy&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Esto ha sido suficiente para poder arrancar el sistema desde el floppy. Tras esto, ya sólo he tenido que instalar el &lt;em&gt;grub&lt;/em&gt; en el disco duro de la siguiente&amp;nbsp;manera:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;grub-install /dev/hda&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Los últimos retoques han consistido en configurar las X vía Yast2 (en modo texto, runlevel3)y deshabilitar algunos servicios inútiles, ya que el portatil es muy pero que muy justo para mover un &lt;span class="caps"&gt;KDE&lt;/span&gt;.De todo el proceso, lo más complicado ha sido encontrar un disquete que poder meter en la&amp;nbsp;disquetera.&lt;/p&gt;</content><category term="Spanish"></category><category term="opensuse"></category><category term="grub"></category></entry><entry><title>RPMS y SRPMS de KXDocker para SuSE 10.1</title><link href="https://frommelmak.com/rpms-y-srpms-de-kxdocker-para-suse-101.html" rel="alternate"></link><published>2006-08-19T00:13:03+02:00</published><updated>2006-08-19T00:13:03+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-08-19:/rpms-y-srpms-de-kxdocker-para-suse-101.html</id><summary type="html">&lt;p&gt;Bueno, por fin he podido dedicar algo de tiempo ha crear los paquetes &lt;span class="caps"&gt;RPM&lt;/span&gt; y source &lt;span class="caps"&gt;RPM&lt;/span&gt; para &lt;a href="http://www.opensuse.org/"&gt;SuSE 10.1&lt;/a&gt; de &lt;a href="http://www.xiaprojects.com/www/prodotti/kxdocker/main.php"&gt;KXDocker&lt;/a&gt;. No he sido capaz de encontrar los &lt;span class="caps"&gt;RPM&lt;/span&gt; completos de la última versión (1.1.4a) por ninguna parte, ni siquiera en &lt;a href="http://rpm.pbone.net"&gt;rpm.pbone.net&lt;/a&gt;. Por otro …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Bueno, por fin he podido dedicar algo de tiempo ha crear los paquetes &lt;span class="caps"&gt;RPM&lt;/span&gt; y source &lt;span class="caps"&gt;RPM&lt;/span&gt; para &lt;a href="http://www.opensuse.org/"&gt;SuSE 10.1&lt;/a&gt; de &lt;a href="http://www.xiaprojects.com/www/prodotti/kxdocker/main.php"&gt;KXDocker&lt;/a&gt;. No he sido capaz de encontrar los &lt;span class="caps"&gt;RPM&lt;/span&gt; completos de la última versión (1.1.4a) por ninguna parte, ni siquiera en &lt;a href="http://rpm.pbone.net"&gt;rpm.pbone.net&lt;/a&gt;. Por otro lado, en la web oficial del proyecto sólo están los paquetes precompilados para &lt;a href="http://packages.gentoo.org/packages/?category=kde-misc;name=kxdocker"&gt;Gentoo&lt;/a&gt; y &lt;a href="http://packages.gentoo.org/packages/?category=kde-misc;name=kxdocker"&gt;Slackware&lt;/a&gt;. Así que finalmente he decidido crear mis propios &lt;span class="caps"&gt;RPM&lt;/span&gt;. De esta manera, la próxima vez que por cualquier motivo tenga que reinstalar todo el sistema operativo, tendré mi Dock Bar favorita en marcha en un&amp;nbsp;momento.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Actualización&lt;/strong&gt;: Los paquetes &lt;code&gt;taskmanager&lt;/code&gt; y &lt;code&gt;gaclock&lt;/code&gt; han sido actualizados a la release 2 porque había un error en el &lt;code&gt;.spec&lt;/code&gt;. Con los nuevos paquetes, estos plugins ya deberian funcionar sin&amp;nbsp;problemas.&lt;/p&gt;
&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th&gt;&lt;span class="caps"&gt;RPMS&lt;/span&gt; SuSE 10.1&lt;/th&gt;
&lt;th&gt;&lt;span class="caps"&gt;SRPM&lt;/span&gt; SuSE 10.1&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-1.1.4a-1.i586.rpm"&gt;kxdocker-1.1.4a-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-1.1.4a-1.src.rpm"&gt;kxdocker-1.1.4a-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-configurator-1.0.2-1.i586.rpm"&gt;kxdocker-configurator-1.0.2-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-configurator-1.0.2-1.src.rpm"&gt;kxdocker-configurator-1.0.2-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-trayiconlogger-1.0.0-1.i586.rpm"&gt;kxdocker-trayiconlogger-1.0.0-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-trayiconlogger-1.0.0-1.src.rpm"&gt;kxdocker-trayiconlogger-1.0.0-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-dcop-1.0.0-1.i586.rpm"&gt;kxdocker-dcop-1.0.0-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-dcop-1.0.0-1.src.rpm"&gt;kxdocker-dcop-1.0.0-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-i18n-1.0.2-1.i586.rpm"&gt;kxdocker-i18n-1.0.2-1.i586.rpm &lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-i18n-1.0.2-1.src.rpm"&gt;kxdocker-i18n-1.0.2-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-resources-1.1.0-1.i586.rpm"&gt;kxdocker-resources-1.1.0-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-resources-1.1.0-1.src.rpm"&gt;kxdocker-resources-1.1.0-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-taskmanager-1.0.2-2.i586.rpm"&gt;kxdocker-taskmanager-1.0.2-2.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-taskmanager-1.0.2-2.src.rpm"&gt;kxdocker-taskmanager-1.0.2-2.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gaclock-1.0.1-2.i586.rpm"&gt;kxdocker-gaclock-1.0.1-2.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gaclock-1.0.1-2.src.rpm"&gt;kxdocker-gaclock-1.0.1-2.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gdate-1.0.0-1.i586.rpm"&gt;kxdocker-gdate-1.0.0-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gdate-1.0.0-1.src.rpm"&gt;kxdocker-gdate-1.0.0-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gtrash-1.0.0-1.i586.rpm"&gt;kxdocker-gtrash-1.0.0-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gtrash-1.0.0-1.src.rpm"&gt;kxdocker-gtrash-1.0.0-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gbattery-1.0.0-1.i586.rpm"&gt;kxdocker-gbattery-1.0.0-1.i586.rpm&lt;/a&gt;&lt;/td&gt;
&lt;td&gt;&lt;a href="http://nomeriasdeti.no-ip.com/files/suse/10.1/RPMS/kxdocker-gbattery-1.0.0-1.src.rpm"&gt;kxdocker-gbattery-1.0.0-1.src.rpm&lt;/a&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</content><category term="Spanish"></category><category term="RPM"></category><category term="SRPM"></category><category term="kxdocker"></category><category term="dock"></category><category term="suse"></category></entry><entry><title>Jugando con KXDocker otra vez</title><link href="https://frommelmak.com/jugando-con-kxdocker-otra-vez.html" rel="alternate"></link><published>2006-07-13T19:41:09+02:00</published><updated>2006-07-13T19:41:09+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-07-13:/jugando-con-kxdocker-otra-vez.html</id><summary type="html">&lt;p&gt;Tras un tiempo sin KXDocker debido a la actualización de &lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; 10 a 10.1, tenia ganas de volver a instalar esta aplicación que ya encontraba a faltar. Hoy por fin he tenido un ratito para volver a compilar, instalar y configurar esta impresionante barra de&amp;nbsp;tareas.&lt;/p&gt;
&lt;p&gt;Me he llevado …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Tras un tiempo sin KXDocker debido a la actualización de &lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt; 10 a 10.1, tenia ganas de volver a instalar esta aplicación que ya encontraba a faltar. Hoy por fin he tenido un ratito para volver a compilar, instalar y configurar esta impresionante barra de&amp;nbsp;tareas.&lt;/p&gt;
&lt;p&gt;Me he llevado una grata sorpresa al ver las nuevas funcionalidades que se han añadido, la mejora conseguida en el rendimiento y sobretodo la facilidad de configuración que es ahora totalmente &lt;a href="http://nomeriasdeti.no-ip.com/photos/albums/32/kxdocker5.png"&gt;gráfica&lt;/a&gt; y muy&amp;nbsp;intuitiva.&lt;/p&gt;
&lt;p&gt;&lt;img alt="KXDocker" src="/images/old_blog/kxdocker_1.png"&gt;&lt;/p&gt;
&lt;p&gt;Bueno, sin más os explico cómo se instala y configura la aplicación sin tener que perderse buceando por la desordenada web del&amp;nbsp;proyecto.&lt;/p&gt;
&lt;h2&gt;Compilar e instalar&amp;nbsp;KXDocker&lt;/h2&gt;
&lt;p&gt;Como ya he dicho, la &lt;a href="http://www.xiaprojects.com/www/prodotti/kxdocker/main.php"&gt;web oficial&lt;/a&gt; es un poco complicada, y a veces cuesta encontrar la información que estas buscando. Asi que trataré de ahorraros tiempo a la hora de instalar la última versión de KXDocker, que en el momento de escribir esto es la&amp;nbsp;1.1.4a.&lt;/p&gt;
&lt;p&gt;Antes de nada hemos de saber que la última version de los paquetes esta siempre en la sección de downloads que es &lt;a href="http://www.xiaprojects.com/www/prodotti/kxdocker/main.php?action=download"&gt;esta&lt;/a&gt;:&lt;/p&gt;
&lt;p&gt;Desde alli descargaremos el &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-1.1.4a.tar.bz2"&gt;código fuente&lt;/a&gt; de KXDocker y lo compilaremos como&amp;nbsp;root:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;mkdir /tmp/kxdocker
&lt;span class="nb"&gt;cd&lt;/span&gt; /tmp/kxdocker
wget http://www.xiaprojects.com/www/downloads
/files/kxdocker/1.0.0/kxdocker-1.1.4a.tar.bz2
tar -jxvf kxdocker-1.1.4a.tar.bz2
&lt;span class="nb"&gt;cd&lt;/span&gt; kxdocker-1.1.4a
./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/kxdocker
make
make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tras esto, estaremos en disposición de lanzar KXDocker (recuerda hacerlo con tu usuario no como&amp;nbsp;root):&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;/opt/kxdocker/bin/kxdocker &lt;span class="p"&gt;&amp;amp;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para lanzar KXDocker al iniciar tu sesion de usuario puedes crear el siguiente enlace&amp;nbsp;simbólico:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;ln -s /opt/kxdocker/bin/kxdocker ~/.kde/Autostart/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Antes de entrar en detalles relacionados con la configuración, has de saber que la mayoria de funcionalidades &amp;#8220;extra&amp;#8221; de KXDocker -más alla de mostrar iconos en la barra- se consigue mediante la utilización de&amp;nbsp;plugins.&lt;/p&gt;
&lt;p&gt;Los plugins recomomendados por el autor son estos: &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-resources-1.1.0.tar.bz2"&gt;kxdocker-resources-1.1.0.tar.bz2&lt;/a&gt;, &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-configurator-1.0.2.tar.bz2"&gt;kxdocker-configurator-1.0.2.tar.bz2&lt;/a&gt;, &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-i18n-1.0.2.tar.bz2"&gt;kxdocker-dcop-1.0.0.tar.bz2&lt;/a&gt;, &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-trayiconlogger-1.0.0.tar.bz2"&gt;kxdocker-i18n-1.0.2.tar.bz2&lt;/a&gt; y &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-trayiconlogger-1.0.0.tar.bz2"&gt;kxdocker-trayiconlogger-1.0.0.tar.bz2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Para instalar los plugins, ya sean los recomendados o cualquier otro, seguiremos el siguiente&amp;nbsp;procedimiento:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;cd&lt;/span&gt; /tmp/kxdocker
wget www.xiaprojects.com/www/downloads
/files/kxdocker/1.0.0/&amp;lt;desired-plugin&amp;gt;.tar.bz2
tar -jxvf &amp;lt;desired-plugin&amp;gt;.tar.bz2
&lt;span class="nb"&gt;cd&lt;/span&gt; &amp;lt;desired-plugin&amp;gt;
./configure --prefix&lt;span class="o"&gt;=&lt;/span&gt;/opt/kxdocker --with-extra-libs&lt;span class="o"&gt;=&lt;/span&gt;/opt/kxdocker/lib --with-extra-includes&lt;span class="o"&gt;=&lt;/span&gt;/opt/kxdocker/include
make 
make install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Repetiremos estos últimos pasos para el resto de&amp;nbsp;plugins.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;NOTA&lt;/span&gt;&lt;/strong&gt;:
Es probable que al compilar alguno de los plugins te aparezca el siguiente&amp;nbsp;mensaje:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;Warning: you chose to install this package in /opt/kxdocker,&lt;/span&gt;
&lt;span class="go"&gt;but KDE was found in /opt/kde3.&lt;/span&gt;
&lt;span class="go"&gt;For this to work, you will need to tell KDE about the new prefix, by ensuring&lt;/span&gt;
&lt;span class="go"&gt;that KDEDIRS contains it, e.g. export KDEDIRS=/opt/kxdocker:/opt/kde3&lt;/span&gt;
&lt;span class="go"&gt;Then restart KDE.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Para solventar el problema puedes hacer dos cosas: Cambiar el &lt;code&gt;--prefix&lt;/code&gt; al hacer el &lt;code&gt;./Configure&lt;/code&gt; -para que apunte a &lt;code&gt;/opt/kde3&lt;/code&gt;- o bien asegurar que antes de ejecutar &lt;span class="caps"&gt;KDE&lt;/span&gt;, la variable de entorno &lt;code&gt;KDEDIRS&lt;/code&gt; contiene el path a &lt;code&gt;/opt/kxdocker&lt;/code&gt;. Puedes crear un fichero en &lt;code&gt;/etc/profile.d&lt;/code&gt; para tal efecto. Tan solo deberá contener&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nb"&gt;export&lt;/span&gt; &lt;span class="nv"&gt;KDEDIRS&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/opt/kxdocker:/opt/kde3
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Configurando la de la barra a golpe de&amp;nbsp;ratón&lt;/h2&gt;
&lt;p&gt;Cuando lanzamos KXDocker, nos aparecerá una barra con un solo icono. Para añadir aplicaciones a la barra, y para controlar el &lt;a href="http://nomeriasdeti.no-ip.com/photos/albums/32/kxdocker5.png"&gt;tamaño&lt;/a&gt; y &lt;a href="http://nomeriasdeti.no-ip.com/photos/albums/32/kxdocker6.png"&gt;posicion&lt;/a&gt; de la misma etc, lo mas recomendable es tener instalado el plugin &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-configurator-1.0.2.tar.bz2"&gt;kxdocker-configurator-1.0.2.tar.bz2&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Si además hemos instalado &lt;a href="http://www.xiaprojects.com/www/downloads/files/kxdocker/1.0.0/kxdocker-trayiconlogger-1.0.0.tar.bz2"&gt;kxdocker-trayiconlogger&lt;/a&gt;, al lanzar la aplicación nos saldrá un &lt;a href="http://nomeriasdeti.no-ip.com/photos/albums/32/low-kxdocker7.png"&gt;iconito&lt;/a&gt; en la barra de herramientas de &lt;span class="caps"&gt;KDE&lt;/span&gt;, si pulsamos el boton derecho del mouse sobre el mismo, tendremos acceso al menu de &amp;#8220;Configurator&amp;#8221;, desde el cual podremos añadir a &lt;a href="http://nomeriasdeti.no-ip.com/photos/albums/32/low-kxdocker2.png"&gt;golpe de raton&lt;/a&gt; nuevos iconos a nuestro Dock.
Por defecto la aplicación nos mostrará los iconos de &lt;span class="caps"&gt;KDE&lt;/span&gt; (KDElibs). No obstante, podemos utilizar los que proporciona KXDocker -mucho más vistosos- que estan ubicados&amp;nbsp;aqui:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/opt/kxdocker/share/apps/kxdocker/themes/icons/&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Cambiar el orden de los iconos en la&amp;nbsp;Dock&lt;/h3&gt;
&lt;p&gt;Es tan fácil como arrastrarlos con el raton a la posición que queramos.
Una de las caracteristicas a destacar de KXDocker es que agrupará todos aquellos iconos que pertenezcan al mismo grupo en la misma posición del dock. Asi, es posible agrupar todos los programas de comunicación (Skype, &lt;span class="caps"&gt;AMSN&lt;/span&gt;, Kopete, etc) bajo un mismo grupo/categoria. De esta manera podremos mostrarlos a modo de carrusel con la rueda del mouse. 
No obstante, los iconos pertenecientes a un mismo grupo no se agrupan hasta que no se cierra la aplicación y se vuelve a&amp;nbsp;lanzar.&lt;/p&gt;
&lt;h2&gt;Plugins&amp;nbsp;Interesantes&lt;/h2&gt;
&lt;p&gt;He encontrado de especial interes los siguientes plugins: &lt;code&gt;kxdocker-gaclock&lt;/code&gt;, &lt;code&gt;kxdocker-gbattery&lt;/code&gt;, &lt;code&gt;kxdocker-gdate&lt;/code&gt;, &lt;code&gt;kxdocker-gtrash&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gaclock&lt;/strong&gt;
El primero de ellos nos muestra un bonito reloj analógico que podemos utilizar para sincronizar nuestro sistema via &lt;span class="caps"&gt;NTP&lt;/span&gt;, además de mostrarnos la hora del sistema en todo&amp;nbsp;momento. &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gbattery&lt;/strong&gt;
El segundo nos muestra el estado de la bateria de nuestro portatil, asi como información de si estamos conectados a la red electrica o&amp;nbsp;no.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gdate&lt;/strong&gt;
Muestra la fecha utilizando uno de esos calendarios en los que se ha de arrancar una hoja cada dia (me&amp;nbsp;encanta!).  &lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Gtrash&lt;/strong&gt;
Finalmente, Gtrash es la famosa papelera de reciclaje del sistema. Esta se llena cuando borramos algun fichero de nuestro escritorio o&amp;nbsp;filesystem.&lt;/p&gt;
&lt;h2&gt;Puntos a&amp;nbsp;mejorar&lt;/h2&gt;
&lt;p&gt;A pesar de las mejoras, hay muchas cosas que aun pueden mejorarse. Para empezar la web del proyecto, que sigue siendo muy poco&amp;nbsp;intuitiva.&lt;/p&gt;
&lt;p&gt;Para ver las aplicaciones que tienes abiertas minimizadas en la dock, tan solo hay que compilar e instalar el plugin kxdocker-taskmanager de la siguiente&amp;nbsp;manera:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;./configure --prefix=/opt/kxdocker/ --with-extra-libs=/opt/kxdocker/lib/ --with-extra-includes=/opt/kxdocker/include&lt;/span&gt;
&lt;span class="go"&gt;make&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Otra de las carencias del proyecto se deriaba de la falta de paquetes precompilados para las diferentes distros. Pese a que esto último es más achacable a &amp;#8220;la comunidad&amp;#8221; que al lider del proyecto, estoy seguro de que si la compilación fuera más sencilla, habria más de un gente dispuesta a mantener paquetes para las diferentes&amp;nbsp;distros.&lt;/p&gt;
&lt;p&gt;Bueno, si consigo tenerlo full equip, igual hasta me tomo la molestia de crear los &lt;span class="caps"&gt;RPM&lt;/span&gt; para SuSE&amp;nbsp;10.1.&lt;/p&gt;</content><category term="Spanish"></category><category term="dock"></category><category term="kxdocker"></category></entry><entry><title>España Tunez en ASCII</title><link href="https://frommelmak.com/espana-tunez-en-ascii.html" rel="alternate"></link><published>2006-06-19T21:55:33+02:00</published><updated>2006-06-19T21:55:33+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-06-19:/espana-tunez-en-ascii.html</id><summary type="html">&lt;p&gt;Vaya, no recordaba que hoy jugaba España su segundo partido en el mundial 2006 de Alemania !De hecho me lo ha recordado un bocinazo que ha subido por el patio interior al que da mi habitación. A raíz de esto, he recordado que hace unos días leí en la blogosfera …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Vaya, no recordaba que hoy jugaba España su segundo partido en el mundial 2006 de Alemania !De hecho me lo ha recordado un bocinazo que ha subido por el patio interior al que da mi habitación. A raíz de esto, he recordado que hace unos días leí en la blogosfera alguien pensaba retransmitir los partidos del mundial en &lt;span class="caps"&gt;ASCII&lt;/span&gt;. Pues bien, tras intentarlo varias veces (suele dar exceso de conexiones), este es el resultado de conectar con &lt;code&gt;telnet&lt;/code&gt; al puerto 2006 (que cachondo !) de &lt;code&gt;ascii-wm.net&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Os dejo un pantallazo para que os hagáis una idea de lo que se ve cuando teneis la enorme suerte de poder&amp;nbsp;conectar.&lt;/p&gt;
&lt;p&gt;&lt;img alt="ascii" src="/images/old_blog/spanien-tunesien10.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="ascii" src="/images/old_blog/spanien-tunesien8.png"&gt;&lt;/p&gt;
&lt;p&gt;Si prestáis atención, vereis que periódicamente aparecen comentarios sobre el partido en curso al pie de la&amp;nbsp;imagen.&lt;/p&gt;
&lt;p&gt;Por cierto, alguien tiene idea de como van ??? Lo del &lt;span class="caps"&gt;ASCII&lt;/span&gt; es muy bonito pero la verdad que hay que tener mucha imaginación, si no es porque lo de la esquina superior derecha parece el resultado, no sabría que España esta&amp;nbsp;perdiendo.&lt;/p&gt;</content><category term="Spanish"></category><category term="ASCII"></category></entry><entry><title>Instalar GNU/Linux en el iPod con el iPodLinux Installer</title><link href="https://frommelmak.com/instalar-gnulinux-en-el-ipod-con-el-ipodlinux-installer.html" rel="alternate"></link><published>2006-05-02T21:00:35+02:00</published><updated>2006-05-02T21:00:35+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-05-02:/instalar-gnulinux-en-el-ipod-con-el-ipodlinux-installer.html</id><summary type="html">&lt;p&gt;Instalar &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux en el iPod es cada dia más fácil. Para demostrarlo, os voy a explicar cómo utilizar la última version del instalador gráfico &lt;a href="http://ipodlinux.org/Installer_2"&gt;iPodLinux Installer&lt;/a&gt; bajo &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux.&lt;/p&gt;
&lt;p&gt;Antes de empezar, a seguir los sencillos pasos aquí descritos, te recomiendo que te des un paseo por &lt;a href="ipodlinux.org"&gt;ipodlinux.org …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Instalar &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux en el iPod es cada dia más fácil. Para demostrarlo, os voy a explicar cómo utilizar la última version del instalador gráfico &lt;a href="http://ipodlinux.org/Installer_2"&gt;iPodLinux Installer&lt;/a&gt; bajo &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux.&lt;/p&gt;
&lt;p&gt;Antes de empezar, a seguir los sencillos pasos aquí descritos, te recomiendo que te des un paseo por &lt;a href="ipodlinux.org"&gt;ipodlinux.org&lt;/a&gt;, la web de referencia en esto de meter al pingüino dentro del&amp;nbsp;iPod.&lt;/p&gt;
&lt;p&gt;Como siempre, os dejo la obligada &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=2&amp;amp;section_type=3&amp;amp;task=view&amp;amp;id_album=27"&gt;galeria de imagenes&lt;/a&gt; con todo el proceso y este&amp;nbsp;video.&lt;/p&gt;
&lt;p&gt;http://www.youtube.com/watch?feature=player_embedded&amp;amp;v=WqcSUly6oG0&lt;/p&gt;
&lt;p&gt;El método descrito a continuación, lo he aplicado a un iPod Photo de 20GBytes (La primrea generación con pantalla a color), así que es muy probable que los problemas que te encuentres no sean los mismos que los que he tenido yo, ya que el soporte difiere bastante de un modelo de iPod a&amp;nbsp;otro.&lt;/p&gt;
&lt;p&gt;Primer intento&amp;nbsp;fallido&lt;/p&gt;
&lt;p&gt;El primer intento lo hice la semana pasada utilizando la version 2.0 (build 1094) del instalador gráfico para &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;ipl-installer-linux-svn-1094.run&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;El procedimiento para instalar el IpodLinux Installer es muy sencillo. Tan sólo hemos de descargar el fichero ipl-installer-linux-svn-1094.run, darle permisos de ejecución, y lanzarlo como&amp;nbsp;root.&lt;/p&gt;
&lt;p&gt;Tras esto, el instalador queda ubicado en en: &lt;code&gt;/opt/iPodLinux/installer&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Para iniciar la instalación de &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux en el iPod, sólo has de pinchar tu iPod al &lt;span class="caps"&gt;PC&lt;/span&gt; y asegurarte de que ninguna aplicación monta el filesystem del iPod. En mi caso, &lt;span class="caps"&gt;KDE&lt;/span&gt;/SuSE lo monta por defecto nada más pincharlo, asi que hay que desmontarlo a&amp;nbsp;mano&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;umount /media/ipod (en mi caso)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Al ejecutar el installer, aparece una pantalla muy bonita de bienvenida. Tras pulsar &lt;span class="caps"&gt;SIGUIENTE&lt;/span&gt;, aparece otra diciendo que ha detectado tu iPod y que pulses &lt;span class="caps"&gt;SIGUIENTE&lt;/span&gt; para iniciar la instalación de &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux.&lt;/p&gt;
&lt;p&gt;El problema de esta versión aparece durante la copia de ficheros al iPod. Concretamente, la instalación falla con este&amp;nbsp;mensaje:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;/bin/podzilla not found&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Si intentamos volver a instalar con esta vesión del instalador, éste detecta que ya parece haber un Linux (o parte de él) instalado en el iPod, y sólo nos la la opción de actualizarlo, cambiar el orden de arraque o bien desinstalar Linux. Pues bien, da igual lo que selecciones porque ya no es capaz de realizar mucho mas. Afortunadamente, es posible seguir utilizando el firmware de Apple sin&amp;nbsp;más.&lt;/p&gt;
&lt;p&gt;Segundo Intento&amp;nbsp;(&amp;#8230;casi!)&lt;/p&gt;
&lt;p&gt;Hoy me ha dado por mirar en la web del proyecto y he visto que ya habia una nueva versión 2.1 (build 1153)&amp;nbsp;disponible. &lt;/p&gt;
&lt;p&gt;&lt;code&gt;ipl-installer-linux-svn-1153.run&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Lo mejor de todo es que además decian en una nota que esta versión  solventaba el fallo que yo estaba&amp;nbsp;teniendo!&lt;/p&gt;
&lt;p&gt;Bueno, he repetido el procedimiento con la nueva versión, pero al ejecutar el installer, me he encontrado con un problema de dependencias con unas librerias &lt;code&gt;libQt&lt;/code&gt; que forman parte del paquete &lt;code&gt;qt-x11&lt;/code&gt; y que no tenia&amp;nbsp;isntalado.&lt;/p&gt;
&lt;p&gt;Tras instalar dichas librerias, he podido ejecutar el instalador gráfico sin&amp;nbsp;más.&lt;/p&gt;
&lt;p&gt;Aparentemente, el proceso de instalación finaliza sin problemas, pero tras reiniciar el iPod, no hay manera de que arranque con&amp;nbsp;Linux.&lt;/p&gt;
&lt;p&gt;A la tercera va la&amp;nbsp;vencida&lt;/p&gt;
&lt;p&gt;Tras mirar un rato qué es lo que había copiado en el iPod, me he dado cuenta que el owner del &lt;code&gt;loader.bin&lt;/code&gt; era un usuario con &lt;span class="caps"&gt;UID&lt;/span&gt; 1000, en lugar de root, como el&amp;nbsp;resto.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;chown root:root loader.bin&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tras cambiar el owner a root y despues de un reboot del iPod (mantener pulsado &lt;strong&gt;menu + select&lt;/strong&gt;), el iPod ha arrancado con&amp;nbsp;Linux!&lt;/p&gt;
&lt;p&gt;Bueno, son muchas las aplicaciones con las que he de trastear aun, así que en breve ire ańadiendo mis impresiones acerca de meter al pigüino en el&amp;nbsp;iPod.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: En ocasiones, no queda más remedio que hacer un restore del firmware de Apple utilizando el software oficial del fabricante (sólo disponible para Windows). Por ejemplo, antes de intenar con la nueva versión del iPodLinux Installer, me vi obligado a eliminar por completo todo resto anterior de Linux (canciones incluidas), antes de volver a intentar la instalación de Linux. Así que ya sabeis, aseguraros de tener a buen recaudo vuestra bilbioteca de canciones antes de poneros a jugar con el&amp;nbsp;intaller.&lt;/p&gt;</content><category term="Spanish"></category><category term="ipod"></category><category term="linux"></category></entry><entry><title>Instalar Xgl + Compiz en SuSE 10.x con KDE</title><link href="https://frommelmak.com/instalar-xgl-compiz-en-suse-10x-con-kde.html" rel="alternate"></link><published>2006-04-10T20:54:30+02:00</published><updated>2006-04-10T20:54:30+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-04-10:/instalar-xgl-compiz-en-suse-10x-con-kde.html</id><summary type="html">&lt;p&gt;Hoy, tras mucho tiempo con ganas de probarlo me he decidido a instalar Xgl + Compiz en SuSE&amp;nbsp;10.x.&lt;/p&gt;
&lt;p&gt;Primero lo he instalado en una SuSE 10.1 Beta 9 sobre un hardware sobrado de potencia (Intel Xeon 2.8GHz &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; + NVidia Quadro &lt;span class="caps"&gt;FX&lt;/span&gt; 1300) y en vista del …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hoy, tras mucho tiempo con ganas de probarlo me he decidido a instalar Xgl + Compiz en SuSE&amp;nbsp;10.x.&lt;/p&gt;
&lt;p&gt;Primero lo he instalado en una SuSE 10.1 Beta 9 sobre un hardware sobrado de potencia (Intel Xeon 2.8GHz &lt;span class="caps"&gt;2GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; + NVidia Quadro &lt;span class="caps"&gt;FX&lt;/span&gt; 1300) y en vista del éxito, me he decidido a probarlo también en mi portatil SuSE 10.0 (Centrino a 1.73GHz &lt;span class="caps"&gt;1GB&lt;/span&gt; &lt;span class="caps"&gt;RAM&lt;/span&gt; + Intel &lt;span class="caps"&gt;GMA&lt;/span&gt;&amp;nbsp;900).&lt;/p&gt;
&lt;p&gt;La última información referente a Xgl en SuSE la encontrareis siempre aquí: &lt;a href="http://en.opensuse.org/Xgl"&gt;http://en.opensuse.org/Xgl&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Desde allí, llegareis a esta otra pagina en la que explican cómo instalar y utilizar Xgl en SuSE. Tanto si utilizas &lt;span class="caps"&gt;KDE&lt;/span&gt; o Gnome: &lt;a href="http://en.opensuse.org/Using_Xgl_on_SUSE_Linux"&gt;http://en.opensuse.org/Using_Xgl_on_SUSE_Linux&lt;/a&gt; A continuación os detallo el procedimiento que he seguido en ambos casos, y los resultados obtenidos. De esta manera podreis haceros una idea de lo que podeis esperar de vuestros sistemas. Os dejo también &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=2&amp;amp;section_type=3&amp;amp;num=&amp;amp;task=view&amp;amp;id_album=26"&gt;esta&lt;/a&gt; galería de imagenes con algunas&amp;nbsp;capturas.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Actualización&lt;/strong&gt;: He actualizado Xgl, Compiz y algunas librerias a la versión de la Release Candidate 1 de SuSE 10.1. No he encontrado mejoras radicales, slo alguna mejora con las knotes asi que habrá que esperar a la version 10.1 y ver si el kernel y los nuevos drivers solventan los problemas con&amp;nbsp;Intel.&lt;/p&gt;
&lt;p&gt;Por otro lado, he encontrado &lt;a href="http://www.tuxpan.com/fcatrin/es/comments.php?guid=20060311"&gt;este&lt;/a&gt; interesantisimo articulo que aclara conceptos a veces confusos sobre los nuevos composite manager versus los windown-managers tradicionales. &lt;span class="caps"&gt;MUY&lt;/span&gt; &lt;span class="caps"&gt;RECOMENDABLE&lt;/span&gt;!&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Actualización 2&lt;/strong&gt;: Me comentan desde Mexico que algunos de los &lt;span class="caps"&gt;RPM&lt;/span&gt; referenciados en este articulo ya no se encuentran disponibles. Si es tu caso mira a ver si es uno de los que he podido rescatar de mi portatil y poner en este tarball &lt;a href="http://nomeriasdeti.no-ip.com/files/Xgl-SuSE-10.x-RPMS.tar.gz"&gt;Xgl-SuSE-10.x-&lt;span class="caps"&gt;RPMS&lt;/span&gt;.tar.gz&lt;/a&gt;&lt;/p&gt;
&lt;h1&gt;Instalación en SuSE 10.1 (Beta&amp;nbsp;9)&lt;/h1&gt;
&lt;p&gt;La instalación sobre una SuSE 10.1 no tiene ningun misterio. Los Pasos a seguir serian&amp;nbsp;estos:&lt;/p&gt;
&lt;h2&gt;Instalar el driver de NVidia&amp;nbsp;oficial&lt;/h2&gt;
&lt;p&gt;Si dispones de una tarjeta de video NVidia, SuSE 10.1 cargar por defecto el módulo de NVidia que viene con el kernel (&lt;code&gt;nv&lt;/code&gt;). Sin embargo para hacer funcionar Xgl es necesario instalar los drivers oficiales de NVidia. Por otro lado, es importante hacer esto antes de instalar el paquete&amp;nbsp;Xgl.&lt;/p&gt;
&lt;p&gt;Antes de bajarte e instalar el driver oficial de NVidia, asegurate que has instalado las fuentes del kernel y el compilador gcc, ya que son necesarias para compilar el modulo nvidia, pues no viene uno precompilado en el paquete oficial y ser necesario compilar uno especifico para nuestro&amp;nbsp;kernel.&lt;/p&gt;
&lt;p&gt;La forma más sencialla de instalar las fuentes es via YaST. Para instalar el driver oficial de Nvidia haz&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;init 3&lt;/span&gt;
&lt;span class="go"&gt;wget http://download.nvidia.com/XFree86/Linux-x86/ 1.0-8756/NVIDIA-Linux-x86-1.0-8756-pkg1.run&lt;/span&gt;
&lt;span class="go"&gt;chmod u+x NVIDIA-Linux-x86-1.0-8756-pkg1.run&lt;/span&gt;
&lt;span class="go"&gt;./NVIDIA-Linux-x86-1.0-8756-pkg1.run&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;El proceso de instalación de NVidia nos informar de que no existe un módulo precompilado para nuestra distribución y nos preguntará si queremos compilar uno. Le decimos que&amp;nbsp;sí.&lt;/p&gt;
&lt;p&gt;Finalmente nos pregunta si queremos modificar el fichero &lt;code&gt;xorg.conf&lt;/code&gt; para que cargue el nuevo módulo. Le diremos tambin que&amp;nbsp;sí.&lt;/p&gt;
&lt;p&gt;Ahora volvemos a lanzar el entorno gráfico, tras lo cual podremos seguir con la instalación del server gráfico OpenGL&amp;nbsp;Xgl.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;init 5&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Instalar Xgl + Compiz (via&amp;nbsp;Yast)&lt;/h2&gt;
&lt;p&gt;Si queremos evitar problemas de dependencias, lo más sencillo es instalar Xgl y Compiz via YaST. Haciendolo de esta manera, no tendremos ningún&amp;nbsp;problema.&lt;/p&gt;
&lt;p&gt;Hay que tener en cuenta que si no tenemos instalado Gnome en nuestro sistema, se instalarán varios componentes de Gnome (&lt;code&gt;control-center2&lt;/code&gt;, &lt;code&gt;gnome-window-decorator&lt;/code&gt;&amp;#8230;) así como algunas librerias (&lt;code&gt;libsvg&lt;/code&gt;, &lt;code&gt;libsvg-cairo&lt;/code&gt;&amp;#8230;). En cualquier caso, sera YaST el encargado de resolver dichas&amp;nbsp;dependencias.&lt;/p&gt;
&lt;h2&gt;Configurar Xgl como servidor de X&amp;nbsp;principal&lt;/h2&gt;
&lt;p&gt;Ahora ya sólo queda configurar el sistema para ejecutar Xgl y cargar los plugins de Compiz con los efectos que&amp;nbsp;queramos.&lt;/p&gt;
&lt;p&gt;Para ejecutar Xgl deberemos decirle a kdm que ejecute Xgl en lugar del servidor de X. En SuSE 10.1 esto es muy fácil, ya que disponemos de una variable en &lt;code&gt;/etc/sysconfig/displaymanager&lt;/code&gt; que nos permite hacerlo. Así, pondremos el valor de la variable &lt;code&gt;DISPLAYMANAGER_XSERVER&lt;/code&gt; a &lt;code&gt;Xgl&lt;/code&gt;. Hecho esto,&amp;nbsp;ejecutaremos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;SuSEconfig --module xdm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Y reiniciaremos las X. Lo sé, tras reiniciar has movido una de las ventanas y te has llevado una desilusión al ver que no ha pasado nada. No se ha deformado ni nada expectacular. No te preocupes, es normal porque no hemos cargado ningun plugin de&amp;nbsp;Compiz.&lt;/p&gt;
&lt;p&gt;Hay multitud de opciones que pueden modificar muy mucho el funcionamiento del servidor Xgl. Muchas de ellas dependen del hardware utilizado. Para ver la lista de opciones, puedes consultar este Documento &lt;code&gt;/usr/share/doc/packages/xgl/README.SUSE&lt;/code&gt;&lt;/p&gt;
&lt;h2&gt;Configurar Compiz como gestor de&amp;nbsp;ventanas&lt;/h2&gt;
&lt;p&gt;Todas las funcionalizades de Xgl, se explotan via plugins del composite manager Compiz. Tan slo has de cargar los que quieras para porder utilizarlos.
Por ejemplo, para conseguir el efecto de elasticidad en las ventanas cargariamos los plugins bsicos (decoration move resize place minimize) y además el wobbly.
Para cargar todas las opciones utilizariamos un comando como&amp;nbsp;este:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;compiz --replace gconf decoration wobbly fade minimize cube rotate zoom scale move resize&lt;/span&gt;
&lt;span class="go"&gt;place switcher  &amp;amp;&lt;/span&gt;
&lt;span class="go"&gt;gnome-window-decorator &amp;amp;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;&lt;span class="caps"&gt;NOTA&lt;/span&gt;&lt;/strong&gt;:Cuando cargamos el plugin gconf por primera vez, Gconf guarda un registro con los plugins cargados. De esta manera, en posteriores llamadas a&amp;nbsp;Compiz&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;compiz --replace gconf decoration wobbly...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Los módulos que aparecen tras &lt;code&gt;gconf&lt;/code&gt; son ignorados, ya que la configuracin de los modulos a cargar se lee de un registro que guarda &lt;code&gt;gconf&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Posteriormente los cambios deberiamos realizarlos mediante el editor gconf-editor. Lamentablemente, este &lt;strong&gt;&lt;span class="caps"&gt;NO&lt;/span&gt;&lt;/strong&gt; esta disponible para &lt;span class="caps"&gt;KDE&lt;/span&gt;, por lo que para arrancar Compiz al arranque editaremos el archivo &lt;code&gt;~/.kde/Autostart/compiz.desktop&lt;/code&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;[Desktop Entry]&lt;/span&gt;
&lt;span class="go"&gt;Encoding=UTF-8&lt;/span&gt;
&lt;span class="go"&gt;Exec=compiz --replace decoration wobbly fade minimize cube rotate zoom scale move resize place switcher &amp;amp;  gnome-window-decorator &amp;amp;&lt;/span&gt;
&lt;span class="go"&gt;GenericName[en_US]=&lt;/span&gt;
&lt;span class="go"&gt;StartupNotify=false&lt;/span&gt;
&lt;span class="go"&gt;Terminal=false&lt;/span&gt;
&lt;span class="go"&gt;TerminalOptions=&lt;/span&gt;
&lt;span class="go"&gt;Type=Application&lt;/span&gt;
&lt;span class="go"&gt;X-KDE-autostart-after=kdesktop&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h1&gt;Instalación en SuSE&amp;nbsp;10.0&lt;/h1&gt;
&lt;p&gt;Como ya he comentado al principio de este articulo, la instalacin sobre SuSE 10.0 la he llevado a cabo sobre mi portatil, un &lt;strong&gt;Compaq Presario V4000&lt;/strong&gt;.
Dado que la targeta gráfica del Compaq es una Intel &lt;span class="caps"&gt;GMA900&lt;/span&gt; (driver i915). Nos podemos saltar el paso de la instalacin de los drivers oficiales de&amp;nbsp;NVidia.&lt;/p&gt;
&lt;h2&gt;Instalar Xgl +&amp;nbsp;Compiz&lt;/h2&gt;
&lt;p&gt;Tal y como aparece en la web de &lt;a href="http://www.opensuse.org/"&gt;OpenSuSE&lt;/a&gt;, la manera ms rpida de instalar el software en SuSE 10.0 es esta: Actualizacin:Antes de nada, debes instalar estos paquetes de compatibilidad(gracias a Jose Alberto por sufrir la primera version de este manual ;o)&amp;nbsp;) &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;xgl_compat100&lt;/li&gt;
&lt;li&gt;libdrm&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Instalamos via YaST el &lt;code&gt;control-center2&lt;/code&gt; y luego descargamos e instalamos los siguientes&amp;nbsp;paquetes:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;wget http://ftp.gwdg.de/pub/opensuse/distribution/SL-OSS-factory/ inst-source/suse/i586/xgl-cvs_060405-4.i586.rpm&lt;/span&gt;
&lt;span class="go"&gt;wget http://ftp.gwdg.de/pub/opensuse/distribution/SL-OSS-factory/ inst-source/suse/i586/compiz-cvs_060407-3.i586.rpm&lt;/span&gt;
&lt;span class="go"&gt;wget http://ftp.gwdg.de/pub/opensuse/distribution/SL-OSS-factory/ inst-source/suse/i586/libsvg-0.1.4-11.i586.rpm&lt;/span&gt;
&lt;span class="go"&gt;wget http://ftp.gwdg.de/pub/opensuse/distribution/SL-OSS-factory/ inst-source/suse/i586/libsvg-cairo-0.1.6-11.i586.rpm&lt;/span&gt;
&lt;span class="go"&gt;wget http://ftp.gwdg.de/pub/opensuse/distribution/SL-OSS-factory/ inst-source/suse/i586/libwnck-2.12.2-19.i586.rpm&lt;/span&gt;
&lt;span class="go"&gt;rpm -ivh xgl-cvs_060405-4.i586.rpm compiz-cvs_060407-3.i586.rpm libsvg-0.1.4-11.i586.rpm libsvg-cairo-0.1.6-11.i586.rpm libwnck-2.12.2-19.i586.rpm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Vamos ahora con la&amp;nbsp;configuración.&lt;/p&gt;
&lt;h2&gt;Configurar Xgl como servidor de X&amp;nbsp;principal&lt;/h2&gt;
&lt;p&gt;En SuSE 10.0 no existe la variable &lt;code&gt;DISPLAYMANAGER_XSERVER&lt;/code&gt; en el fichero &lt;code&gt;/etc/sysconfig/displaymanager&lt;/code&gt;. En su lugar editaremos el fichero &lt;code&gt;/etc/opt/kde3/share/config/kdm/kdmrc&lt;/code&gt; modificando el valor de la variable &lt;code&gt;ServerCmd&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;ServerCmd=/usr/X11R6/bin/Xgl -br&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Tras esto&amp;nbsp;ejecutamos:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;SuSEconfig --module xdm&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora ya esta todo listo para que tras reiniciar las X (int 3; init 5) podamos cargar los plugins de&amp;nbsp;Compiz.&lt;/p&gt;
&lt;h2&gt;Configurar Compiz como gestor de&amp;nbsp;ventanas&lt;/h2&gt;
&lt;p&gt;Para cargar los plugins de Compiz al arrancar &lt;span class="caps"&gt;KDE&lt;/span&gt;, podemos seguir un proceso anlogo al descrito para&amp;nbsp;10.1.&lt;/p&gt;
&lt;h1&gt;Jugando con&amp;nbsp;Compiz&lt;/h1&gt;
&lt;p&gt;Muchos de los plugins de Compiz se activan intrinsecamente con tan solo cargarlos. Por ejemplo, el efecto &lt;strong&gt;Wobbly&lt;/strong&gt; deformar sin ms nuestras ventanas cada vez que movamos una de ellas. Por el contrario, hay una serie de funcionalidades ocultas que se activan mediante la combinacin de teclas y/o la accin del mouse. A continuacin os muestro las que me han parecido ms&amp;nbsp;interesantes:&lt;/p&gt;
&lt;p&gt;&lt;img alt="Cube" src="/images/old_blog/hsm54_botton.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Cube" src="/images/old_blog/hsm52_botton.png"&gt;&lt;/p&gt;
&lt;p&gt;&lt;img alt="Cube" src="/images/old_blog/compiz_water02.png"&gt;&lt;/p&gt;
&lt;h2&gt;Scale (el Expose de&amp;nbsp;MacOSX)&lt;/h2&gt;
&lt;p&gt;Esta función redimensiona todas las ventanas que tengamos en pantalla de manera que quepan todas en pantalla. Esta funcion es extremadamente útil, sobretodo en portatiles con poca área de visualización, ya que nos permite ver de una vez el contenido de todas las ventanas que tengamos abierta. Luego al hacer click sobre una de las ventanas, esta pasa a primer plano. &lt;span class="caps"&gt;IMHO&lt;/span&gt;, el efecto mejora bastante el de&amp;nbsp;MacOSX.&lt;/p&gt;
&lt;p&gt;Activación: F11 Combinable con el Switcher una vez escladas las&amp;nbsp;ventanas.&lt;/p&gt;
&lt;h2&gt;Switcher&lt;/h2&gt;
&lt;p&gt;Es la legendaria opción de cambio de tarea &lt;code&gt;Alt+Tab&lt;/code&gt; per mejorada muy mucho. La principal novedad es que no vemos un carrusel de iconos, sino que veremos una previsualización de las aplicaciones!. En el caso de un reproductor de video, veremos el video ejecutandose, en el caso de Amarok o &lt;span class="caps"&gt;XMMS&lt;/span&gt;, veremos incluso las visualizaciones tipo espectro y el display de segmentos mostrando la canción que suena sin más!!! Sin duda muy útil y espectacular.&amp;nbsp;Activación:&lt;/p&gt;
&lt;p&gt;Alt+Tab&lt;/p&gt;
&lt;h2&gt;Rotate&lt;/h2&gt;
&lt;p&gt;Esta es sin duda una de las opciones ms espectaculare y que ms ha dado que hablar, si bien no creo que sea de las ms tiles. Consiste en la posibilidad de cambiar de desktop haciendo girar toda la pantalla como si de un cubo se tratara. Es posible incluso poner una aplicacin en una de las esquinas del cubo y hacerlo rotar!. La informacin que muestran las ventanas es completamente en tiempo real. Veamos como&amp;nbsp;utilizarlo&lt;/p&gt;
&lt;p&gt;Activación: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Ctrl + Alt + Teclas Iqz/Derecha  (Rotamos el desktop utilizando el&amp;nbsp;teclado)&lt;/li&gt;
&lt;li&gt;Ctrl + Shift + Alt + Teclas Izq/Dercha (Rotamos el desktop utilizando el teclado. La ventana activa se queda fuera del cubo llendo a parar al nuevo&amp;nbsp;desktop)&lt;/li&gt;
&lt;li&gt;Ctrl + Alt + boton mouse izq (rota el desktop manualmente. Hemos de tener el fondo de pantalla en el foco del&amp;nbsp;mouse)&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Otras combinaciones de teclas para activar modulos de&amp;nbsp;Compiz&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Slow-motion = Shift + F10 (Activa y descativo todos los movimientos a velocidad super lenta o&amp;nbsp;normal)&lt;/li&gt;
&lt;li&gt;Transparencias = Ctrl + Alt + ruedecita del mouse. (varia el grado de transparencia de la ventana que esta en primer&amp;nbsp;plano)&lt;/li&gt;
&lt;li&gt;Zoom = Windows Key + wheel mouse (Solo me ha funcionado en&amp;nbsp;NVidia)&lt;/li&gt;
&lt;li&gt;Water = Crtl + WinKey Es necesario cargar el plugin water. En su modalidad Rain (shift + F9) simula el efecto de las gotas de lluvia al caer sobre el desktop, como si de un lago se&amp;nbsp;tratara.&lt;/li&gt;
&lt;/ul&gt;
&lt;h1&gt;Rendimiento&lt;/h1&gt;
&lt;p&gt;Ni que decir tiene que el rendimiento en un Xeon con 2GBytes de &lt;span class="caps"&gt;RAM&lt;/span&gt; y una NVidia Quadro &lt;span class="caps"&gt;FX&lt;/span&gt; es realmente expectacular y que la carga del sistema apenas se ve afectada. Por contra, en mi modesto portatil la cosa cambia bastante. Sobretodo si lo intento utilizar junto a kxdocker (barra de herramientas tipo MacOS X. Pese a que en el portatil no se ve tan suelto como en la workstation, la principal limitacin es que que la aceleracin XVideo no funciona para las tarjetas i915 y i945. El scroll de una web larga en el navegador se vuelve desesperante.
Por todo esto, se recomienda esperar a las versiones Xgl y Compiz de la Release Candidate 1 de SuSE 10.1 si utilizas el driver i914  i945 de&amp;nbsp;Intel.&lt;/p&gt;
&lt;h1&gt;Bugs y&amp;nbsp;limitaciones&lt;/h1&gt;
&lt;p&gt;Tanto utilizando el driver de NVidia como el Intel, hay situaciones que Xgl no maneja bien o directamente se cuelga. Por&amp;nbsp;ejemplo: &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;En ambos casos, juegos como Frozen Bubble no se muestran&amp;nbsp;correctamente.&lt;/li&gt;
&lt;li&gt;Las notas de Knotes (No se visualizan correctamente con el driver de intel). Actualización: Tras actualizar xgl, compiz y algunas librerias a 10.1 &lt;span class="caps"&gt;RC1&lt;/span&gt;, se han solventado los&amp;nbsp;problemas.&lt;/li&gt;
&lt;li&gt;No es posible ver videos &lt;span class="caps"&gt;AVI&lt;/span&gt; (mplayer + drivers xv o xdivx) con el modulo de&amp;nbsp;Intel.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;strong&gt;Nota&lt;/strong&gt;: Poco a poco ir añadiendo aquí los fallos que me vaya&amp;nbsp;encontrando.&lt;/p&gt;
&lt;h1&gt;Conclusión&lt;/h1&gt;
&lt;p&gt;De todas todas, si lo que quieres es utilizar xgl y compiz en un entrono de trabajo &lt;span class="caps"&gt;REAL&lt;/span&gt; lo deseable seria esperar a que se libere 10.1 y disponer de una tarjeta grafica completamente soportada. No obstante, si no deseas ejecutar todos los plugins disponibles, quizas puedas ir utilizando aquellos modulos que no te den&amp;nbsp;problemas.&lt;/p&gt;
&lt;p&gt;En el portatil, muchas aplicaciones que hacian uso de aceleraion XVideo producian un cuelgue total del&amp;nbsp;sistema.&lt;/p&gt;
&lt;p&gt;Así, no he conseguido reproducir  video con mplayer ni ejecutar muchos&amp;nbsp;juegos.&lt;/p&gt;
&lt;p&gt;Por el contrario, el trabajo con la workstation y el driver NVidia ha sido realmente increible. Sólo he medio-colgado una vez el sistema al ejecutar un juego.
El resto de funciones se han comportado muy bien (increiblemente rpido y movimientos suaves y sin saltos).
La carga de la máquina era siempre la misma hiciera lo que hiciera. Muy, muy recomendable si dispones de un equipo potente y&amp;nbsp;soportado.&lt;/p&gt;</content><category term="Spanish"></category><category term="xgl"></category><category term="compiz"></category></entry><entry><title>Apple Computers cumple 30 años</title><link href="https://frommelmak.com/apple-computers-cumple-30-anos.html" rel="alternate"></link><published>2006-04-02T23:31:49+02:00</published><updated>2006-04-02T23:31:49+02:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-04-02:/apple-computers-cumple-30-anos.html</id><summary type="html">&lt;p&gt;La compañia de la manzana cumplió ayer 30 años de&amp;nbsp;vida.&lt;/p&gt;
&lt;p&gt;Son muchas las webs dedicadas a la historia de esta compañia, asi que dejo como referencia su &lt;a href="http://en.wikipedia.org/wiki/Apple_Computer"&gt;entrada&lt;/a&gt; en la wikipedia y la noticia publicada en &lt;a href="http://www.engadget.com/2006/04/01/30-years-in-apple-products-the-good-the-bad-and-the-ugly/"&gt;engadget&lt;/a&gt; al respecto.
Por lo visto, todo el mundo ha pensado en lo …&lt;/p&gt;</summary><content type="html">&lt;p&gt;La compañia de la manzana cumplió ayer 30 años de&amp;nbsp;vida.&lt;/p&gt;
&lt;p&gt;Son muchas las webs dedicadas a la historia de esta compañia, asi que dejo como referencia su &lt;a href="http://en.wikipedia.org/wiki/Apple_Computer"&gt;entrada&lt;/a&gt; en la wikipedia y la noticia publicada en &lt;a href="http://www.engadget.com/2006/04/01/30-years-in-apple-products-the-good-the-bad-and-the-ugly/"&gt;engadget&lt;/a&gt; al respecto.
Por lo visto, todo el mundo ha pensado en lo de los tres logos que ha tenido Apple a lo largo de sus historia, para ilustar la&amp;nbsp;noticia.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Apple logos" src="images/old_blog/apple30.jpg"&gt;&lt;/p&gt;</content><category term="Spanish"></category><category term="apple"></category></entry><entry><title>Como mover un sistema GNU/Linux ya instalado a un HDD mayor</title><link href="https://frommelmak.com/como-mover-un-sistema-gnulinux-ya-instalado-a-un-hdd-mayor.html" rel="alternate"></link><published>2006-02-21T17:09:57+01:00</published><updated>2006-02-21T17:09:57+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-02-21:/como-mover-un-sistema-gnulinux-ya-instalado-a-un-hdd-mayor.html</id><summary type="html">&lt;p&gt;En ocasiones el Norton Ghost falla inesperadamente al intentar clonar un sistema &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux a un disco de mayor&amp;nbsp;tamańo.&lt;/p&gt;
&lt;p&gt;Cuando esto sucede, o bien cuando simplemente no queremos recurrir a soluciones propietarias, es posible utilizar el método descrito a&amp;nbsp;continuación.&lt;/p&gt;
&lt;p&gt;&lt;img alt="HDD" src="images/old_blog/harddisk.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Para seguir este método , es necesario utilizar una version …&lt;/p&gt;</summary><content type="html">&lt;p&gt;En ocasiones el Norton Ghost falla inesperadamente al intentar clonar un sistema &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux a un disco de mayor&amp;nbsp;tamańo.&lt;/p&gt;
&lt;p&gt;Cuando esto sucede, o bien cuando simplemente no queremos recurrir a soluciones propietarias, es posible utilizar el método descrito a&amp;nbsp;continuación.&lt;/p&gt;
&lt;p&gt;&lt;img alt="HDD" src="images/old_blog/harddisk.jpg"&gt;&lt;/p&gt;
&lt;p&gt;Para seguir este método , es necesario utilizar una version Live de &lt;span class="caps"&gt;GNU&lt;/span&gt;/Linux. La más popular de ellas es Knoppix, la cual esta disponible tanto en imágenes para &lt;span class="caps"&gt;CD&lt;/span&gt;-&lt;span class="caps"&gt;ROM&lt;/span&gt; como para  &lt;span class="caps"&gt;DVD&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Puedes utilizar cualquier de los sitios que aparecen en este enlace para descargar la&amp;nbsp;imagen:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.knopper.net/knoppix-mirrors/"&gt;http://www.knopper.net/knoppix-mirrors/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;A grandes rasgos, el proceso que seguiremos es&amp;nbsp;este:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Pincharemos los dos discos en el sistema y lo arrancaremos con el Live-&lt;span class="caps"&gt;CD&lt;/span&gt;/&lt;span class="caps"&gt;DVD&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Volcaremos el contenido del primer disco en el&amp;nbsp;segundo.&lt;/li&gt;
&lt;li&gt;Recreamos la tabla de&amp;nbsp;particiones&lt;/li&gt;
&lt;li&gt;Expandimos el filesytem para ajustarse a la nueva&amp;nbsp;particion&lt;/li&gt;
&lt;li&gt;Recreamos el area de swap (en caso de que sea&amp;nbsp;necesario)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Prerequisitos&lt;/p&gt;
&lt;p&gt;En este ejemplo, vamos a suponer que las particiones de datos de nuestro sistema utilizan el sistema de ficheros ext2/ext3 y discos duros &lt;span class="caps"&gt;SCSI&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Por otro lado, la partición que deseamos expandir, ha de ser la última con datos del disco duro. Si la última particiaon no tiene datos, como la de swap, entonces la podemos eliminar sin más, ya que la podemos volver a crear al final del disco duro sin&amp;nbsp;problemas.&lt;/p&gt;
&lt;p&gt;Todo esto, se basa en el hecho de que es posible eliminar una partición y volver a crearla sin perder los datos que contiene. Para ello, el único requisito es que la nueva partición empiece en el mismo punto que la anterior, haciendo que el final esté más lejos (aprovechando el espacio adicional del nuevo&amp;nbsp;disco.)&lt;/p&gt;
&lt;p&gt;Sigue los siguientes&amp;nbsp;pasos:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Conecta el nuevo disco duro al sistema. Quizás necesites modificar el identificador &lt;span class="caps"&gt;SCSI&lt;/span&gt; para evitar conflictos con el disco duro&amp;nbsp;existente.&lt;/li&gt;
&lt;li&gt;Arranca el sistema con el Live-&lt;span class="caps"&gt;CD&lt;/span&gt;/&lt;span class="caps"&gt;DVD&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;Abre un terminal y conviertete en root ( con el comando &lt;code&gt;su&lt;/code&gt; sin password en&amp;nbsp;Knoppix)&lt;/li&gt;
&lt;li&gt;Ahora necesitamos saber los ficheros de dispositivo asociados a cada disco duro (&lt;code&gt;/dev/sda&lt;/code&gt; y &lt;code&gt;/dev/sdb&lt;/code&gt; probablemente si son &lt;span class="caps"&gt;SCSI&lt;/span&gt;). Puedes utilizar el comando &lt;code&gt;sfdisk -s&lt;/code&gt; para&amp;nbsp;ello.&lt;/li&gt;
&lt;li&gt;Suponiendo que tienes el disco viejo en &lt;code&gt;/dev/sda&lt;/code&gt; y el nuevo en &lt;code&gt;/dev/sdb&lt;/code&gt;, utiliza el commando &lt;code&gt;dd&lt;/code&gt; para volcar el contenido del disco viejo en el&amp;nbsp;nuevo:&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Ejemplo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;dd if=/dev/sda of=/dev/sdb&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Truco&lt;/strong&gt;: Comando &lt;code&gt;dd&lt;/code&gt; en modo&amp;nbsp;&amp;#8220;verbose&amp;#8221;&lt;/p&gt;
&lt;p&gt;El comando &lt;code&gt;dd&lt;/code&gt; no muestra información sobre el proceso de volcado hasta que ha finalizado. Dado que el proceso de volcado de un disco a otro puede llevar un tiempo considerable (del orden de horas a veces) sería muy interesante poder ver información relativa a la cantidad de datos&amp;nbsp;volcados.&lt;/p&gt;
&lt;p&gt;Para ello podemos recurrir a este &lt;code&gt;truco&lt;/code&gt; que consiste en eviarle al proceso &lt;code&gt;dd&lt;/code&gt; la seńal &lt;code&gt;USR1&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Esto provoca que el comando &lt;code&gt;dd&lt;/code&gt; saque por pantalla la cantidad de bytes transmitidos hasta el&amp;nbsp;momento.&lt;/p&gt;
&lt;p&gt;De esta manera, podermos ir viendo la progresión del&amp;nbsp;volcado.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;kill USR1 `ps -C dd -o pid=`&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;ul&gt;
&lt;li&gt;Cuando el comando &lt;code&gt;dd&lt;/code&gt; finaliza, hemos de recrear la tabla de particiones del nuevo disco duro. Esto nos permitirá ampliar el filesystem de la partición primaria de nuestro nuevo&amp;nbsp;sistema.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Para reparticionar el disco duro nuevo, utilizaremos &lt;code&gt;fdisk&lt;/code&gt;.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;fisk /dev/sdb&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Utilizando los comandos que nos proporciona la consola de fdisk, es sumamente sencillo recrear la partición de&amp;nbsp;root.&lt;/p&gt;
&lt;p&gt;Supongamos que que disponemos de la partición de &lt;code&gt;/boot&lt;/code&gt; (en &lt;code&gt;/dev/sdb1&lt;/code&gt;) la raiz del sistema (en &lt;code&gt;/dev/sdb2&lt;/code&gt;) y una partición de swap (en &lt;code&gt;/dev/sdb3&lt;/code&gt;). En este caso el procedimiento seria&amp;nbsp;este:&lt;/p&gt;
&lt;p&gt;Eliminaremos las particiones de swap y la raiz del sistema (&lt;code&gt;/dev/sdb3&lt;/code&gt; y &lt;code&gt;/dev/sdb2&lt;/code&gt;) utilizando para ello la opción &lt;code&gt;d&lt;/code&gt; de la consola de &lt;code&gt;fdisk&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Luego recrearemos la partición de root (opciones &lt;code&gt;n&lt;/code&gt; y &lt;code&gt;p&lt;/code&gt; de la consola de &lt;code&gt;fdisk&lt;/code&gt;), teniendo especial precaución en que el inicio de la misma sea el mismo que antes de borrarla (&lt;span class="caps"&gt;INTRO&lt;/span&gt; opcion por defecto). El tamańo de la misma dependerá del tamańo de nuestro disco duro, teniendo en cuenta que hemos de dejar espacio suficiente al final para el área de&amp;nbsp;swap.&lt;/p&gt;
&lt;p&gt;Finalmente, recreamos la partición de swap (que puede empezar a continuación de la partición de&amp;nbsp;root).&lt;/p&gt;
&lt;p&gt;Recuerda cambiar el tipo de partición para idendificar esta partición como area de swap (utiliza el comando &lt;code&gt;t&lt;/code&gt; de &lt;code&gt;fdisk&lt;/code&gt; y el tipo 82 para&amp;nbsp;ello).&lt;/p&gt;
&lt;p&gt;Abandona la consola de &lt;code&gt;fdisk&lt;/code&gt; utilizando la opción &lt;code&gt;w&lt;/code&gt; para que los cambios que has realizado tengan&amp;nbsp;efecto.&lt;/p&gt;
&lt;p&gt;Ahora llega el momento de expander el filesystem de la partición raiz para que se ajueste al tamańo de la nueva&amp;nbsp;partición.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;resize2fs p /dev/sdb2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Finalmente, creamos y activamos el nuevo area de&amp;nbsp;swap&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;mkswap /dev/sdb3&lt;/span&gt;
&lt;span class="go"&gt;swapon /dev/sdb3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Esto es todo. Reinicia el sistema con el nuevo disco&amp;nbsp;duro.&lt;/p&gt;
&lt;p&gt;Una vez arancado, puedes chequear el espacio disponible en la nueva partición raiz con el&amp;nbsp;comando:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;df -h&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content><category term="Spanish"></category><category term="hdd"></category><category term="dd"></category></entry><entry><title>Grabando DVDs en FreeBSD 5.3</title><link href="https://frommelmak.com/grabando-dvds-en-freebsd-53.html" rel="alternate"></link><published>2006-02-02T23:13:12+01:00</published><updated>2006-02-02T23:13:12+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-02-02:/grabando-dvds-en-freebsd-53.html</id><summary type="html">&lt;p&gt;Hace tiempo que el backup de los ficheros sensibles de mi server no cabe en un único &lt;span class="caps"&gt;CDROM&lt;/span&gt;. El resultado práctico de esto es que el proceso automatico de backup requiere ahora de intervención humana, por lo que hace tiempo que no hago backups a soportes&amp;nbsp;fisicos.&lt;/p&gt;
&lt;p&gt;Hoy por fin …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hace tiempo que el backup de los ficheros sensibles de mi server no cabe en un único &lt;span class="caps"&gt;CDROM&lt;/span&gt;. El resultado práctico de esto es que el proceso automatico de backup requiere ahora de intervención humana, por lo que hace tiempo que no hago backups a soportes&amp;nbsp;fisicos.&lt;/p&gt;
&lt;p&gt;Hoy por fin, me he decidido a solventar el problema. Para ello he sustituido la actual unidad de CDs, por una de DVDs. Concretamente una regrabadora de DVDs/CDs 16x de &lt;strong&gt;&lt;span class="caps"&gt;LG&lt;/span&gt; &lt;span class="caps"&gt;GSA&lt;/span&gt;-4167B&lt;/strong&gt;.&lt;/p&gt;
&lt;p&gt;A continuación explico como instalar una grabadora de DVDs/CDs en &lt;strong&gt;FreeBSD 5.3&lt;/strong&gt; y como utilizar &lt;code&gt;growisofs&lt;/code&gt; para quemar&amp;nbsp;DVDs.&lt;/p&gt;
&lt;p&gt;Grabando CDs en&amp;nbsp;FreeBSD:&lt;/p&gt;
&lt;p&gt;Actualmente, utilizaba un sencillo script que metia todos los datos sensibles del server (las webs básicamente) en en tarball, creaba la imagen mediante &lt;code&gt;mkisofs&lt;/code&gt; y lo volcaba todo al &lt;span class="caps"&gt;CD&lt;/span&gt; mediante &lt;code&gt;burncd&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Esta tool forma parte de la base del sistema FreeBSD, por lo que suele funcionar sin problemas si tienes las suerte de que tu grabadora este entre las soportadas. Si no lo está, simpre te queda la opción de tratar de acceder al dispositivo a traves del subsistema &lt;span class="caps"&gt;SCSI&lt;/span&gt;. Para ello, hemos de recompilar el kernel y ańadir soporte &lt;span class="caps"&gt;ATAPI&lt;/span&gt;/&lt;span class="caps"&gt;CAM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;Una vez hecho esto, deberiamos poder utilizar el programa &lt;code&gt;cdrecord&lt;/code&gt; para para quemar nuestros&amp;nbsp;CDs.&lt;/p&gt;
&lt;h2&gt;Grabando DVDs en&amp;nbsp;FreeBSD:&lt;/h2&gt;
&lt;p&gt;Para trabajar con DVDs, utilizaremos &lt;code&gt;growisofs&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Esta tool es en realidad un frontend a &lt;code&gt;mkisofs&lt;/code&gt; pero además nos brinda la posibilidad de quemar directamente los DVDs. De esta manera, con &lt;code&gt;growisofs&lt;/code&gt; podemos crear la imagen &lt;span class="caps"&gt;ISO&lt;/span&gt; y quemarla al &lt;span class="caps"&gt;DVD&lt;/span&gt; en un sólo&amp;nbsp;paso. &lt;/p&gt;
&lt;p&gt;&lt;code&gt;growisofs&lt;/code&gt; es parte del paquete &lt;code&gt;dvd+rw-tools&lt;/code&gt;, y accede a la grabadora utilizando el subsistema &lt;span class="caps"&gt;SCSI&lt;/span&gt;. Así pues necesitaremos un kernel con soporte &lt;span class="caps"&gt;ATAPI&lt;/span&gt;/&lt;span class="caps"&gt;CAM&lt;/span&gt;.&lt;/p&gt;
&lt;p&gt;En primer lugar, instalaremos las &lt;code&gt;dvd+rw-tools&lt;/code&gt; en nuestros&amp;nbsp;sistema:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /usr/ports/sysutils/dvd+rw-tools&lt;/span&gt;
&lt;span class="go"&gt;make install &amp;amp;&amp;amp; make clean&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora necesitamos compilar un kernel con soporte &lt;span class="caps"&gt;ATAPI&lt;/span&gt;/&lt;span class="caps"&gt;CAM&lt;/span&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;cd /usr/src/sys/i386/conf/&lt;/span&gt;
&lt;span class="go"&gt;cp GENERIC GENERIC_wtih_ATAPI_CAM&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Editamos el fichero &lt;code&gt;GENERIC_wtih_ATAPI_CAM&lt;/code&gt; y ańadimos&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;device          atapicam        # ATAPI/CAM Support using the SCSI subsystem&lt;/span&gt;

&lt;span class="go"&gt;config GENERIC_wtih_ATAPI_CAM&lt;/span&gt;
&lt;span class="go"&gt;cd ../compile/GENERIC_wtih_ATAPI_CAM/&lt;/span&gt;
&lt;span class="go"&gt;make depend&lt;/span&gt;
&lt;span class="go"&gt;make&lt;/span&gt;
&lt;span class="go"&gt;make install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora, tras rebotar deberiamos tener acceso a nuestra grabadora utilizando el subsistema &lt;span class="caps"&gt;SCSI&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;Antes de rebotar vemos&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; camcontrol devlist
&lt;span class="go"&gt;QUANTUM ATLAS10K2-TY184L DA40    at scbus0 target 0 lun 0 (pass0,da0)&lt;/span&gt;

&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; cdrecord --scanbus
&lt;span class="go"&gt;Cdrecord 2.00.3 (i386-unknown-freebsd5.3) Copyright (C) 1995-2002 Jg Schilling &lt;/span&gt;
&lt;span class="go"&gt;Using libscg version &amp;#39;schily-0.7&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;        0,0,0     0) &amp;#39;QUANTUM &amp;#39; &amp;#39;ATLAS10K2-TY184L&amp;#39; &amp;#39;DA40&amp;#39; Disk&lt;/span&gt;
&lt;span class="go"&gt;        0,1,0     1) *&lt;/span&gt;
&lt;span class="go"&gt;        0,2,0     2) *&lt;/span&gt;
&lt;span class="go"&gt;        0,3,0     3) *&lt;/span&gt;
&lt;span class="go"&gt;        0,4,0     4) *&lt;/span&gt;
&lt;span class="go"&gt;        0,5,0     5) *&lt;/span&gt;
&lt;span class="go"&gt;        0,6,0     6) *&lt;/span&gt;
&lt;span class="go"&gt;        0,7,0     7) *&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Si todo va bien, tras reiniciar el sistema deberiamos ver algo asi&amp;nbsp;como:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; cdrecord --scanbus
&lt;span class="go"&gt;Cdrecord 2.00.3 (i386-unknown-freebsd5.3) Copyright (C) 1995-2002 Jg Schilling&lt;/span&gt;
&lt;span class="go"&gt;Using libscg version &amp;#39;schily-0.7&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;scsibus0:&lt;/span&gt;
&lt;span class="go"&gt;        0,0,0     0) &amp;#39;QUANTUM &amp;#39; &amp;#39;ATLAS10K2-TY184L&amp;#39; &amp;#39;DA40&amp;#39; Disk&lt;/span&gt;
&lt;span class="go"&gt;        0,1,0     1) *&lt;/span&gt;
&lt;span class="go"&gt;        0,2,0     2) *&lt;/span&gt;
&lt;span class="go"&gt;        0,3,0     3) *&lt;/span&gt;
&lt;span class="go"&gt;        0,4,0     4) *&lt;/span&gt;
&lt;span class="go"&gt;        0,5,0     5) *&lt;/span&gt;
&lt;span class="go"&gt;        0,6,0     6) *&lt;/span&gt;
&lt;span class="go"&gt;        0,7,0     7) *&lt;/span&gt;
&lt;span class="go"&gt;scsibus1:&lt;/span&gt;
&lt;span class="go"&gt;        1,0,0   100) &amp;#39;HL-DT-ST&amp;#39; &amp;#39;CD-RW GCE-8400B &amp;#39; &amp;#39;1.02&amp;#39; Removable CD-ROM&lt;/span&gt;
&lt;span class="go"&gt;        1,1,0   101) *&lt;/span&gt;
&lt;span class="go"&gt;        1,2,0   102) *&lt;/span&gt;
&lt;span class="go"&gt;        1,3,0   103) *&lt;/span&gt;
&lt;span class="go"&gt;        1,4,0   104) *&lt;/span&gt;
&lt;span class="go"&gt;        1,5,0   105) *&lt;/span&gt;
&lt;span class="go"&gt;        1,6,0   106) *&lt;/span&gt;
&lt;span class="go"&gt;        1,7,0   107) *&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Bien! Ya tenemos soporte. Ahora sólo hemos de pinchar la grabadora de DVDs y ver si el sistema también es capaz de&amp;nbsp;detectarla.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; cdrecord --scanbus
&lt;span class="go"&gt;Cdrecord 2.00.3 (i386-unknown-freebsd5.3) Copyright (C) 1995-2002 Jg Schilling&lt;/span&gt;
&lt;span class="go"&gt;Using libscg version &amp;#39;schily-0.7&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;scsibus0:&lt;/span&gt;
&lt;span class="go"&gt;       0,0,0     0) &amp;#39;QUANTUM &amp;#39; &amp;#39;ATLAS10K2-TY184L&amp;#39; &amp;#39;DA40&amp;#39; Disk&lt;/span&gt;
&lt;span class="go"&gt;       0,1,0     1) *&lt;/span&gt;
&lt;span class="go"&gt;       0,2,0     2) *&lt;/span&gt;
&lt;span class="go"&gt;       0,3,0     3) *&lt;/span&gt;
&lt;span class="go"&gt;       0,4,0     4) *&lt;/span&gt;
&lt;span class="go"&gt;       0,5,0     5) *&lt;/span&gt;
&lt;span class="go"&gt;       0,6,0     6) *&lt;/span&gt;
&lt;span class="go"&gt;       0,7,0     7) *&lt;/span&gt;
&lt;span class="go"&gt;scsibus1:&lt;/span&gt;
&lt;span class="go"&gt;       1,0,0   100) &amp;#39;HL-DT-ST&amp;#39; &amp;#39;CD-RW GCE-8400B &amp;#39; &amp;#39;1.02&amp;#39; Removable CD-ROM&lt;/span&gt;
&lt;span class="go"&gt;       1,1,0   101) *&lt;/span&gt;
&lt;span class="go"&gt;       1,2,0   102) *&lt;/span&gt;
&lt;span class="go"&gt;       1,3,0   103) *&lt;/span&gt;
&lt;span class="go"&gt;       1,4,0   104) *&lt;/span&gt;
&lt;span class="go"&gt;       1,5,0   105) *&lt;/span&gt;
&lt;span class="go"&gt;       1,6,0   106) *&lt;/span&gt;
&lt;span class="go"&gt;       1,7,0   107) *&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Bueno, parece que vamos por el buen camino. A ver si además de verlo somos capaces de leer y/o grabar algo.
En primer lugar hemos de saber a traves de qué dispositivo accederemos a la unidad. Para ello, el comando camcontrol puede sernos de&amp;nbsp;utilidad:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; camcontrol devlist
&lt;span class="go"&gt;QUANTUM ATLAS10K2-TY184L DA40    at scbus0 target 0 lun 0 (pass0,da0)&lt;/span&gt;
&lt;span class="go"&gt;HL-DT-ST DVDRAM GSA-4167B DL12   at scbus1 target 0 lun 0 (pass1,cd0)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora ya lo sabemos (&lt;code&gt;/dev/cd0&lt;/code&gt;) introducimos un &lt;span class="caps"&gt;DVD&lt;/span&gt; en la unidad y utilizando el siguiente comando veremos si somos capaces de reconocer el &lt;span class="caps"&gt;DVD&lt;/span&gt; que hemos&amp;nbsp;introducido:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; dvd+rw-mediainfo /dev/cd0
&lt;span class="go"&gt;INQUIRY:                [HL-DT-ST][DVDRAM GSA-4167B][DL12]&lt;/span&gt;
&lt;span class="go"&gt;GET [CURRENT] CONFIGURATION:&lt;/span&gt;
&lt;span class="go"&gt; Mounted Media:         10h, DVD-ROM&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#0:    02/404849 R@2.5x1385=3503KB/s W@6.1x1385=8467KB/s&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#1:    02/404849 R@2.5x1385=3503KB/s W@5.1x1385=7056KB/s&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#2:    02/404849 R@2.5x1385=3503KB/s W@4.1x1385=5645KB/s&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#3:    02/404849 R@2.5x1385=3503KB/s W@3.1x1385=4234KB/s&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#4:    02/404849 R@2.5x1385=3503KB/s W@2.0x1385=2822KB/s&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#5:    02/404849 R@2.5x1385=3503KB/s W@1.0x1385=1411KB/s&lt;/span&gt;
&lt;span class="go"&gt; Speed Descriptor#6:    02/404849 R@2.5x1385=3503KB/s W@0.5x1385=706KB/s&lt;/span&gt;
&lt;span class="go"&gt;READ DVD STRUCTURE[#0h]:&lt;/span&gt;
&lt;span class="go"&gt; Media Book Type:       01h, DVD-ROM book [revision 1]&lt;/span&gt;
&lt;span class="go"&gt; Legacy lead-out at:    2080080*2KB=4260003840&lt;/span&gt;
&lt;span class="go"&gt;READ DISC INFORMATION:&lt;/span&gt;
&lt;span class="go"&gt; Disc status:           complete&lt;/span&gt;
&lt;span class="go"&gt; Number of Sessions:    1&lt;/span&gt;
&lt;span class="go"&gt; State of Last Session: complete&lt;/span&gt;
&lt;span class="go"&gt; Number of Tracks:      1&lt;/span&gt;
&lt;span class="go"&gt;READ TRACK INFORMATION[#1]:&lt;/span&gt;
&lt;span class="go"&gt; Track State:           complete&lt;/span&gt;
&lt;span class="go"&gt; Track Start Address:   0*2KB&lt;/span&gt;
&lt;span class="go"&gt; Free Blocks:           0*2KB&lt;/span&gt;
&lt;span class="go"&gt; Track Size:            2080080*2KB&lt;/span&gt;
&lt;span class="go"&gt;FABRICATED TOC:&lt;/span&gt;
&lt;span class="go"&gt; Track#1  :             14@0&lt;/span&gt;
&lt;span class="go"&gt; Track#AA :             14@2080080&lt;/span&gt;
&lt;span class="go"&gt; Multi-session Info:    #1@0&lt;/span&gt;
&lt;span class="go"&gt;READ CAPACITY:          2080080*2048=4260003840&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Vale, ahora metemos el primer &lt;span class="caps"&gt;DVD&lt;/span&gt; que tengamos a mano e intentaremos&amp;nbsp;montarlo:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; mount_cd9660 /dev/cd0 /mnt
&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; ls /mnt
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Bueno, la prueba final es tratar de grabar algo en un &lt;span class="caps"&gt;DVD&lt;/span&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="gp"&gt;root@patxi:~#&lt;/span&gt; growisofs -dvd-compat -Z /dev/cd0 -J -R /home/melmak/backup.tar
&lt;span class="go"&gt;Executing &amp;#39;/usr/local/bin/mkisofs -J -R /home/melmak/backup.tar | builtin_dd of=/dev/pass1 obs=32k seek=0&amp;#39;&lt;/span&gt;
&lt;span class="go"&gt;/dev/pass1: &amp;quot;Current Write Speed&amp;quot; is 8.2x1385KBps.&lt;/span&gt;
&lt;span class="go"&gt;  1.13% done, estimate finish Thu Feb  2 23:32:49 2006&lt;/span&gt;
&lt;span class="go"&gt;  2.27% done, estimate finish Thu Feb  2 23:17:23 2006&lt;/span&gt;
&lt;span class="go"&gt;  3.40% done, estimate finish Thu Feb  2 23:12:15 2006&lt;/span&gt;
&lt;span class="go"&gt;  .&lt;/span&gt;
&lt;span class="go"&gt;  .&lt;/span&gt;
&lt;span class="go"&gt;  .&lt;/span&gt;
&lt;span class="go"&gt;  98.48% done, estimate finish Thu Feb  2 23:02:22 2006&lt;/span&gt;
&lt;span class="go"&gt;  99.62% done, estimate finish Thu Feb  2 23:02:21 2006&lt;/span&gt;
&lt;span class="go"&gt;Total translation table size: 0&lt;/span&gt;
&lt;span class="go"&gt;Total rockridge attributes bytes: 251&lt;/span&gt;
&lt;span class="go"&gt;Total directory bytes: 0&lt;/span&gt;
&lt;span class="go"&gt;Path table size(bytes): 10&lt;/span&gt;
&lt;span class="go"&gt;Max brk space used bac4&lt;/span&gt;
&lt;span class="go"&gt;441712 extents written (862 Mb)&lt;/span&gt;
&lt;span class="go"&gt;builtin_dd: 441712*2KB out @ average 6.5x1385KBps&lt;/span&gt;
&lt;span class="go"&gt;/dev/pass1: flushing cache&lt;/span&gt;
&lt;span class="go"&gt;/dev/pass1: updating RMA&lt;/span&gt;
&lt;span class="go"&gt;/dev/pass1: closing disc&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Ahora podemos montar el &lt;span class="caps"&gt;DVD&lt;/span&gt; para comprobar que los datos se han grabado&amp;nbsp;correctamente.&lt;/p&gt;
&lt;p&gt;En el caso de utilizar un &lt;span class="caps"&gt;DVD&lt;/span&gt; regrabable, antes de quemarlo deberemos formatearlo. Pata ello utilizaremos la herramienta&amp;nbsp;dvd+rw-format:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;dvd+rw-format -blank /dev/cd0&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Esto es todo. Os dejo unas fotos de todo el proceso &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=2&amp;amp;section_type=3&amp;amp;num=&amp;amp;task=view&amp;amp;id_album=24"&gt;aquí&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Más info en el Freebsd&amp;nbsp;Handbook:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/creating-cds.html"&gt;Creating and Using Optical Media&amp;nbsp;(CDs)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.freebsd.org/doc/en_US.ISO8859-1/books/handbook/creating-dvds.html"&gt;Creating and Using Optical Media&amp;nbsp;(DVDs)&lt;/a&gt;&lt;/p&gt;</content><category term="Spanish"></category><category term="freebsd"></category><category term="dvd"></category><category term="burn"></category></entry><entry><title>Disponible el audio de Código libre, hombres libres</title><link href="https://frommelmak.com/disponible-el-audio-de-codigo-libre-hombres-libres.html" rel="alternate"></link><published>2006-01-31T23:33:46+01:00</published><updated>2006-01-31T23:33:46+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-01-31:/disponible-el-audio-de-codigo-libre-hombres-libres.html</id><summary type="html">&lt;p&gt;Hace unas semanas, llegó por fin a mis manos una copia en video de la charla &lt;a href="http://www.bufetalmeida.com/?id=141"&gt;&amp;#8220;Código libre, hombres libres&amp;#8221;&lt;/a&gt;, que &lt;a href="http://www.bufetalmeida.com/"&gt;Carlos Sanchez Almeida&lt;/a&gt; dio el 19 de Octubre del ańo pasado, en un evento organizado por la Asociación de Soporte al Software Libre (&lt;a href="http://www.assl-site.net/"&gt;&lt;span class="caps"&gt;ASSL&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Hoy por fin, tras mucho …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hace unas semanas, llegó por fin a mis manos una copia en video de la charla &lt;a href="http://www.bufetalmeida.com/?id=141"&gt;&amp;#8220;Código libre, hombres libres&amp;#8221;&lt;/a&gt;, que &lt;a href="http://www.bufetalmeida.com/"&gt;Carlos Sanchez Almeida&lt;/a&gt; dio el 19 de Octubre del ańo pasado, en un evento organizado por la Asociación de Soporte al Software Libre (&lt;a href="http://www.assl-site.net/"&gt;&lt;span class="caps"&gt;ASSL&lt;/span&gt;&lt;/a&gt;).&lt;/p&gt;
&lt;p&gt;Hoy por fin, tras mucho tiempo queriendolo hacer, he extraido el audio de la misma. &lt;a href="http://nomeriasdeti.no-ip.com/audio/Codigo_libre_hombres_libres.ogg"&gt;Codigo_libre_hombres_libres.ogg&lt;/a&gt;  (Tamańo 42MBytes) Por cierto, para extraer la pista de audio he utilizado una herramienta que no conocia llamada &lt;a href="http://ffmpeg.sourceforge.net/index.php"&gt;ffmpeg&lt;/a&gt;, la cual os recomiendo por su potencia y&amp;nbsp;simplicidad.&lt;/p&gt;</content><category term="Spanish"></category><category term="free"></category><category term="software"></category><category term="code"></category><category term="ffmpeg"></category></entry><entry><title>Freecom DVB-T USB Stick en SuSE 10.0</title><link href="https://frommelmak.com/freecom-dvb-t-usb-stick-en-suse-100.html" rel="alternate"></link><published>2006-01-03T01:27:25+01:00</published><updated>2006-01-03T01:27:25+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2006-01-03:/freecom-dvb-t-usb-stick-en-suse-100.html</id><summary type="html">&lt;p&gt;Hoy tocaba sesión de compras para reyes, y he aprovechado para autoregalarme un pequeńo gadget. Se trata de una llave &lt;span class="caps"&gt;USB&lt;/span&gt; 2.0 para ver los canales de la &lt;a href="http://www.tdt.es/"&gt;Television Digital Terrestre (&lt;span class="caps"&gt;TDT&lt;/span&gt;)&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La verdad es que no he mirado muchos modelos antes de decidirme por este. Sólo un par …&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hoy tocaba sesión de compras para reyes, y he aprovechado para autoregalarme un pequeńo gadget. Se trata de una llave &lt;span class="caps"&gt;USB&lt;/span&gt; 2.0 para ver los canales de la &lt;a href="http://www.tdt.es/"&gt;Television Digital Terrestre (&lt;span class="caps"&gt;TDT&lt;/span&gt;)&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;La verdad es que no he mirado muchos modelos antes de decidirme por este. Sólo un par de ellos, una &lt;a href="http://www.hauppauge.co.uk/pages/products/data_hvr900.html"&gt;Hauppauge WinTV &lt;span class="caps"&gt;HRV&lt;/span&gt; 900&lt;/a&gt; (compatible con la &lt;span class="caps"&gt;TV&lt;/span&gt; analogica) de tipo pendrive que se iba a los 120€, y una &lt;a href="http://www.avermedia.com/cgi-bin/products_tvtuner_avertvusb2.asp?show=2"&gt;AVerMedia AVerTV &lt;span class="caps"&gt;USB&lt;/span&gt; 2.0&lt;/a&gt; un poco aparatosa ya que era un módulo&amp;nbsp;externo.&lt;/p&gt;
&lt;p&gt;Finalmente, el modelo por el que me he decidido ha sido el que tenia en mente. Una &lt;a href="http://www.freecom.com/ecProduct_detail.asp?ID=2234&amp;amp;nr=25451&amp;amp;prodn=DVB%2DT+USB+Stick"&gt;Freecom &lt;span class="caps"&gt;DVB&lt;/span&gt;-T &lt;span class="caps"&gt;USB&lt;/span&gt; Stick&lt;/a&gt;, que me ha salido por 62,90€ (sin buscar&amp;nbsp;demasiado)&lt;/p&gt;
&lt;p&gt;Bueno, pues a continuación os explico mis experiencias al pinchar el receptor en una SuSE&amp;nbsp;10.0.&lt;/p&gt;
&lt;p&gt;Al pinchar el receptor, simplemente no pasa nada. Se cargan unos cuantos modulos en el kernel pero el dispositivo parece estar muerto, ya que el led del que dispone ni se&amp;nbsp;enciende.&lt;/p&gt;
&lt;p&gt;Si optas por la via fácil y lo intentas via YaST, tampoco esperes mucho más, ya que la Freecom no aparece entre los dispositivos &lt;span class="caps"&gt;TV&lt;/span&gt; Card&amp;nbsp;soportados.&lt;/p&gt;
&lt;p&gt;Bueno, que no cunda el pánico. Tras googlear durante unos 2 minutos, llegarás a la web de referencia para este tipo de dispositivos que es&amp;nbsp;esta:&lt;/p&gt;
&lt;p&gt;&lt;a href="www.linuxtv.org"&gt;www.linuxtv.org&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Dentro de esta web encontrarás el enlace al wiki que concentra todo el desarrollo de dispositivos &lt;strong&gt;Digital Video Broadcasting - Terrestrial (&lt;span class="caps"&gt;DVB&lt;/span&gt;-T)&lt;/strong&gt; como el que acabo de&amp;nbsp;adquirir.&lt;/p&gt;
&lt;p&gt;En dicho wiki, encontraremos una sección reservada a los dispositivos &lt;span class="caps"&gt;USB&lt;/span&gt;:&lt;/p&gt;
&lt;p&gt;&lt;a href="http://www.linuxtv.org/wiki/index.php/DVB_USB"&gt;&lt;span class="caps"&gt;DVB&lt;/span&gt;/&lt;span class="caps"&gt;ATSC&lt;/span&gt; &lt;span class="caps"&gt;USB&lt;/span&gt; boxes sorted by&amp;nbsp;driver&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Y allí, en la sección  WideView/Yakumo/Hama/Typhoon/Yuan Boxes and Pens encontramos la primera referencia al receptor de Freecom.
Nos informan que nuestro dispositivo tan sólo necesita de estos módulos para&amp;nbsp;funcionar:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;dvb-usb.ko&lt;/span&gt;
&lt;span class="go"&gt;dvb-usb-dtt200u.ko&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Y lo más importate, se nos informa del firmware que es capaz de controlar nuestro dispositivo. Es este&amp;nbsp;fichero:&lt;/p&gt;
&lt;p&gt;&lt;code&gt;dvb-usb-wt220u-01.fw&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Disponible &lt;a href="http://www.linuxtv.org/downloads/firmware/"&gt;aquí&lt;/a&gt; y que deberemos copiar a &lt;code&gt;/lib/firmware&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;Bueno, tras esto, si volvemos a pinchar el receptor &lt;span class="caps"&gt;USB&lt;/span&gt;, veremos que la lucecita del mismo ya muestra actividad, y si damos un vistazo a los módulos que carga el sistema veremos algo como&amp;nbsp;esto:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="go"&gt;melmak@super8:~&amp;gt; lsmod |grep dvb&lt;/span&gt;
&lt;span class="go"&gt;dvb_usb_dtt200u         8580  0&lt;/span&gt;
&lt;span class="go"&gt;dvb_usb                17928  1 dvb_usb_dtt200u&lt;/span&gt;
&lt;span class="go"&gt;dvb_core               77480  1 dvb_usb&lt;/span&gt;
&lt;span class="go"&gt;dvb_pll                 9348  1 dvb_usb&lt;/span&gt;
&lt;span class="go"&gt;i2c_core               20368  2 dvb_usb,i2c_i801&lt;/span&gt;
&lt;span class="go"&gt;firmware_class          9856  3 dvb_usb,pcmcia,ipw2200&lt;/span&gt;
&lt;span class="go"&gt;usbcore               112512  6 dvb_usb_dtt200u,dvb_usb,usbhid,ehci_hcd,uhci_hcd&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Genial, ahora ya estamos en condiciones de utilizar algun software que nos permita ver las emisiones &lt;span class="caps"&gt;DVB&lt;/span&gt;-T.&lt;/p&gt;
&lt;p&gt;Bueno, mis primeras pruebas han sido con Kaffeine. Al principio he tenido algunos problemas, ya que he tenido que instalar algunos paquetes adicionales de Xine via YaST, pero despues de esto, todo ha funcionado perfectamente salvo un pequeńo detalle: con la antena que se suministra no soy capaz de pillar absolutamente nada!!!. Con la antena comunitaria, los resultados han sido bastante mejores, ya que veo los 4 canales de &lt;span class="caps"&gt;TV3&lt;/span&gt; (&lt;span class="caps"&gt;TV3&lt;/span&gt;, 33, 3/24 y 300) que se ven increiblemente&amp;nbsp;nitidos.&lt;/p&gt;
&lt;p&gt;Tras consultar mi zona en la web &lt;a href="http://www.tdt.es/"&gt;www.tdt.es&lt;/a&gt; veo que en principio debería poder ver todos los canales desde el centro de emision de collserola: 21 Nacionales y 4 Autonomicos, pero solo soy capaz de ver los&amp;nbsp;Autonomicos.&lt;/p&gt;
&lt;p&gt;Bueno, por hoy esto es todo. Os dejo &lt;a href="http://nomeriasdeti.no-ip.com/index.php?top_tab=2&amp;amp;section_type=3&amp;amp;num=&amp;amp;task=view&amp;amp;id_album=22"&gt;aquí&lt;/a&gt; unas fotos de todo el&amp;nbsp;proceso.&lt;/p&gt;</content><category term="Spanish"></category><category term="Freecom"></category><category term="dvb"></category><category term="suse"></category></entry><entry><title>Un bonito wallpaper GNU/Linux</title><link href="https://frommelmak.com/un-bonito-wallpaper-gnulinux.html" rel="alternate"></link><published>2005-10-31T10:52:31+01:00</published><updated>2005-10-31T10:52:31+01:00</updated><author><name>frommelmak</name></author><id>tag:frommelmak.com,2005-10-31:/un-bonito-wallpaper-gnulinux.html</id><summary type="html">&lt;p&gt;Hace unos días que he cambiado el wallpaper de mi portatil. He pasado de tener el clasico fondo de pantalla del Mac &lt;span class="caps"&gt;OS&lt;/span&gt; X por este &lt;a href="http://www.loria.fr/~rougier/php/image.php?file=.././art/2005/gnu-tux/gnu-linux-black.jpg"&gt;otro&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Wallpaper" src="images/old_blog/gnu-linux-black.jpg"&gt;&lt;/p&gt;
&lt;p&gt;En la sección &lt;a href="http://www.loria.fr/~rougier/art.php"&gt;Art&lt;/a&gt; de la web del autor (Nicolas P. Rougier), encontrareis más.Como curiosidad, mencionar que han sido realizados con &lt;a href="http://www.povray.org/"&gt;Povray …&lt;/a&gt;&lt;/p&gt;</summary><content type="html">&lt;p&gt;Hace unos días que he cambiado el wallpaper de mi portatil. He pasado de tener el clasico fondo de pantalla del Mac &lt;span class="caps"&gt;OS&lt;/span&gt; X por este &lt;a href="http://www.loria.fr/~rougier/php/image.php?file=.././art/2005/gnu-tux/gnu-linux-black.jpg"&gt;otro&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img alt="Wallpaper" src="images/old_blog/gnu-linux-black.jpg"&gt;&lt;/p&gt;
&lt;p&gt;En la sección &lt;a href="http://www.loria.fr/~rougier/art.php"&gt;Art&lt;/a&gt; de la web del autor (Nicolas P. Rougier), encontrareis más.Como curiosidad, mencionar que han sido realizados con &lt;a href="http://www.povray.org/"&gt;Povray&lt;/a&gt; y &lt;a href="http://www.blender3d.com/cms/Home.2.0.html"&gt;Blender&lt;/a&gt; y que las fuentes están disponibles en un&amp;nbsp;tarball. &lt;/p&gt;</content><category term="Spanish"></category><category term="wallpaper"></category></entry></feed>