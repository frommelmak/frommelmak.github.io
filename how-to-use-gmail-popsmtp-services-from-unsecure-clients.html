<html lang="es">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>    How to use Gmail POP/SMTP services from unsecure clients
 | frommelmak</title>

        <meta name="author" content="Marcos Martinez">
        <meta name="generator" content="Pelican v4.2.0">

        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/css/bootstrap.min.css" integrity="sha512-oc9+XSs1H243/FRN9Rw62Fn8EtxjEYWHXRvjS43YtueEewbS6ObfXcJNyohjHqVKFPoXXUxwc+q1K7Dee6vv9g==" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" integrity="sha512-+4zCK9k+qNFUR5X+cKL9EIR+ZOhtIloNl9GIKS57V1MyNsYpYcUrUeQc9vNfzsWfV28IaLL3i96P9sdNyeRssA==" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css" integrity="sha512-+EoPw+Fiwh6eSeRK7zwIKG2MA8i3rV/DGa3tdttQGgWyatG/SkncT53KHQaS5Jh9MNOT3dmFL0FjTY08And/Cw==" crossorigin="anonymous">

            <link rel="stylesheet" href="https://frommelmak.com/theme/css/main.min.css?3fd22780">

        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.3/js/bootstrap.bundle.min.js" integrity="sha512-iceXjjbmB2rwoX93Ka6HAHP+B76IY1z0o3h+N1PeDtRSsyeetU3/0QKJqGyPJcX63zysNehggFwMC/bi7dvMig==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js" integrity="sha512-IsNh5E3eYy3tr/JiX2Yx4vsCujtkhwl7SLqgnwLNgf04Hrt9BT9SXlLlZlWx+OK4ndzAoALhsMNcCmkggjZB1w==" crossorigin="anonymous"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/fitvids/1.2.0/jquery.fitvids.min.js" integrity="sha512-/2sZKAsHDmHNoevKR/xsUKe+Bpf692q4tHNQs9VWWz0ujJ9JBM67iFYbIEdfDV9I2BaodgT5MIg/FTUmUv3oyQ==" crossorigin="anonymous"></script>

            <script src="https://frommelmak.com/theme/js/main.min.js?86e1c044"></script>


        <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
        <link rel="manifest" href="/site.webmanifest">
        <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#ffc40d">
        <meta name="theme-color" content="#ffffff">

        <!-- Feeds -->

        <meta name="keywords" content="ssl, pop, smtp, gmail, google">

    </head>

    <body class="bg-transparent pt-4">

        <div class="container">

                <a href="https://frommelmak.com" class="avatar-container float-left mx-4">
                    <div class="avatar  animate ">
                        <div class="side"><img src="images/avatar.png" class="img-fluid"></div>
                            <div class="side back text-center pt-2 px-1 small">
                                Alien Life Form
                            </div>
                    </div>
                </a>

            <h1>
                <a href="https://frommelmak.com" class="text-dark text-decoration-none">frommelmak</a>
                <small class="text-secondary"><small>Yet another Melmacian interested in technology...</small></small>
            </h1>

            <nav class="navbar d-block navbar-expand-lg navbar-light bg-light shadow rounded-lg">

                <a class="navbar-brand d-none" href="https://frommelmak.com" title="Yet another Melmacian interested in technology...">frommelmak</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#plumage-navbar-collapse-1" aria-controls="plumage-navbar-collapse-1" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <div class="collapse navbar-collapse" id="plumage-navbar-collapse-1">

                    <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
<li class="nav-item ">
                                <a class="nav-link" href="/">
                                    Home
                                </a>
                            </li>
<li class="nav-item ">
                                    <a class="nav-link" href="https://frommelmak.com/pages/about.html">
                                        About
                                    </a>
                                </li>
                    </ul>


                </div>

            </nav>

        </div>


        <div class="container mt-5">


            <div class="row">
                <div class="
                        col-md-9
">
    <h1>
        <a href="https://frommelmak.com/how-to-use-gmail-popsmtp-services-from-unsecure-clients.html" rel="bookmark" title="Permalink to How to use Gmail POP/SMTP services from unsecure clients">How to use Gmail <span class="caps">POP</span>/<span class="caps">SMTP</span> services from unsecure clients</a>
    </h1>
                </div>
            </div>

            <div class="row">


                <div id="content" role="main" class="
                        col-md-9
">
    

    <p>Sometimes you may need to send or retrieve email notifications using <span class="caps">SMTP</span> or <span class="caps">POP</span> Gmail services, but your client does not support <span class="caps">SSL</span> connections. In such cases you can use a <span class="caps">SSL</span> proxy tunnel such as stunnel.</p>
<p>stunnel is available as a Debian package, and probably in other modern Linux distributions. It is also available as Win32 binary.
The installation in debian is as simple as type:</p>
<div class="highlight pygments-style-monokai rounded shadow-sm mb-3"><pre><span></span><code><span class="go">apt-get install stunnel</span>
</code></pre></div>

<p>Since stunnel relies on OpenSSL libraries, the first thing is create a x509 cert.</p>
<div class="highlight pygments-style-monokai rounded shadow-sm mb-3"><pre><span></span><code><span class="go">cd /etc/ssl/certs</span>
<span class="go">openssl req -new -x509 -days 3650 -nodes -out stunnel.pem -keyout stunnel.pem</span>
</code></pre></div>

<p>Then you need to configure stunnel in order to forward all the traffic in the 110 (<span class="caps">POP</span>) and 25 (<span class="caps">SMPT</span>) to the Gmail 995 and 465 ports respectively.</p>
<div class="highlight pygments-style-monokai rounded shadow-sm mb-3"><pre><span></span><code><span class="go">/etc/stunnel/stunnel.conf</span>
<span class="go">[pop3s]</span>
<span class="go">accept = server_ip_address:110 </span>
<span class="go">connect = pop.gmail.com:995</span>

<span class="go">[ssmtp] </span>
<span class="go">accept = server_ip_address:25</span>
<span class="go">connect = smtp.gmail.com:465</span>
</code></pre></div>

<p>The server_ip_address could be the <span class="caps">LAN</span> interface <span class="caps">IP</span> address or the localhost, depending if the client program is running localy or in some other host in your <span class="caps">LAN</span>.</p>
<p>Finaly, just start de service:</p>
<div class="highlight pygments-style-monokai rounded shadow-sm mb-3"><pre><span></span><code><span class="go">/etc/init.d/stunnel4 start</span>
</code></pre></div>

<p>And test the service:</p>
<div class="highlight pygments-style-monokai rounded shadow-sm mb-3"><pre><span></span><code><span class="go">telnet server_ip_address 110</span>
<span class="go">Trying ...</span>
<span class="go">Connected to somehost.</span>
<span class="go">Escape character is '^]'.</span>
<span class="go">+OK Gpop ready for requests from xx.xx.xx.xx dewf14449283wbe.15</span>
<span class="go">USER your_user@gmail.com</span>
<span class="go">+OK send PASS</span>
<span class="go">PASS your_gmail_pass</span>
<span class="go">+OK Welcome.</span>
<span class="go">LIST</span>
<span class="go">+OK 2 messages (23782 bytes)</span>
<span class="go">1 3124</span>
<span class="go">2 2758</span>
</code></pre></div>

<p>If you can connect with telnet, your client can do it too.</p>
<p><a href="https://twitter.com/oriolrius">@oriolrius</a>, thanks for telling me about this tool.</p>
<p>For more info visit: <a href="http://www.stunnel.org">www.stunnel.org</a>.</p>

        <h3 class="mt-3">Related content</h3>
        <div class="list-group bg-light text-dark">
                <a class="list-group-item list-group-item-action" href="https://frommelmak.com/force-an-old-version-of-tls.html">
                    <div class="d-flex w-100 justify-content-between">
                        <h5>Force an old version of <span class="caps">TLS</span></h5>
                        <abbr class="small published" title="2020-01-20T16:06:00+01:00">
                            2020
                        </abbr>
                    </div>
                    <small>If you -for whatever reason- need to force the old TLS-1.0, you can put the folllowing line en the Apache’s /etc/apache2/mods-enabled/ssl.conf file. SSLProtocol All -TLSv1.1 -TLSv1.2 Note: TLS-1.0 is broken and is considered insecure. This version of the protocol …</small>
                </a>
                <a class="list-group-item list-group-item-action" href="https://frommelmak.com/utilizar-certificados-ssl-en-amazon-elb.html">
                    <div class="d-flex w-100 justify-content-between">
                        <h5>Utilizar certificados <span class="caps">SSL</span> en Amazon <span class="caps">ELB</span></h5>
                        <abbr class="small published" title="2015-02-26T19:03:23+01:00">
                            2015
                        </abbr>
                    </div>
                    <small>En esta entrada voy a tratar de explicar cómo utilizar el servicio de balanceo de carga de Amazon (ELB) como terminador de conexiones SSL. El escenario de partida sería este: Como se observa en este diagrama, todo el tráfico va en plano. Desde el cliente HTTP del usuario/aplicación hasta …</small>
                </a>
        </div>

        <div class="comments mt-5">
            <div id="disqus_thread"></div>
            <script>
                var disqus_config = function () {
                    this.page.url = "https://frommelmak.com/how-to-use-gmail-popsmtp-services-from-unsecure-clients.html";
                    this.page.identifier = "how-to-use-gmail-popsmtp-services-from-unsecure-clients.html";
                };
                (function() {
                    var d = document, s = d.createElement('script');
                    s.src = 'https://frommelmak.disqus.com/embed.js';
                    s.setAttribute('data-timestamp', +new Date());
                    (d.head || d.body).appendChild(s);
                })();
            </script>
            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus</a>.</noscript>
        </div>

                </div>

                    <div class="col-md-3">
    <div class="card bg-light text-dark">
        <ul class="list-group list-group-flush">

            <li class="list-group-item">
                <abbr title="2011-05-23T22:15:55+02:00"><i class="fas fa-calendar"></i> Mon 23 May 2011</abbr>
            </li>

                <li class="list-group-item">
                    <address>
                        <i class="fas fa-user"></i> By
                            <a href="https://frommelmak.com/author/frommelmak.html" rel="author">frommelmak</a>
                    </address>
                </li>

                <li class="list-group-item">
                                <a href="https://frommelmak.com/category/english.html" rel="tag" data-toggle="tooltip" class="badge badge-info" title="15 articles in this category">English</a>
                            <a href="/tag/ssl.html" data-toggle="tooltip" class="badge badge-secondary" title="3 articles with this tag">ssl</a>
                            <a href="/tag/gmail.html" data-toggle="tooltip" class="badge badge-secondary" title="1 article with this tag">gmail</a>
                            <a href="/tag/google.html" data-toggle="tooltip" class="badge badge-secondary" title="1 article with this tag">google</a>
                            <a href="/tag/pop.html" data-toggle="tooltip" class="badge badge-secondary" title="1 article with this tag">pop</a>
                            <a href="/tag/smtp.html" data-toggle="tooltip" class="badge badge-secondary" title="1 article with this tag">smtp</a>
                </li>

                <li class="list-group-item">
                    <p>Found a typo? Fix it now:</p>
                    <a class="btn btn-info btn-block" href="https://github.com/frommelmak/blog/edit/master/content/posts/how-to-use-gmail-popsmtp-services-from-unsecure-clients.md"><i class="fas fa-edit fa-fw"></i> Edit article on GitHub</a>
                </li>

                <li class="list-group-item">
                    <nav class="nav nav-pills nav-fill">
                        <a class="nav-link btn btn-outline-primary border-0 " href="https://frommelmak.com/building-couchdb-from-sources-in-rhel6.html" title="Building CouchDB from sources in RHEL6" rel="prev">
                            <span aria-hidden="true">←</span> Older
                        </a>
                        <a class="nav-link btn btn-outline-primary border-0 " href="https://frommelmak.com/redis-cli-basics.html" title="redis-cli basics" rel="next">
                            Newer <span aria-hidden="true">→</span>
                        </a>
                    </nav>
                </li>

        </ul>
    </div>
                        
                    </div>

            </div>

        </div>

        <footer class="container-fluid mt-5 p-4 small">
            <div class="row mx-5">

                    <div class="col-md-2">
                            <h6>Social</h6>
                            <ul class="list-unstyled">
                                        <li><a href="http://twitter.com/frommelmak">
        <i class="fab fa-twitter fa-fw"></i>
    @frommelmak
</a></li>
                            </ul>
                    </div>
                    <div class="col-md-2">
                            <h6>Links</h6>
                            <ul class="list-unstyled">
                                        <li><a href="http://linkedin.com/in/marcosmartinezjimenez">
        <i class="fab fa-linkedin fa-fw"></i>
    LinkedIn
</a></li>
                                        <li><a href="http://github.com/frommelmak">
        <i class="fab fa-github fa-fw"></i>
    GitHub
</a></li>
                                        <li><a href="http://www.youtube.com/user/melmak">
        <img src="https://www.google.com/s2/favicons?domain=www.youtube.com" width="16" height="16" class="link-icon" alt="www.youtube.com icon">
    Youtube
</a></li>
                            </ul>
                    </div>

                <div class="col-md-2">
                    <h6>Browse content by</h6>
                    <ul class="list-unstyled">
                            <li><a href="https://frommelmak.com/categories/index.html"><i class="fas fa-th fa-fw"></i> Categories</a></li>
                            <li><a href="https://frommelmak.com/archives/index.html"><i class="far fa-calendar-alt fa-fw"></i> Dates</a></li>
                            <li><a href="https://frommelmak.com/tags/index.html"><i class="fas fa-tags fa-fw"></i> Tags</a></li>
                    </ul>
                </div>

                <div class="col-md-2 text-muted">
                    <h6>Copyright notice</h6>
                    <p class="small">
                        © Copyright
                        2005-2020
                        Marcos Martinez.
                    </p>
                </div>

                <div class="col-md-2 text-muted">
                    <h6>Disclaimer</h6>
                    <p class="small">
                            All opinions expressed in this site are my own
                            personal opinions and are not endorsed by, nor
                            do they represent the opinions of my previous,
                            current and future employers or any of its
                            affiliates, partners or customers.
                    </p>
                </div>

                <div class="col-md-2">
                </div>

            </div>
            <div class="row mt-3">

                <div class="offset-3 col-6 small text-muted text-center">
                    Site generated by <a class="text-dark" href="https://getpelican.com">Pelican</a>.<br>
                    <a class="text-dark" href="https://github.com/kdeldycke/plumage">Plumage</a>
                    theme by <a class="text-dark" href="https://kevin.deldycke.com">Kevin Deldycke</a>.
                </div>

                <div class="col-3 text-right d-flex flex-column">
                    <a class="mt-auto" href="#"><i class="fas fa-arrow-up"></i> Back to top</a>
                </div>

            </div>
        </footer>

    </body>
</html>